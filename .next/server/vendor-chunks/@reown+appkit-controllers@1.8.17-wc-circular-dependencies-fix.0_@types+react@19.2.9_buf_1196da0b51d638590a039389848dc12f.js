"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f";
exports.ids = ["vendor-chunks/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/exports/features.js":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/exports/features.js ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthentication: () => (/* reexport safe */ _src_features_siwx_reown_authentication_index_js__WEBPACK_IMPORTED_MODULE_0__.ReownAuthentication),\n/* harmony export */   ReownAuthenticationMessenger: () => (/* reexport safe */ _src_features_siwx_reown_authentication_index_js__WEBPACK_IMPORTED_MODULE_0__.ReownAuthenticationMessenger)\n/* harmony export */ });\n/* harmony import */ var _src_features_siwx_reown_authentication_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/features/siwx/reown-authentication/index.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/index.js\");\n\n//# sourceMappingURL=features.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL2V4cG9ydHMvZmVhdHVyZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1FO0FBQ25FIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9leHBvcnRzL2ZlYXR1cmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4uL3NyYy9mZWF0dXJlcy9zaXd4L3Jlb3duLWF1dGhlbnRpY2F0aW9uL2luZGV4LmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXR1cmVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/exports/features.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js":
/*!****************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js ***!
  \****************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterBlueprint: () => (/* binding */ AdapterBlueprint)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.23.2_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/WalletConnectUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ProviderController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n\n\n\n\n\n\n\n\n\nconst IGNORED_CONNECTOR_IDS_FOR_LISTENER = [\n    _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n    _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT\n];\n/**\n * Abstract class representing a chain adapter blueprint.\n * @template Connector - The type of connector extending ChainAdapterConnector\n */\nclass AdapterBlueprint {\n    /**\n     * Creates an instance of AdapterBlueprint.\n     * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter\n     */\n    constructor(params) {\n        this.availableConnectors = [];\n        this.availableConnections = [];\n        this.providerHandlers = {};\n        this.eventListeners = new Map();\n        this.getCaipNetworks = (namespace) => _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getCaipNetworks(namespace);\n        this.getConnectorId = (namespace) => _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getConnectorId(namespace);\n        if (params) {\n            this.construct(params);\n        }\n    }\n    /**\n     * Initializes the adapter with the given parameters.\n     * @param {AdapterBlueprint.Params} params - The parameters for initializing the adapter\n     */\n    construct(params) {\n        this.projectId = params.projectId;\n        this.namespace = params.namespace;\n        this.adapterType = params.adapterType;\n    }\n    /**\n     * Gets the available connectors.\n     * @returns {Connector[]} An array of available connectors\n     */\n    get connectors() {\n        return this.availableConnectors;\n    }\n    /**\n     * Gets the available connections.\n     * @returns {Connection[]} An array of available connections\n     */\n    get connections() {\n        return this.availableConnections;\n    }\n    /**\n     * Gets the supported networks.\n     * @returns {CaipNetwork[]} An array of supported networks\n     */\n    get networks() {\n        return this.getCaipNetworks(this.namespace);\n    }\n    /**\n     * Handles the auth connected event.\n     * @param {W3mFrameTypes.Responses['FrameGetUserResponse']} user - The user response\n     */\n    onAuthConnected({ accounts, chainId }) {\n        const caipNetwork = this.getCaipNetworks()\n            .filter(n => n.chainNamespace === this.namespace)\n            .find(n => n.id.toString() === chainId?.toString());\n        if (accounts && caipNetwork) {\n            this.addConnection({\n                connectorId: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n                accounts,\n                caipNetwork\n            });\n        }\n    }\n    /**\n     * Sets the auth provider.\n     * @param {W3mFrameProvider} authProvider - The auth provider instance\n     */\n    setAuthProvider(authProvider) {\n        authProvider.onConnect(this.onAuthConnected.bind(this));\n        authProvider.onSocialConnected(this.onAuthConnected.bind(this));\n        this.addConnector({\n            id: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH,\n            type: 'AUTH',\n            name: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_NAMES.AUTH,\n            provider: authProvider,\n            imageId: undefined,\n            chain: this.namespace,\n            chains: []\n        });\n    }\n    /**\n     * Adds one or more connectors to the available connectors list.\n     * @param {...Connector} connectors - The connectors to add\n     */\n    addConnector(...connectors) {\n        const connectorsAdded = new Set();\n        this.availableConnectors = [...connectors, ...this.availableConnectors].filter(connector => {\n            if (connectorsAdded.has(connector.id)) {\n                return false;\n            }\n            connectorsAdded.add(connector.id);\n            return true;\n        });\n        this.emit('connectors', this.availableConnectors);\n    }\n    /**\n     * Adds connections to the available connections list\n     * @param {...Connection} connections - The connections to add\n     */\n    addConnection(...connections) {\n        const connectionsAdded = new Set();\n        this.availableConnections = [...connections, ...this.availableConnections].filter(connection => {\n            if (connectionsAdded.has(connection.connectorId.toLowerCase())) {\n                return false;\n            }\n            connectionsAdded.add(connection.connectorId.toLowerCase());\n            return true;\n        });\n        this.emit('connections', this.availableConnections);\n    }\n    /**\n     * Deletes a connection from the available connections list\n     * @param {string} connectorId - The connector ID of the connection to delete\n     */\n    deleteConnection(connectorId) {\n        this.availableConnections = this.availableConnections.filter(c => c.connectorId.toLowerCase() !== connectorId.toLowerCase());\n        this.emit('connections', this.availableConnections);\n    }\n    /**\n     * Clears all connections from the available connections list\n     * @param {boolean} emit - Whether to emit the connections event\n     */\n    clearConnections(emit = false) {\n        this.availableConnections = [];\n        if (emit) {\n            this.emit('connections', this.availableConnections);\n        }\n    }\n    setStatus(status, chainNamespace) {\n        _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setAccountProp('status', status, chainNamespace);\n    }\n    /**\n     * Adds an event listener for a specific event.\n     * @template T\n     * @param {T} eventName - The name of the event\n     * @param {EventCallback<T>} callback - The callback function to be called when the event is emitted\n     */\n    on(eventName, callback) {\n        if (!this.eventListeners.has(eventName)) {\n            this.eventListeners.set(eventName, new Set());\n        }\n        this.eventListeners.get(eventName)?.add(callback);\n    }\n    /**\n     * Removes an event listener for a specific event.\n     * @template T\n     * @param {T} eventName - The name of the event\n     * @param {EventCallback<T>} callback - The callback function to be removed\n     */\n    off(eventName, callback) {\n        const listeners = this.eventListeners.get(eventName);\n        if (listeners) {\n            listeners.delete(callback);\n        }\n    }\n    /**\n     * Removes all event listeners.\n     */\n    removeAllEventListeners() {\n        this.eventListeners.forEach(listeners => {\n            listeners.clear();\n        });\n    }\n    /**\n     * Emits an event with the given name and optional data.\n     * @template T\n     * @param {T} eventName - The name of the event to emit\n     * @param {EventData[T]} [data] - The optional data to be passed to the event listeners\n     */\n    emit(eventName, data) {\n        const listeners = this.eventListeners.get(eventName);\n        if (listeners) {\n            listeners.forEach(callback => callback(data));\n        }\n    }\n    /**\n     * Connects to WalletConnect.\n     * @param {number | string} [_chainId] - Optional chain ID to connect to\n     */\n    async connectWalletConnect(_chainId) {\n        try {\n            const connector = this.getWalletConnectConnector();\n            const result = await connector.connectWalletConnect();\n            return { clientId: result.clientId };\n        }\n        catch (err) {\n            if (_utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__.WcHelpersUtil.isUserRejectedRequestError(err)) {\n                throw new _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.UserRejectedRequestError(err);\n            }\n            throw err;\n        }\n    }\n    /**\n     * Switches the network.\n     * @param {AdapterBlueprint.SwitchNetworkParams} params - Network switching parameters\n     */\n    async switchNetwork(params) {\n        const { caipNetwork } = params;\n        const providerType = _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__.ProviderController.getProviderId(caipNetwork.chainNamespace);\n        const provider = _ProviderController_js__WEBPACK_IMPORTED_MODULE_6__.ProviderController.getProvider(caipNetwork.chainNamespace);\n        if (!provider) {\n            throw new Error('Provider not found');\n        }\n        if (providerType === 'WALLET_CONNECT') {\n            const walletConnectProvider = provider;\n            walletConnectProvider.setDefaultChain(caipNetwork.caipNetworkId);\n            return;\n        }\n        if (providerType === 'AUTH') {\n            const authProvider = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectorController.getAuthConnector()?.provider;\n            if (!authProvider) {\n                throw new Error('Auth provider not found');\n            }\n            const preferredAccountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_7__.getPreferredAccountType)(caipNetwork.chainNamespace);\n            await authProvider.switchNetwork({ chainId: caipNetwork.caipNetworkId });\n            const user = await authProvider.getUser({\n                chainId: caipNetwork.caipNetworkId,\n                preferredAccountType\n            });\n            this.emit('switchNetwork', user);\n        }\n    }\n    getWalletConnectConnector() {\n        const connector = this.connectors.find(c => c.id === 'walletConnect');\n        if (!connector) {\n            throw new Error('WalletConnectConnector not found');\n        }\n        // Review why this type assertion is necessary\n        return connector;\n    }\n    /**\n     * Handles connect event for a specific connector.\n     * @param {string[]} accounts - The accounts that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onConnect(accounts, connectorId) {\n        if (accounts.length > 0) {\n            const { address, chainId } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(accounts[0]);\n            const caipNetwork = this.getCaipNetworks()\n                .filter(n => n.chainNamespace === this.namespace)\n                .find(n => n.id.toString() === chainId?.toString());\n            const connector = this.connectors.find(c => c.id === connectorId);\n            if (address) {\n                this.emit('accountChanged', {\n                    address,\n                    chainId,\n                    connector\n                });\n                this.addConnection({\n                    connectorId,\n                    accounts: accounts.map(_account => {\n                        const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(_account);\n                        return { address: address };\n                    }),\n                    caipNetwork\n                });\n            }\n        }\n    }\n    /**\n     * Handles accounts changed event for a specific connector.\n     * @param {string[]} accounts - The accounts that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onAccountsChanged(accounts, connectorId, disconnectIfNoAccounts = true) {\n        if (accounts.length > 0) {\n            const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(accounts[0]);\n            const connection = this.getConnection({\n                connectorId,\n                connections: this.connections,\n                connectors: this.connectors\n            });\n            if (address &&\n                this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n                    connectorId.toLowerCase()) {\n                this.emit('accountChanged', {\n                    address,\n                    chainId: connection?.caipNetwork?.id,\n                    connector: connection?.connector\n                });\n            }\n            this.addConnection({\n                connectorId,\n                accounts: accounts.map(_account => {\n                    const { address } = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_8__.CoreHelperUtil.getAccount(_account);\n                    return { address: address };\n                }),\n                caipNetwork: connection?.caipNetwork\n            });\n        }\n        else if (disconnectIfNoAccounts) {\n            this.onDisconnect(connectorId);\n        }\n    }\n    /**\n     * Handles disconnect event for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     */\n    onDisconnect(connectorId) {\n        this.removeProviderListeners(connectorId);\n        this.deleteConnection(connectorId);\n        if (this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n            connectorId.toLowerCase()) {\n            this.emitFirstAvailableConnection();\n        }\n        if (this.connections.length === 0) {\n            this.emit('disconnect');\n        }\n    }\n    /**\n     * Handles chain changed event for a specific connector.\n     * @param {string} chainId - The ID of the chain that changed\n     * @param {string} connectorId - The ID of the connector\n     */\n    onChainChanged(chainId, connectorId) {\n        const formattedChainId = typeof chainId === 'string' && chainId.startsWith('0x')\n            ? parseInt(chainId, 16).toString()\n            : chainId.toString();\n        const connection = this.getConnection({\n            connectorId,\n            connections: this.connections,\n            connectors: this.connectors\n        });\n        const caipNetwork = this.getCaipNetworks()\n            .filter(n => n.chainNamespace === this.namespace)\n            .find(n => n.id.toString() === formattedChainId);\n        if (connection) {\n            this.addConnection({\n                connectorId,\n                accounts: connection.accounts,\n                caipNetwork\n            });\n        }\n        if (this.getConnectorId(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CHAIN.EVM)?.toLowerCase() ===\n            connectorId.toLowerCase()) {\n            this.emit('switchNetwork', { chainId: formattedChainId });\n        }\n    }\n    /**\n     * Listens to provider events for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     * @param {Provider | CombinedProvider} provider - The provider to listen to\n     */\n    listenProviderEvents(connectorId, provider) {\n        if (IGNORED_CONNECTOR_IDS_FOR_LISTENER.includes(connectorId)) {\n            return;\n        }\n        const accountsChangedHandler = (accounts) => this.onAccountsChanged(accounts, connectorId);\n        const chainChangedHandler = (chainId) => this.onChainChanged(chainId, connectorId);\n        const disconnectHandler = () => this.onDisconnect(connectorId);\n        if (!this.providerHandlers[connectorId]) {\n            provider.on('disconnect', disconnectHandler);\n            provider.on('accountsChanged', accountsChangedHandler);\n            provider.on('chainChanged', chainChangedHandler);\n            this.providerHandlers[connectorId] = {\n                provider,\n                disconnect: disconnectHandler,\n                accountsChanged: accountsChangedHandler,\n                chainChanged: chainChangedHandler\n            };\n        }\n    }\n    /**\n     * Removes provider listeners for a specific connector.\n     * @param {string} connectorId - The ID of the connector\n     */\n    removeProviderListeners(connectorId) {\n        if (this.providerHandlers[connectorId]) {\n            const { provider, disconnect, accountsChanged, chainChanged } = this.providerHandlers[connectorId];\n            provider.removeListener('disconnect', disconnect);\n            provider.removeListener('accountsChanged', accountsChanged);\n            provider.removeListener('chainChanged', chainChanged);\n            this.providerHandlers[connectorId] = null;\n        }\n    }\n    /**\n     * Emits the first available connection.\n     */\n    emitFirstAvailableConnection() {\n        const connection = this.getConnection({\n            connections: this.connections,\n            connectors: this.connectors\n        });\n        if (connection) {\n            const [account] = connection.accounts;\n            this.emit('accountChanged', {\n                address: account?.address,\n                chainId: connection.caipNetwork?.id,\n                connector: connection.connector\n            });\n        }\n    }\n    /**\n     * Gets a connection based on provided parameters.\n     * If connectorId is provided, returns connection for that specific connector.\n     * Otherwise, returns the first available valid connection.\n     *\n     * @param params - Connection parameters\n     * @param params.address - Optional address to filter by\n     * @param params.connectorId - Optional connector ID to filter by\n     * @param params.connections - List of available connections\n     * @param params.connectors - List of available connectors\n     * @returns Connection or null if none found\n     */\n    getConnection({ address, connectorId, connections, connectors }) {\n        if (connectorId) {\n            const connection = connections.find(c => c.connectorId.toLowerCase() === connectorId.toLowerCase());\n            if (!connection) {\n                return null;\n            }\n            const connector = connectors.find(c => c.id.toLowerCase() === connection.connectorId.toLowerCase());\n            const account = address\n                ? connection.accounts.find(a => a.address.toLowerCase() === address.toLowerCase())\n                : connection.accounts[0];\n            return { ...connection, account, connector };\n        }\n        const validConnection = connections.find(c => c.accounts.length > 0 &&\n            connectors.some(conn => conn.id.toLowerCase() === c.connectorId.toLowerCase()));\n        if (validConnection) {\n            const [account] = validConnection.accounts;\n            const connector = connectors.find(c => c.id.toLowerCase() === validConnection.connectorId.toLowerCase());\n            return {\n                ...validConnection,\n                account,\n                connector\n            };\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=ChainAdapterBlueprint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9DaGFpbkFkYXB0ZXJCbHVlcHJpbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFrRTtBQUNvQztBQUN6QjtBQUNkO0FBQ0U7QUFDMUI7QUFDaUI7QUFDUTtBQUNGO0FBQzlEO0FBQ0EsSUFBSSwrREFBbUI7QUFDdkIsSUFBSSwrREFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnRUFBZTtBQUM3RCw2Q0FBNkMsd0VBQW1CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsYUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFpRDtBQUNoRTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrREFBbUI7QUFDaEQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQW1CO0FBQ25DO0FBQ0Esa0JBQWtCLCtEQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLGtCQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLGtCQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsZ0JBQWdCLHNFQUFhO0FBQzdCLDBCQUEwQiwwRUFBd0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzQ0FBc0M7QUFDckQ7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCLDZCQUE2QixzRUFBa0I7QUFDL0MseUJBQXlCLHNFQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0VBQW1CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxzRkFBdUI7QUFDaEUsK0NBQStDLG9DQUFvQztBQUNuRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUIsRUFBRSxvRUFBYztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsRUFBRSxvRUFBYztBQUMxRCxpQ0FBaUM7QUFDakMscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVLEVBQUUsb0VBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxvQ0FBb0MsK0RBQW1CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSxFQUFFLG9FQUFjO0FBQ3RELDZCQUE2QjtBQUM3QixpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25EO0FBQ0EseUNBQXlDLDJCQUEyQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLDZCQUE2QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQXNEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUErQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9DaGFpbkFkYXB0ZXJCbHVlcHJpbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXZlcnNhbFByb3ZpZGVyIGZyb20gJ0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlcic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IGdldFByZWZlcnJlZEFjY291bnRUeXBlIH0gZnJvbSAnLi4vLi4vdXRpbHMvQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uLy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IFdjSGVscGVyc1V0aWwgfSBmcm9tICcuLi8uLi91dGlscy9XYWxsZXRDb25uZWN0VXRpbC5qcyc7XG5pbXBvcnQge30gZnJvbSAnLi4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBQcm92aWRlckNvbnRyb2xsZXIgfSBmcm9tICcuLi9Qcm92aWRlckNvbnRyb2xsZXIuanMnO1xuY29uc3QgSUdOT1JFRF9DT05ORUNUT1JfSURTX0ZPUl9MSVNURU5FUiA9IFtcbiAgICBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRILFxuICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELldBTExFVF9DT05ORUNUXG5dO1xuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyByZXByZXNlbnRpbmcgYSBjaGFpbiBhZGFwdGVyIGJsdWVwcmludC5cbiAqIEB0ZW1wbGF0ZSBDb25uZWN0b3IgLSBUaGUgdHlwZSBvZiBjb25uZWN0b3IgZXh0ZW5kaW5nIENoYWluQWRhcHRlckNvbm5lY3RvclxuICovXG5leHBvcnQgY2xhc3MgQWRhcHRlckJsdWVwcmludCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBBZGFwdGVyQmx1ZXByaW50LlxuICAgICAqIEBwYXJhbSB7QWRhcHRlckJsdWVwcmludC5QYXJhbXN9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBpbml0aWFsaXppbmcgdGhlIGFkYXB0ZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDb25uZWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm92aWRlckhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZ2V0Q2FpcE5ldHdvcmtzID0gKG5hbWVzcGFjZSkgPT4gQ2hhaW5Db250cm9sbGVyLmdldENhaXBOZXR3b3JrcyhuYW1lc3BhY2UpO1xuICAgICAgICB0aGlzLmdldENvbm5lY3RvcklkID0gKG5hbWVzcGFjZSkgPT4gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChuYW1lc3BhY2UpO1xuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdChwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBhZGFwdGVyIHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtBZGFwdGVyQmx1ZXByaW50LlBhcmFtc30gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGluaXRpYWxpemluZyB0aGUgYWRhcHRlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdChwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSBwYXJhbXMucHJvamVjdElkO1xuICAgICAgICB0aGlzLm5hbWVzcGFjZSA9IHBhcmFtcy5uYW1lc3BhY2U7XG4gICAgICAgIHRoaXMuYWRhcHRlclR5cGUgPSBwYXJhbXMuYWRhcHRlclR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGF2YWlsYWJsZSBjb25uZWN0b3JzLlxuICAgICAqIEByZXR1cm5zIHtDb25uZWN0b3JbXX0gQW4gYXJyYXkgb2YgYXZhaWxhYmxlIGNvbm5lY3RvcnNcbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdG9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlQ29ubmVjdG9ycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXZhaWxhYmxlIGNvbm5lY3Rpb25zLlxuICAgICAqIEByZXR1cm5zIHtDb25uZWN0aW9uW119IEFuIGFycmF5IG9mIGF2YWlsYWJsZSBjb25uZWN0aW9uc1xuICAgICAqL1xuICAgIGdldCBjb25uZWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN1cHBvcnRlZCBuZXR3b3Jrcy5cbiAgICAgKiBAcmV0dXJucyB7Q2FpcE5ldHdvcmtbXX0gQW4gYXJyYXkgb2Ygc3VwcG9ydGVkIG5ldHdvcmtzXG4gICAgICovXG4gICAgZ2V0IG5ldHdvcmtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDYWlwTmV0d29ya3ModGhpcy5uYW1lc3BhY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBhdXRoIGNvbm5lY3RlZCBldmVudC5cbiAgICAgKiBAcGFyYW0ge1czbUZyYW1lVHlwZXMuUmVzcG9uc2VzWydGcmFtZUdldFVzZXJSZXNwb25zZSddfSB1c2VyIC0gVGhlIHVzZXIgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBvbkF1dGhDb25uZWN0ZWQoeyBhY2NvdW50cywgY2hhaW5JZCB9KSB7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKVxuICAgICAgICAgICAgLmZpbHRlcihuID0+IG4uY2hhaW5OYW1lc3BhY2UgPT09IHRoaXMubmFtZXNwYWNlKVxuICAgICAgICAgICAgLmZpbmQobiA9PiBuLmlkLnRvU3RyaW5nKCkgPT09IGNoYWluSWQ/LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoYWNjb3VudHMgJiYgY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9ySWQ6IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgsXG4gICAgICAgICAgICAgICAgYWNjb3VudHMsXG4gICAgICAgICAgICAgICAgY2FpcE5ldHdvcmtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGF1dGggcHJvdmlkZXIuXG4gICAgICogQHBhcmFtIHtXM21GcmFtZVByb3ZpZGVyfSBhdXRoUHJvdmlkZXIgLSBUaGUgYXV0aCBwcm92aWRlciBpbnN0YW5jZVxuICAgICAqL1xuICAgIHNldEF1dGhQcm92aWRlcihhdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgYXV0aFByb3ZpZGVyLm9uQ29ubmVjdCh0aGlzLm9uQXV0aENvbm5lY3RlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgYXV0aFByb3ZpZGVyLm9uU29jaWFsQ29ubmVjdGVkKHRoaXMub25BdXRoQ29ubmVjdGVkLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmFkZENvbm5lY3Rvcih7XG4gICAgICAgICAgICBpZDogQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCxcbiAgICAgICAgICAgIHR5cGU6ICdBVVRIJyxcbiAgICAgICAgICAgIG5hbWU6IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX05BTUVTLkFVVEgsXG4gICAgICAgICAgICBwcm92aWRlcjogYXV0aFByb3ZpZGVyLFxuICAgICAgICAgICAgaW1hZ2VJZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhaW46IHRoaXMubmFtZXNwYWNlLFxuICAgICAgICAgICAgY2hhaW5zOiBbXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjb25uZWN0b3JzIHRvIHRoZSBhdmFpbGFibGUgY29ubmVjdG9ycyBsaXN0LlxuICAgICAqIEBwYXJhbSB7Li4uQ29ubmVjdG9yfSBjb25uZWN0b3JzIC0gVGhlIGNvbm5lY3RvcnMgdG8gYWRkXG4gICAgICovXG4gICAgYWRkQ29ubmVjdG9yKC4uLmNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yc0FkZGVkID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUNvbm5lY3RvcnMgPSBbLi4uY29ubmVjdG9ycywgLi4udGhpcy5hdmFpbGFibGVDb25uZWN0b3JzXS5maWx0ZXIoY29ubmVjdG9yID0+IHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0b3JzQWRkZWQuaGFzKGNvbm5lY3Rvci5pZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0b3JzQWRkZWQuYWRkKGNvbm5lY3Rvci5pZCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdG9ycycsIHRoaXMuYXZhaWxhYmxlQ29ubmVjdG9ycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgY29ubmVjdGlvbnMgdG8gdGhlIGF2YWlsYWJsZSBjb25uZWN0aW9ucyBsaXN0XG4gICAgICogQHBhcmFtIHsuLi5Db25uZWN0aW9ufSBjb25uZWN0aW9ucyAtIFRoZSBjb25uZWN0aW9ucyB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRDb25uZWN0aW9uKC4uLmNvbm5lY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zQWRkZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMgPSBbLi4uY29ubmVjdGlvbnMsIC4uLnRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnNdLmZpbHRlcihjb25uZWN0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uc0FkZGVkLmhhcyhjb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdGlvbnNBZGRlZC5hZGQoY29ubmVjdGlvbi5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9ucycsIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgY29ubmVjdGlvbiBmcm9tIHRoZSBhdmFpbGFibGUgY29ubmVjdGlvbnMgbGlzdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBjb25uZWN0b3IgSUQgb2YgdGhlIGNvbm5lY3Rpb24gdG8gZGVsZXRlXG4gICAgICovXG4gICAgZGVsZXRlQ29ubmVjdGlvbihjb25uZWN0b3JJZCkge1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zID0gdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucy5maWx0ZXIoYyA9PiBjLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkgIT09IGNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25zJywgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY29ubmVjdGlvbnMgZnJvbSB0aGUgYXZhaWxhYmxlIGNvbm5lY3Rpb25zIGxpc3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVtaXQgLSBXaGV0aGVyIHRvIGVtaXQgdGhlIGNvbm5lY3Rpb25zIGV2ZW50XG4gICAgICovXG4gICAgY2xlYXJDb25uZWN0aW9ucyhlbWl0ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVDb25uZWN0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoZW1pdCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9ucycsIHRoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFN0YXR1cyhzdGF0dXMsIGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnc3RhdHVzJywgc3RhdHVzLCBjaGFpbk5hbWVzcGFjZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgZXZlbnQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0ge1R9IGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICAqIEBwYXJhbSB7RXZlbnRDYWxsYmFjazxUPn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWRcbiAgICAgKi9cbiAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5oYXMoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQoZXZlbnROYW1lLCBuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk/LmFkZChjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgZXZlbnQuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0ge1R9IGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICAqIEBwYXJhbSB7RXZlbnRDYWxsYmFjazxUPn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqL1xuICAgIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50TmFtZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICByZW1vdmVBbGxFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVycyA9PiB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IHdpdGggdGhlIGdpdmVuIG5hbWUgYW5kIG9wdGlvbmFsIGRhdGEuXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0ge1R9IGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBlbWl0XG4gICAgICogQHBhcmFtIHtFdmVudERhdGFbVF19IFtkYXRhXSAtIFRoZSBvcHRpb25hbCBkYXRhIHRvIGJlIHBhc3NlZCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZW1pdChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soZGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3RzIHRvIFdhbGxldENvbm5lY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IFtfY2hhaW5JZF0gLSBPcHRpb25hbCBjaGFpbiBJRCB0byBjb25uZWN0IHRvXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdFdhbGxldENvbm5lY3QoX2NoYWluSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IHRoaXMuZ2V0V2FsbGV0Q29ubmVjdENvbm5lY3RvcigpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29ubmVjdG9yLmNvbm5lY3RXYWxsZXRDb25uZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4geyBjbGllbnRJZDogcmVzdWx0LmNsaWVudElkIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKFdjSGVscGVyc1V0aWwuaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTd2l0Y2hlcyB0aGUgbmV0d29yay5cbiAgICAgKiBAcGFyYW0ge0FkYXB0ZXJCbHVlcHJpbnQuU3dpdGNoTmV0d29ya1BhcmFtc30gcGFyYW1zIC0gTmV0d29yayBzd2l0Y2hpbmcgcGFyYW1ldGVyc1xuICAgICAqL1xuICAgIGFzeW5jIHN3aXRjaE5ldHdvcmsocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgY2FpcE5ldHdvcmsgfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3QgcHJvdmlkZXJUeXBlID0gUHJvdmlkZXJDb250cm9sbGVyLmdldFByb3ZpZGVySWQoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcihjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyVHlwZSA9PT0gJ1dBTExFVF9DT05ORUNUJykge1xuICAgICAgICAgICAgY29uc3Qgd2FsbGV0Q29ubmVjdFByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgICAgICB3YWxsZXRDb25uZWN0UHJvdmlkZXIuc2V0RGVmYXVsdENoYWluKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm92aWRlclR5cGUgPT09ICdBVVRIJykge1xuICAgICAgICAgICAgY29uc3QgYXV0aFByb3ZpZGVyID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk/LnByb3ZpZGVyO1xuICAgICAgICAgICAgaWYgKCFhdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGggcHJvdmlkZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcmVmZXJyZWRBY2NvdW50VHlwZSA9IGdldFByZWZlcnJlZEFjY291bnRUeXBlKGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGF3YWl0IGF1dGhQcm92aWRlci5zd2l0Y2hOZXR3b3JrKHsgY2hhaW5JZDogY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoUHJvdmlkZXIuZ2V0VXNlcih7XG4gICAgICAgICAgICAgICAgY2hhaW5JZDogY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRBY2NvdW50VHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3N3aXRjaE5ldHdvcmsnLCB1c2VyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRXYWxsZXRDb25uZWN0Q29ubmVjdG9yKCkge1xuICAgICAgICBjb25zdCBjb25uZWN0b3IgPSB0aGlzLmNvbm5lY3RvcnMuZmluZChjID0+IGMuaWQgPT09ICd3YWxsZXRDb25uZWN0Jyk7XG4gICAgICAgIGlmICghY29ubmVjdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldENvbm5lY3RDb25uZWN0b3Igbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV2aWV3IHdoeSB0aGlzIHR5cGUgYXNzZXJ0aW9uIGlzIG5lY2Vzc2FyeVxuICAgICAgICByZXR1cm4gY29ubmVjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNvbm5lY3QgZXZlbnQgZm9yIGEgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGFjY291bnRzIC0gVGhlIGFjY291bnRzIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICovXG4gICAgb25Db25uZWN0KGFjY291bnRzLCBjb25uZWN0b3JJZCkge1xuICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzLCBjaGFpbklkIH0gPSBDb3JlSGVscGVyVXRpbC5nZXRBY2NvdW50KGFjY291bnRzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBuLmNoYWluTmFtZXNwYWNlID09PSB0aGlzLm5hbWVzcGFjZSlcbiAgICAgICAgICAgICAgICAuZmluZChuID0+IG4uaWQudG9TdHJpbmcoKSA9PT0gY2hhaW5JZD8udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSB0aGlzLmNvbm5lY3RvcnMuZmluZChjID0+IGMuaWQgPT09IGNvbm5lY3RvcklkKTtcbiAgICAgICAgICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhY2NvdW50Q2hhbmdlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRzOiBhY2NvdW50cy5tYXAoX2FjY291bnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSBDb3JlSGVscGVyVXRpbC5nZXRBY2NvdW50KF9hY2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGFkZHJlc3M6IGFkZHJlc3MgfTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhY2NvdW50cyBjaGFuZ2VkIGV2ZW50IGZvciBhIHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2NvdW50cyAtIFRoZSBhY2NvdW50cyB0aGF0IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgSUQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqL1xuICAgIG9uQWNjb3VudHNDaGFuZ2VkKGFjY291bnRzLCBjb25uZWN0b3JJZCwgZGlzY29ubmVjdElmTm9BY2NvdW50cyA9IHRydWUpIHtcbiAgICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzcyB9ID0gQ29yZUhlbHBlclV0aWwuZ2V0QWNjb3VudChhY2NvdW50c1swXSk7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5nZXRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JJZCxcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uczogdGhpcy5jb25uZWN0aW9ucyxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JzOiB0aGlzLmNvbm5lY3RvcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFkZHJlc3MgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbm5lY3RvcklkKENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNKT8udG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWNjb3VudENoYW5nZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IGNvbm5lY3Rpb24/LmNhaXBOZXR3b3JrPy5pZCxcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yOiBjb25uZWN0aW9uPy5jb25uZWN0b3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgYWNjb3VudHM6IGFjY291bnRzLm1hcChfYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzcyB9ID0gQ29yZUhlbHBlclV0aWwuZ2V0QWNjb3VudChfYWNjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGFkZHJlc3M6IGFkZHJlc3MgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYWlwTmV0d29yazogY29ubmVjdGlvbj8uY2FpcE5ldHdvcmtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpc2Nvbm5lY3RJZk5vQWNjb3VudHMpIHtcbiAgICAgICAgICAgIHRoaXMub25EaXNjb25uZWN0KGNvbm5lY3RvcklkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGRpc2Nvbm5lY3QgZXZlbnQgZm9yIGEgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICovXG4gICAgb25EaXNjb25uZWN0KGNvbm5lY3RvcklkKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUHJvdmlkZXJMaXN0ZW5lcnMoY29ubmVjdG9ySWQpO1xuICAgICAgICB0aGlzLmRlbGV0ZUNvbm5lY3Rpb24oY29ubmVjdG9ySWQpO1xuICAgICAgICBpZiAodGhpcy5nZXRDb25uZWN0b3JJZChDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSk/LnRvTG93ZXJDYXNlKCkgPT09XG4gICAgICAgICAgICBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRGaXJzdEF2YWlsYWJsZUNvbm5lY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY2hhaW4gY2hhbmdlZCBldmVudCBmb3IgYSBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYWluSWQgLSBUaGUgSUQgb2YgdGhlIGNoYWluIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0b3JJZCAtIFRoZSBJRCBvZiB0aGUgY29ubmVjdG9yXG4gICAgICovXG4gICAgb25DaGFpbkNoYW5nZWQoY2hhaW5JZCwgY29ubmVjdG9ySWQpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkQ2hhaW5JZCA9IHR5cGVvZiBjaGFpbklkID09PSAnc3RyaW5nJyAmJiBjaGFpbklkLnN0YXJ0c1dpdGgoJzB4JylcbiAgICAgICAgICAgID8gcGFyc2VJbnQoY2hhaW5JZCwgMTYpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogY2hhaW5JZC50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5nZXRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgIGNvbm5lY3RvcklkLFxuICAgICAgICAgICAgY29ubmVjdGlvbnM6IHRoaXMuY29ubmVjdGlvbnMsXG4gICAgICAgICAgICBjb25uZWN0b3JzOiB0aGlzLmNvbm5lY3RvcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKVxuICAgICAgICAgICAgLmZpbHRlcihuID0+IG4uY2hhaW5OYW1lc3BhY2UgPT09IHRoaXMubmFtZXNwYWNlKVxuICAgICAgICAgICAgLmZpbmQobiA9PiBuLmlkLnRvU3RyaW5nKCkgPT09IGZvcm1hdHRlZENoYWluSWQpO1xuICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hZGRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JJZCxcbiAgICAgICAgICAgICAgICBhY2NvdW50czogY29ubmVjdGlvbi5hY2NvdW50cyxcbiAgICAgICAgICAgICAgICBjYWlwTmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0Q29ubmVjdG9ySWQoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pPy50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzd2l0Y2hOZXR3b3JrJywgeyBjaGFpbklkOiBmb3JtYXR0ZWRDaGFpbklkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RlbnMgdG8gcHJvdmlkZXIgZXZlbnRzIGZvciBhIHNwZWNpZmljIGNvbm5lY3Rvci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdG9ySWQgLSBUaGUgSUQgb2YgdGhlIGNvbm5lY3RvclxuICAgICAqIEBwYXJhbSB7UHJvdmlkZXIgfCBDb21iaW5lZFByb3ZpZGVyfSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBsaXN0ZW4gdG9cbiAgICAgKi9cbiAgICBsaXN0ZW5Qcm92aWRlckV2ZW50cyhjb25uZWN0b3JJZCwgcHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKElHTk9SRURfQ09OTkVDVE9SX0lEU19GT1JfTElTVEVORVIuaW5jbHVkZXMoY29ubmVjdG9ySWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWNjb3VudHNDaGFuZ2VkSGFuZGxlciA9IChhY2NvdW50cykgPT4gdGhpcy5vbkFjY291bnRzQ2hhbmdlZChhY2NvdW50cywgY29ubmVjdG9ySWQpO1xuICAgICAgICBjb25zdCBjaGFpbkNoYW5nZWRIYW5kbGVyID0gKGNoYWluSWQpID0+IHRoaXMub25DaGFpbkNoYW5nZWQoY2hhaW5JZCwgY29ubmVjdG9ySWQpO1xuICAgICAgICBjb25zdCBkaXNjb25uZWN0SGFuZGxlciA9ICgpID0+IHRoaXMub25EaXNjb25uZWN0KGNvbm5lY3RvcklkKTtcbiAgICAgICAgaWYgKCF0aGlzLnByb3ZpZGVySGFuZGxlcnNbY29ubmVjdG9ySWRdKSB7XG4gICAgICAgICAgICBwcm92aWRlci5vbignZGlzY29ubmVjdCcsIGRpc2Nvbm5lY3RIYW5kbGVyKTtcbiAgICAgICAgICAgIHByb3ZpZGVyLm9uKCdhY2NvdW50c0NoYW5nZWQnLCBhY2NvdW50c0NoYW5nZWRIYW5kbGVyKTtcbiAgICAgICAgICAgIHByb3ZpZGVyLm9uKCdjaGFpbkNoYW5nZWQnLCBjaGFpbkNoYW5nZWRIYW5kbGVyKTtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJIYW5kbGVyc1tjb25uZWN0b3JJZF0gPSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgYWNjb3VudHNDaGFuZ2VkOiBhY2NvdW50c0NoYW5nZWRIYW5kbGVyLFxuICAgICAgICAgICAgICAgIGNoYWluQ2hhbmdlZDogY2hhaW5DaGFuZ2VkSGFuZGxlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHByb3ZpZGVyIGxpc3RlbmVycyBmb3IgYSBzcGVjaWZpYyBjb25uZWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RvcklkIC0gVGhlIElEIG9mIHRoZSBjb25uZWN0b3JcbiAgICAgKi9cbiAgICByZW1vdmVQcm92aWRlckxpc3RlbmVycyhjb25uZWN0b3JJZCkge1xuICAgICAgICBpZiAodGhpcy5wcm92aWRlckhhbmRsZXJzW2Nvbm5lY3RvcklkXSkge1xuICAgICAgICAgICAgY29uc3QgeyBwcm92aWRlciwgZGlzY29ubmVjdCwgYWNjb3VudHNDaGFuZ2VkLCBjaGFpbkNoYW5nZWQgfSA9IHRoaXMucHJvdmlkZXJIYW5kbGVyc1tjb25uZWN0b3JJZF07XG4gICAgICAgICAgICBwcm92aWRlci5yZW1vdmVMaXN0ZW5lcignZGlzY29ubmVjdCcsIGRpc2Nvbm5lY3QpO1xuICAgICAgICAgICAgcHJvdmlkZXIucmVtb3ZlTGlzdGVuZXIoJ2FjY291bnRzQ2hhbmdlZCcsIGFjY291bnRzQ2hhbmdlZCk7XG4gICAgICAgICAgICBwcm92aWRlci5yZW1vdmVMaXN0ZW5lcignY2hhaW5DaGFuZ2VkJywgY2hhaW5DaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJIYW5kbGVyc1tjb25uZWN0b3JJZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIHRoZSBmaXJzdCBhdmFpbGFibGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBlbWl0Rmlyc3RBdmFpbGFibGVDb25uZWN0aW9uKCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5nZXRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25zOiB0aGlzLmNvbm5lY3Rpb25zLFxuICAgICAgICAgICAgY29ubmVjdG9yczogdGhpcy5jb25uZWN0b3JzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgW2FjY291bnRdID0gY29ubmVjdGlvbi5hY2NvdW50cztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYWNjb3VudENoYW5nZWQnLCB7XG4gICAgICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudD8uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiBjb25uZWN0aW9uLmNhaXBOZXR3b3JrPy5pZCxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3I6IGNvbm5lY3Rpb24uY29ubmVjdG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgY29ubmVjdGlvbiBiYXNlZCBvbiBwcm92aWRlZCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIGNvbm5lY3RvcklkIGlzIHByb3ZpZGVkLCByZXR1cm5zIGNvbm5lY3Rpb24gZm9yIHRoYXQgc3BlY2lmaWMgY29ubmVjdG9yLlxuICAgICAqIE90aGVyd2lzZSwgcmV0dXJucyB0aGUgZmlyc3QgYXZhaWxhYmxlIHZhbGlkIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQ29ubmVjdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHBhcmFtcy5hZGRyZXNzIC0gT3B0aW9uYWwgYWRkcmVzcyB0byBmaWx0ZXIgYnlcbiAgICAgKiBAcGFyYW0gcGFyYW1zLmNvbm5lY3RvcklkIC0gT3B0aW9uYWwgY29ubmVjdG9yIElEIHRvIGZpbHRlciBieVxuICAgICAqIEBwYXJhbSBwYXJhbXMuY29ubmVjdGlvbnMgLSBMaXN0IG9mIGF2YWlsYWJsZSBjb25uZWN0aW9uc1xuICAgICAqIEBwYXJhbSBwYXJhbXMuY29ubmVjdG9ycyAtIExpc3Qgb2YgYXZhaWxhYmxlIGNvbm5lY3RvcnNcbiAgICAgKiBAcmV0dXJucyBDb25uZWN0aW9uIG9yIG51bGwgaWYgbm9uZSBmb3VuZFxuICAgICAqL1xuICAgIGdldENvbm5lY3Rpb24oeyBhZGRyZXNzLCBjb25uZWN0b3JJZCwgY29ubmVjdGlvbnMsIGNvbm5lY3RvcnMgfSkge1xuICAgICAgICBpZiAoY29ubmVjdG9ySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBjb25uZWN0aW9ucy5maW5kKGMgPT4gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGFkZHJlc3NcbiAgICAgICAgICAgICAgICA/IGNvbm5lY3Rpb24uYWNjb3VudHMuZmluZChhID0+IGEuYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBhZGRyZXNzLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgOiBjb25uZWN0aW9uLmFjY291bnRzWzBdO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uY29ubmVjdGlvbiwgYWNjb3VudCwgY29ubmVjdG9yIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsaWRDb25uZWN0aW9uID0gY29ubmVjdGlvbnMuZmluZChjID0+IGMuYWNjb3VudHMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgY29ubmVjdG9ycy5zb21lKGNvbm4gPT4gY29ubi5pZC50b0xvd2VyQ2FzZSgpID09PSBjLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgaWYgKHZhbGlkQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgW2FjY291bnRdID0gdmFsaWRDb25uZWN0aW9uLmFjY291bnRzO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yID0gY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZC50b0xvd2VyQ2FzZSgpID09PSB2YWxpZENvbm5lY3Rpb24uY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnZhbGlkQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgICAgIGNvbm5lY3RvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGFpbkFkYXB0ZXJCbHVlcHJpbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/ChainAdapterBlueprint.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js":
/*!*****************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js ***!
  \*****************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectConnector: () => (/* binding */ WalletConnectConnector)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.23.2_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_SIWXUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/SIWXUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\");\n/* harmony import */ var _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/WalletConnectUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\nclass WalletConnectConnector {\n    constructor({ provider, namespace }) {\n        this.id = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        this.name = 'WalletConnect';\n        this.type = 'WALLET_CONNECT';\n        this.imageId = 'ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400';\n        this.getCaipNetworks = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getCaipNetworks.bind(_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController);\n        this.caipNetworks = this.getCaipNetworks();\n        this.provider = provider;\n        this.chain = namespace;\n    }\n    get chains() {\n        return this.getCaipNetworks();\n    }\n    async connectWalletConnect() {\n        const isAuthenticated = await this.authenticate();\n        if (!isAuthenticated) {\n            const caipNetworks = this.getCaipNetworks();\n            const universalProviderConfigOverride = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.universalProviderConfigOverride;\n            const namespaces = _utils_WalletConnectUtil_js__WEBPACK_IMPORTED_MODULE_4__.WcHelpersUtil.createNamespaces(caipNetworks, universalProviderConfigOverride);\n            await this.provider.connect({ optionalNamespaces: namespaces });\n        }\n        return {\n            clientId: await this.provider.client.core.crypto.getClientId(),\n            session: this.provider.session\n        };\n    }\n    async disconnect() {\n        await this.provider.disconnect();\n    }\n    async authenticate() {\n        const chains = this.chains.map(network => network.caipNetworkId);\n        return _utils_SIWXUtil_js__WEBPACK_IMPORTED_MODULE_5__.SIWXUtil.universalProviderAuthenticate({\n            universalProvider: this.provider,\n            chains,\n            methods: OPTIONAL_METHODS\n        });\n    }\n}\nconst OPTIONAL_METHODS = [\n    'eth_accounts',\n    'eth_requestAccounts',\n    'eth_sendRawTransaction',\n    'eth_sign',\n    'eth_signTransaction',\n    'eth_signTypedData',\n    'eth_signTypedData_v3',\n    'eth_signTypedData_v4',\n    'eth_sendTransaction',\n    'personal_sign',\n    'wallet_switchEthereumChain',\n    'wallet_addEthereumChain',\n    'wallet_getPermissions',\n    'wallet_requestPermissions',\n    'wallet_registerOnboarding',\n    'wallet_watchAsset',\n    'wallet_scanQRCode',\n    // EIP-5792\n    'wallet_getCallsStatus',\n    'wallet_sendCalls',\n    'wallet_getCapabilities',\n    // EIP-7715\n    'wallet_grantPermissions',\n    'wallet_revokePermissions',\n    //EIP-7811\n    'wallet_getAssets'\n];\n//# sourceMappingURL=WalletConnectConnector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9XYWxsZXRDb25uZWN0Q29ubmVjdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0U7QUFDYjtBQUNGO0FBQ2M7QUFDVDtBQUNJO0FBQ3JEO0FBQ1Asa0JBQWtCLHFCQUFxQjtBQUN2QyxrQkFBa0IsK0RBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFlLHNCQUFzQixnRUFBZTtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELG9FQUFpQjtBQUNyRSwrQkFBK0Isc0VBQWE7QUFDNUMsMENBQTBDLGdDQUFnQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3REFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9XYWxsZXRDb25uZWN0Q29ubmVjdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml2ZXJzYWxQcm92aWRlciBmcm9tICdAd2FsbGV0Y29ubmVjdC91bml2ZXJzYWwtcHJvdmlkZXInO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFNJV1hVdGlsIH0gZnJvbSAnLi4vLi4vdXRpbHMvU0lXWFV0aWwuanMnO1xuaW1wb3J0IHsgV2NIZWxwZXJzVXRpbCB9IGZyb20gJy4uLy4uL3V0aWxzL1dhbGxldENvbm5lY3RVdGlsLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4uL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmV4cG9ydCBjbGFzcyBXYWxsZXRDb25uZWN0Q29ubmVjdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHByb3ZpZGVyLCBuYW1lc3BhY2UgfSkge1xuICAgICAgICB0aGlzLmlkID0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1Q7XG4gICAgICAgIHRoaXMubmFtZSA9ICdXYWxsZXRDb25uZWN0JztcbiAgICAgICAgdGhpcy50eXBlID0gJ1dBTExFVF9DT05ORUNUJztcbiAgICAgICAgdGhpcy5pbWFnZUlkID0gJ2VmMWExZmNmLTdmZTgtNGQ2OS1iZDZkLWZkYTEzNDViNDQwMCc7XG4gICAgICAgIHRoaXMuZ2V0Q2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldENhaXBOZXR3b3Jrcy5iaW5kKENoYWluQ29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuY2FpcE5ldHdvcmtzID0gdGhpcy5nZXRDYWlwTmV0d29ya3MoKTtcbiAgICAgICAgdGhpcy5wcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICB0aGlzLmNoYWluID0gbmFtZXNwYWNlO1xuICAgIH1cbiAgICBnZXQgY2hhaW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDYWlwTmV0d29ya3MoKTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdFdhbGxldENvbm5lY3QoKSB7XG4gICAgICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlKCk7XG4gICAgICAgIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29ya3MgPSB0aGlzLmdldENhaXBOZXR3b3JrcygpO1xuICAgICAgICAgICAgY29uc3QgdW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGU7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gV2NIZWxwZXJzVXRpbC5jcmVhdGVOYW1lc3BhY2VzKGNhaXBOZXR3b3JrcywgdW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb3ZpZGVyLmNvbm5lY3QoeyBvcHRpb25hbE5hbWVzcGFjZXM6IG5hbWVzcGFjZXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBhd2FpdCB0aGlzLnByb3ZpZGVyLmNsaWVudC5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5wcm92aWRlci5zZXNzaW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHJvdmlkZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IHRoaXMuY2hhaW5zLm1hcChuZXR3b3JrID0+IG5ldHdvcmsuY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIHJldHVybiBTSVdYVXRpbC51bml2ZXJzYWxQcm92aWRlckF1dGhlbnRpY2F0ZSh7XG4gICAgICAgICAgICB1bml2ZXJzYWxQcm92aWRlcjogdGhpcy5wcm92aWRlcixcbiAgICAgICAgICAgIGNoYWlucyxcbiAgICAgICAgICAgIG1ldGhvZHM6IE9QVElPTkFMX01FVEhPRFNcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY29uc3QgT1BUSU9OQUxfTUVUSE9EUyA9IFtcbiAgICAnZXRoX2FjY291bnRzJyxcbiAgICAnZXRoX3JlcXVlc3RBY2NvdW50cycsXG4gICAgJ2V0aF9zZW5kUmF3VHJhbnNhY3Rpb24nLFxuICAgICdldGhfc2lnbicsXG4gICAgJ2V0aF9zaWduVHJhbnNhY3Rpb24nLFxuICAgICdldGhfc2lnblR5cGVkRGF0YScsXG4gICAgJ2V0aF9zaWduVHlwZWREYXRhX3YzJyxcbiAgICAnZXRoX3NpZ25UeXBlZERhdGFfdjQnLFxuICAgICdldGhfc2VuZFRyYW5zYWN0aW9uJyxcbiAgICAncGVyc29uYWxfc2lnbicsXG4gICAgJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICd3YWxsZXRfZ2V0UGVybWlzc2lvbnMnLFxuICAgICd3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zJyxcbiAgICAnd2FsbGV0X3JlZ2lzdGVyT25ib2FyZGluZycsXG4gICAgJ3dhbGxldF93YXRjaEFzc2V0JyxcbiAgICAnd2FsbGV0X3NjYW5RUkNvZGUnLFxuICAgIC8vIEVJUC01NzkyXG4gICAgJ3dhbGxldF9nZXRDYWxsc1N0YXR1cycsXG4gICAgJ3dhbGxldF9zZW5kQ2FsbHMnLFxuICAgICd3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzJyxcbiAgICAvLyBFSVAtNzcxNVxuICAgICd3YWxsZXRfZ3JhbnRQZXJtaXNzaW9ucycsXG4gICAgJ3dhbGxldF9yZXZva2VQZXJtaXNzaW9ucycsXG4gICAgLy9FSVAtNzgxMVxuICAgICd3YWxsZXRfZ2V0QXNzZXRzJ1xuXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdhbGxldENvbm5lY3RDb25uZWN0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/WalletConnectConnector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdapterController: () => (/* binding */ AdapterController)\n/* harmony export */ });\nconst state = {\n    adapters: {}\n};\nconst AdapterController = {\n    state,\n    initialize(adapters) {\n        state.adapters = { ...adapters };\n    },\n    get(namespace) {\n        return state.adapters[namespace];\n    }\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BZGFwdGVyQ29udHJvbGxlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQWRhcHRlckNvbnRyb2xsZXIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3RhdGUgPSB7XG4gICAgYWRhcHRlcnM6IHt9XG59O1xuZXhwb3J0IGNvbnN0IEFkYXB0ZXJDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIGluaXRpYWxpemUoYWRhcHRlcnMpIHtcbiAgICAgICAgc3RhdGUuYWRhcHRlcnMgPSB7IC4uLmFkYXB0ZXJzIH07XG4gICAgfSxcbiAgICBnZXQobmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hZGFwdGVyc1tuYW1lc3BhY2VdO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlertController: () => (/* binding */ AlertController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    message: '',\n    variant: 'info',\n    open: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    open(message, variant) {\n        const { debug } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state;\n        const { code, displayMessage, debugMessage } = message;\n        if (displayMessage && debug) {\n            state.message = displayMessage;\n            state.variant = variant;\n            state.open = true;\n        }\n        if (debugMessage) {\n            if (!_reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.IS_DEVELOPMENT) {\n                return;\n            }\n            const resolved = typeof debugMessage === 'function' ? debugMessage() : debugMessage;\n            const meta = code ? { code } : undefined;\n            if (variant === 'error') {\n                // eslint-disable-next-line no-console\n                console.error(resolved, meta);\n            }\n            else if (variant === 'warning') {\n                // eslint-disable-next-line no-console\n                console.warn(resolved, meta);\n            }\n            else {\n                // eslint-disable-next-line no-console\n                console.info(resolved, meta);\n            }\n        }\n    },\n    warn(title, description, code) {\n        state.open = true;\n        state.message = title;\n        state.variant = 'warning';\n        if (description) {\n            console.warn(description, code);\n        }\n    },\n    close() {\n        state.open = false;\n        state.message = '';\n        state.variant = 'info';\n    }\n};\n// Export the controller wrapped with our error boundary\nconst AlertController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_4__.withErrorBoundary)(controller);\n//# sourceMappingURL=AlertController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BbGVydENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVDO0FBQ3VCO0FBQ2M7QUFDVjtBQUNQO0FBQzNEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixRQUFRLEVBQUUsb0VBQWlCO0FBQzNDLGdCQUFnQixxQ0FBcUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtEQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw4RUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BbGVydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBtZXNzYWdlOiAnJyxcbiAgICB2YXJpYW50OiAnaW5mbycsXG4gICAgb3BlbjogZmFsc2Vcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgb3BlbihtZXNzYWdlLCB2YXJpYW50KSB7XG4gICAgICAgIGNvbnN0IHsgZGVidWcgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCB7IGNvZGUsIGRpc3BsYXlNZXNzYWdlLCBkZWJ1Z01lc3NhZ2UgfSA9IG1lc3NhZ2U7XG4gICAgICAgIGlmIChkaXNwbGF5TWVzc2FnZSAmJiBkZWJ1Zykge1xuICAgICAgICAgICAgc3RhdGUubWVzc2FnZSA9IGRpc3BsYXlNZXNzYWdlO1xuICAgICAgICAgICAgc3RhdGUudmFyaWFudCA9IHZhcmlhbnQ7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVidWdNZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAoIUNvbW1vbkNvbnN0YW50c1V0aWwuSVNfREVWRUxPUE1FTlQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IHR5cGVvZiBkZWJ1Z01lc3NhZ2UgPT09ICdmdW5jdGlvbicgPyBkZWJ1Z01lc3NhZ2UoKSA6IGRlYnVnTWVzc2FnZTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBjb2RlID8geyBjb2RlIH0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAodmFyaWFudCA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXNvbHZlZCwgbWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YXJpYW50ID09PSAnd2FybmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihyZXNvbHZlZCwgbWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhyZXNvbHZlZCwgbWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHdhcm4odGl0bGUsIGRlc2NyaXB0aW9uLCBjb2RlKSB7XG4gICAgICAgIHN0YXRlLm9wZW4gPSB0cnVlO1xuICAgICAgICBzdGF0ZS5tZXNzYWdlID0gdGl0bGU7XG4gICAgICAgIHN0YXRlLnZhcmlhbnQgPSAnd2FybmluZyc7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGRlc2NyaXB0aW9uLCBjb2RlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHN0YXRlLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgc3RhdGUubWVzc2FnZSA9ICcnO1xuICAgICAgICBzdGF0ZS52YXJpYW50ID0gJ2luZm8nO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IEFsZXJ0Q29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxlcnRDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiController: () => (/* binding */ ApiController),\n/* harmony export */   api: () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/AssetUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/MobileWallet.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _AssetController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AssetController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getApiUrl();\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__.FetchUtil({\n    baseUrl,\n    clientId: null\n});\nconst entries = 40;\nconst recommendedEntries = 4;\nconst imageCountToFetch = 20;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    promises: {},\n    page: 1,\n    count: 0,\n    featured: [],\n    allFeatured: [],\n    recommended: [],\n    allRecommended: [],\n    wallets: [],\n    filteredWallets: [],\n    search: [],\n    isAnalyticsEnabled: false,\n    excludedWallets: [],\n    isFetchingRecommendedWallets: false,\n    explorerWallets: [],\n    explorerFilteredWallets: [],\n    plan: {\n        tier: 'none',\n        hasExceededUsageLimit: false,\n        limits: {\n            isAboveRpcLimit: false,\n            isAboveMauLimit: false\n        }\n    }\n});\n// -- Controller ---------------------------------------- //\nconst ApiController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__.subscribeKey)(state, key, callback);\n    },\n    _getSdkProperties() {\n        const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        return {\n            projectId,\n            st: sdkType || 'appkit',\n            sv: sdkVersion || 'html-wagmi-4.2.2'\n        };\n    },\n    _filterOutExtensions(wallets) {\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.isUniversalProvider) {\n            return wallets.filter(w => Boolean(w.mobile_link || w.desktop_link || w.webapp_link));\n        }\n        return wallets;\n    },\n    async _fetchWalletImage(imageId) {\n        const imageUrl = `${api.baseUrl}/getWalletImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setWalletImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchNetworkImage(imageId) {\n        const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setNetworkImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchConnectorImage(imageId) {\n        const imageUrl = `${api.baseUrl}/public/getAssetImage/${imageId}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setConnectorImage(imageId, URL.createObjectURL(blob));\n    },\n    async _fetchCurrencyImage(countryCode) {\n        const imageUrl = `${api.baseUrl}/public/getCurrencyImage/${countryCode}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setCurrencyImage(countryCode, URL.createObjectURL(blob));\n    },\n    async _fetchTokenImage(symbol) {\n        const imageUrl = `${api.baseUrl}/public/getTokenImage/${symbol}`;\n        const blob = await api.getBlob({ path: imageUrl, params: ApiController._getSdkProperties() });\n        _AssetController_js__WEBPACK_IMPORTED_MODULE_5__.AssetController.setTokenImage(symbol, URL.createObjectURL(blob));\n    },\n    _filterWalletsByPlatform(wallets) {\n        const walletsLength = wallets.length;\n        const filteredWallets = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.isMobile()\n            ? wallets?.filter(w => {\n                if (w.mobile_link || w.webapp_link) {\n                    return true;\n                }\n                const customDeeplinkWalletIds = Object.values(_utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__.CUSTOM_DEEPLINK_WALLETS).map(wallet => wallet.id);\n                return customDeeplinkWalletIds.includes(w.id);\n            })\n            : wallets;\n        const mobileFilteredOutWalletsLength = walletsLength - filteredWallets.length;\n        return { filteredWallets, mobileFilteredOutWalletsLength };\n    },\n    async fetchProjectConfig() {\n        const response = await api.get({\n            path: '/appkit/v1/config',\n            params: ApiController._getSdkProperties()\n        });\n        return response.features;\n    },\n    async fetchUsage() {\n        try {\n            const response = await api.get({\n                path: '/appkit/v1/project-limits',\n                params: ApiController._getSdkProperties()\n            });\n            const { tier, isAboveMauLimit, isAboveRpcLimit } = response.planLimits;\n            const isStarterPlan = tier === 'starter';\n            const isAboveUsageLimit = isAboveMauLimit || isAboveRpcLimit;\n            ApiController.state.plan = {\n                tier,\n                hasExceededUsageLimit: isStarterPlan && isAboveUsageLimit,\n                limits: {\n                    isAboveRpcLimit,\n                    isAboveMauLimit\n                }\n            };\n        }\n        catch (e) {\n            console.warn('Failed to fetch usage', e);\n        }\n    },\n    async fetchAllowedOrigins() {\n        try {\n            const { allowedOrigins } = await api.get({\n                path: '/projects/v1/origins',\n                params: ApiController._getSdkProperties()\n            });\n            return allowedOrigins;\n        }\n        catch (error) {\n            if (error instanceof Error && error.cause instanceof Response) {\n                const status = error.cause.status;\n                if (status === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS) {\n                    throw new Error('RATE_LIMITED', { cause: error });\n                }\n                if (status >= _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR && status < 600) {\n                    throw new Error('SERVER_ERROR', { cause: error });\n                }\n                return [];\n            }\n            return [];\n        }\n    },\n    async fetchNetworkImages() {\n        const requestedCaipNetworks = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getAllRequestedCaipNetworks();\n        const ids = requestedCaipNetworks\n            ?.map(({ assets }) => assets?.imageId)\n            .filter(Boolean)\n            .filter(imageId => !_utils_AssetUtil_js__WEBPACK_IMPORTED_MODULE_9__.AssetUtil.getNetworkImageById(imageId));\n        if (ids) {\n            await Promise.allSettled(ids.map(id => ApiController._fetchNetworkImage(id)));\n        }\n    },\n    async fetchConnectorImages() {\n        const { connectors } = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state;\n        const ids = connectors.map(({ imageId }) => imageId).filter(Boolean);\n        await Promise.allSettled(ids.map(id => ApiController._fetchConnectorImage(id)));\n    },\n    async fetchCurrencyImages(currencies = []) {\n        await Promise.allSettled(currencies.map(currency => ApiController._fetchCurrencyImage(currency)));\n    },\n    async fetchTokenImages(tokens = []) {\n        await Promise.allSettled(tokens.map(token => ApiController._fetchTokenImage(token)));\n    },\n    async fetchWallets(params) {\n        const exclude = params.exclude ?? [];\n        const sdkProperties = ApiController._getSdkProperties();\n        if (sdkProperties.sv.startsWith('html-core-')) {\n            exclude.push(...Object.values(_utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_6__.CUSTOM_DEEPLINK_WALLETS).map(w => w.id));\n        }\n        const wallets = await api.get({\n            path: '/getWallets',\n            params: {\n                ...ApiController._getSdkProperties(),\n                ...params,\n                page: String(params.page),\n                entries: String(params.entries),\n                include: params.include?.join(','),\n                exclude: exclude.join(',')\n            }\n        });\n        const { filteredWallets, mobileFilteredOutWalletsLength } = ApiController._filterWalletsByPlatform(wallets?.data);\n        return {\n            data: filteredWallets || [],\n            // Keep original count for display on main page\n            count: wallets?.count,\n            mobileFilteredOutWalletsLength\n        };\n    },\n    async prefetchWalletRanks() {\n        const connectors = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.state.connectors;\n        if (!connectors?.length) {\n            return;\n        }\n        const params = {\n            page: 1,\n            entries: 20,\n            badge: 'certified'\n        };\n        params.names = connectors.map(c => c.name).join(',');\n        if (_ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.state.activeChain === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.ConstantsUtil.CHAIN.EVM) {\n            const rdnsCandidates = [\n                ...connectors.flatMap(c => c.connectors?.map(sc => sc.info?.rdns) || []),\n                ...connectors.map(c => c.info?.rdns)\n            ].filter((val) => typeof val === 'string' && val.length > 0);\n            if (rdnsCandidates.length) {\n                params.rdns = rdnsCandidates.join(',');\n            }\n        }\n        const { data } = await ApiController.fetchWallets(params);\n        state.explorerWallets = data;\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorController.extendConnectorsWithExplorerWallets(data);\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.explorerFilteredWallets = data.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    },\n    async fetchFeaturedWallets() {\n        const { featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        if (featuredWalletIds?.length) {\n            const params = {\n                ...ApiController._getSdkProperties(),\n                page: 1,\n                entries: featuredWalletIds?.length ?? recommendedEntries,\n                include: featuredWalletIds\n            };\n            const { data } = await ApiController.fetchWallets(params);\n            const sortedData = [...data].sort((a, b) => featuredWalletIds.indexOf(a.id) - featuredWalletIds.indexOf(b.id));\n            const images = sortedData.map(d => d.image_id).filter(Boolean);\n            await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));\n            state.featured = sortedData;\n            state.allFeatured = sortedData;\n        }\n    },\n    async fetchRecommendedWallets() {\n        try {\n            state.isFetchingRecommendedWallets = true;\n            const { includeWalletIds, excludeWalletIds, featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n            const exclude = [...(excludeWalletIds ?? []), ...(featuredWalletIds ?? [])].filter(Boolean);\n            const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n            const params = {\n                page: 1,\n                entries: recommendedEntries,\n                include: includeWalletIds,\n                exclude,\n                chains\n            };\n            const { data, count } = await ApiController.fetchWallets(params);\n            const recent = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_11__.StorageUtil.getRecentWallets();\n            const recommendedImages = data.map(d => d.image_id).filter(Boolean);\n            const recentImages = recent.map(r => r.image_id).filter(Boolean);\n            await Promise.allSettled([...recommendedImages, ...recentImages].map(id => ApiController._fetchWalletImage(id)));\n            state.recommended = data;\n            state.allRecommended = data;\n            state.count = count ?? 0;\n        }\n        catch {\n            // Catch silently\n        }\n        finally {\n            state.isFetchingRecommendedWallets = false;\n        }\n    },\n    async fetchWalletsByPage({ page }) {\n        const { includeWalletIds, excludeWalletIds, featuredWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        const exclude = [\n            ...state.recommended.map(({ id }) => id),\n            ...(excludeWalletIds ?? []),\n            ...(featuredWalletIds ?? [])\n        ].filter(Boolean);\n        const params = {\n            page,\n            entries,\n            include: includeWalletIds,\n            exclude,\n            chains\n        };\n        const { data, count, mobileFilteredOutWalletsLength } = await ApiController.fetchWallets(params);\n        state.mobileFilteredOutWalletsLength =\n            mobileFilteredOutWalletsLength + (state.mobileFilteredOutWalletsLength ?? 0);\n        const images = data\n            .slice(0, imageCountToFetch)\n            .map(w => w.image_id)\n            .filter(Boolean);\n        await Promise.allSettled(images.map(id => ApiController._fetchWalletImage(id)));\n        state.wallets = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.uniqueBy([...state.wallets, ...ApiController._filterOutExtensions(data)], 'id').filter(w => w.chains?.some(chain => chains.includes(chain)));\n        state.count = count > state.count ? count : state.count;\n        state.page = page;\n    },\n    async initializeExcludedWallets({ ids }) {\n        const params = {\n            page: 1,\n            entries: ids.length,\n            include: ids\n        };\n        const { data } = await ApiController.fetchWallets(params);\n        if (data) {\n            data.forEach(wallet => {\n                state.excludedWallets.push({ rdns: wallet.rdns, name: wallet.name });\n            });\n        }\n    },\n    async searchWallet({ search, badge }) {\n        const { includeWalletIds, excludeWalletIds } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n        const chains = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.search = [];\n        const params = {\n            page: 1,\n            entries: 100,\n            search: search?.trim(),\n            badge_type: badge,\n            include: includeWalletIds,\n            exclude: excludeWalletIds,\n            chains\n        };\n        const { data } = await ApiController.fetchWallets(params);\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_12__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEARCH_WALLET',\n            properties: { badge: badge ?? '', search: search ?? '' }\n        });\n        const images = data.map(w => w.image_id).filter(Boolean);\n        await Promise.allSettled([\n            ...images.map(id => ApiController._fetchWalletImage(id)),\n            _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.wait(300)\n        ]);\n        state.search = ApiController._filterOutExtensions(data);\n    },\n    initPromise(key, fetchFn) {\n        const existingPromise = state.promises[key];\n        if (existingPromise) {\n            return existingPromise;\n        }\n        return (state.promises[key] = fetchFn());\n    },\n    prefetch({ fetchConnectorImages = true, fetchFeaturedWallets = true, fetchRecommendedWallets = true, fetchNetworkImages = true, fetchWalletRanks = true } = {}) {\n        const promises = [\n            fetchConnectorImages &&\n                ApiController.initPromise('connectorImages', ApiController.fetchConnectorImages),\n            fetchFeaturedWallets &&\n                ApiController.initPromise('featuredWallets', ApiController.fetchFeaturedWallets),\n            fetchRecommendedWallets &&\n                ApiController.initPromise('recommendedWallets', ApiController.fetchRecommendedWallets),\n            fetchNetworkImages &&\n                ApiController.initPromise('networkImages', ApiController.fetchNetworkImages),\n            fetchWalletRanks &&\n                ApiController.initPromise('walletRanks', ApiController.prefetchWalletRanks)\n        ].filter(Boolean);\n        return Promise.allSettled(promises);\n    },\n    prefetchAnalyticsConfig() {\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.features?.analytics) {\n            ApiController.fetchAnalyticsConfig();\n        }\n    },\n    async fetchAnalyticsConfig() {\n        try {\n            const { isAnalyticsEnabled } = await api.get({\n                path: '/getAnalyticsConfig',\n                params: ApiController._getSdkProperties()\n            });\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.setFeatures({ analytics: isAnalyticsEnabled });\n        }\n        catch (error) {\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.setFeatures({ analytics: false });\n        }\n    },\n    filterByNamespaces(namespaces) {\n        if (!namespaces?.length) {\n            state.featured = state.allFeatured;\n            state.recommended = state.allRecommended;\n            return;\n        }\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.featured = state.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.recommended = state.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.filteredWallets = state.wallets.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    },\n    clearFilterByNamespaces() {\n        state.filteredWallets = [];\n    },\n    setFilterByNamespace(namespace) {\n        if (!namespace) {\n            state.featured = state.allFeatured;\n            state.recommended = state.allRecommended;\n            return;\n        }\n        const caipNetworkIds = _ChainController_js__WEBPACK_IMPORTED_MODULE_8__.ChainController.getRequestedCaipNetworkIds().join(',');\n        state.featured = state.allFeatured.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.recommended = state.allRecommended.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n        state.filteredWallets = state.wallets.filter(wallet => wallet.chains?.some(chain => caipNetworkIds.includes(chain)));\n    }\n};\n//# sourceMappingURL=ApiController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9BcGlDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1QztBQUN1QjtBQUNUO0FBQ0g7QUFDVTtBQUNWO0FBQ2lCO0FBQ2I7QUFDQztBQUNBO0FBQ1E7QUFDTjtBQUNFO0FBQzNEO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQ3ZCLGdCQUFnQiwwREFBUztBQUNoQztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixpQ0FBaUMsRUFBRSxvRUFBaUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFlBQVksb0VBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRCQUE0QixZQUFZLGtCQUFrQixRQUFRO0FBQ2xFLHlDQUF5QywyREFBMkQ7QUFDcEcsUUFBUSxnRUFBZTtBQUN2QixLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsWUFBWSx3QkFBd0IsUUFBUTtBQUN4RSx5Q0FBeUMsMkRBQTJEO0FBQ3BHLFFBQVEsZ0VBQWU7QUFDdkIsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLFlBQVksd0JBQXdCLFFBQVE7QUFDeEUseUNBQXlDLDJEQUEyRDtBQUNwRyxRQUFRLGdFQUFlO0FBQ3ZCLEtBQUs7QUFDTDtBQUNBLDRCQUE0QixZQUFZLDJCQUEyQixZQUFZO0FBQy9FLHlDQUF5QywyREFBMkQ7QUFDcEcsUUFBUSxnRUFBZTtBQUN2QixLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsWUFBWSx3QkFBd0IsT0FBTztBQUN2RSx5Q0FBeUMsMkRBQTJEO0FBQ3BHLFFBQVEsZ0VBQWU7QUFDdkIsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0Msb0VBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsMkVBQXVCO0FBQ3JGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isb0JBQW9CLHlDQUF5QztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBYTtBQUM1QyxzREFBc0QsY0FBYztBQUNwRTtBQUNBLDhCQUE4QiwrREFBYTtBQUMzQyxzREFBc0QsY0FBYztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0NBQXNDLGdFQUFlO0FBQ3JEO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxnQ0FBZ0MsMERBQVM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGFBQWEsRUFBRSx5RUFBbUI7QUFDbEQsc0NBQXNDLFNBQVM7QUFDL0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJFQUF1QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdCQUFnQixrREFBa0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLHlFQUFtQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlLHVCQUF1QiwrREFBYTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxRQUFRLHlFQUFtQjtBQUMzQiwrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0Isb0JBQW9CLEVBQUUsb0VBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3REFBd0QsRUFBRSxvRUFBaUI7QUFDL0Y7QUFDQSwyQkFBMkIsZ0VBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQywyQkFBMkIsK0RBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsK0JBQStCLE1BQU07QUFDckMsZ0JBQWdCLHdEQUF3RCxFQUFFLG9FQUFpQjtBQUMzRix1QkFBdUIsZ0VBQWU7QUFDdEM7QUFDQSx3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4Q0FBOEM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0VBQWM7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MsS0FBSztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBLDZDQUE2QyxzQ0FBc0M7QUFDbkYsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLHlCQUF5QixlQUFlO0FBQ3hDLGdCQUFnQixxQ0FBcUMsRUFBRSxvRUFBaUI7QUFDeEUsdUJBQXVCLGdFQUFlO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBYztBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxlQUFlLCtJQUErSSxJQUFJO0FBQ2xLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksb0VBQWlCLGVBQWUsK0JBQStCO0FBQzNFO0FBQ0E7QUFDQSxZQUFZLG9FQUFpQixlQUFlLGtCQUFrQjtBQUM5RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0FwaUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEFzc2V0VXRpbCB9IGZyb20gJy4uL3V0aWxzL0Fzc2V0VXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IEZldGNoVXRpbCB9IGZyb20gJy4uL3V0aWxzL0ZldGNoVXRpbC5qcyc7XG5pbXBvcnQgeyBDVVNUT01fREVFUExJTktfV0FMTEVUUyB9IGZyb20gJy4uL3V0aWxzL01vYmlsZVdhbGxldC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IEFzc2V0Q29udHJvbGxlciB9IGZyb20gJy4vQXNzZXRDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBiYXNlVXJsID0gQ29yZUhlbHBlclV0aWwuZ2V0QXBpVXJsKCk7XG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEZldGNoVXRpbCh7XG4gICAgYmFzZVVybCxcbiAgICBjbGllbnRJZDogbnVsbFxufSk7XG5jb25zdCBlbnRyaWVzID0gNDA7XG5jb25zdCByZWNvbW1lbmRlZEVudHJpZXMgPSA0O1xuY29uc3QgaW1hZ2VDb3VudFRvRmV0Y2ggPSAyMDtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgcHJvbWlzZXM6IHt9LFxuICAgIHBhZ2U6IDEsXG4gICAgY291bnQ6IDAsXG4gICAgZmVhdHVyZWQ6IFtdLFxuICAgIGFsbEZlYXR1cmVkOiBbXSxcbiAgICByZWNvbW1lbmRlZDogW10sXG4gICAgYWxsUmVjb21tZW5kZWQ6IFtdLFxuICAgIHdhbGxldHM6IFtdLFxuICAgIGZpbHRlcmVkV2FsbGV0czogW10sXG4gICAgc2VhcmNoOiBbXSxcbiAgICBpc0FuYWx5dGljc0VuYWJsZWQ6IGZhbHNlLFxuICAgIGV4Y2x1ZGVkV2FsbGV0czogW10sXG4gICAgaXNGZXRjaGluZ1JlY29tbWVuZGVkV2FsbGV0czogZmFsc2UsXG4gICAgZXhwbG9yZXJXYWxsZXRzOiBbXSxcbiAgICBleHBsb3JlckZpbHRlcmVkV2FsbGV0czogW10sXG4gICAgcGxhbjoge1xuICAgICAgICB0aWVyOiAnbm9uZScsXG4gICAgICAgIGhhc0V4Y2VlZGVkVXNhZ2VMaW1pdDogZmFsc2UsXG4gICAgICAgIGxpbWl0czoge1xuICAgICAgICAgICAgaXNBYm92ZVJwY0xpbWl0OiBmYWxzZSxcbiAgICAgICAgICAgIGlzQWJvdmVNYXVMaW1pdDogZmFsc2VcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQXBpQ29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIF9nZXRTZGtQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCB7IHByb2plY3RJZCwgc2RrVHlwZSwgc2RrVmVyc2lvbiB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICAgICBzdDogc2RrVHlwZSB8fCAnYXBwa2l0JyxcbiAgICAgICAgICAgIHN2OiBzZGtWZXJzaW9uIHx8ICdodG1sLXdhZ21pLTQuMi4yJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgX2ZpbHRlck91dEV4dGVuc2lvbnMod2FsbGV0cykge1xuICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuaXNVbml2ZXJzYWxQcm92aWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHdhbGxldHMuZmlsdGVyKHcgPT4gQm9vbGVhbih3Lm1vYmlsZV9saW5rIHx8IHcuZGVza3RvcF9saW5rIHx8IHcud2ViYXBwX2xpbmspKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2FsbGV0cztcbiAgICB9LFxuICAgIGFzeW5jIF9mZXRjaFdhbGxldEltYWdlKGltYWdlSWQpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBgJHthcGkuYmFzZVVybH0vZ2V0V2FsbGV0SW1hZ2UvJHtpbWFnZUlkfWA7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBhcGkuZ2V0QmxvYih7IHBhdGg6IGltYWdlVXJsLCBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSB9KTtcbiAgICAgICAgQXNzZXRDb250cm9sbGVyLnNldFdhbGxldEltYWdlKGltYWdlSWQsIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xuICAgIH0sXG4gICAgYXN5bmMgX2ZldGNoTmV0d29ya0ltYWdlKGltYWdlSWQpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBgJHthcGkuYmFzZVVybH0vcHVibGljL2dldEFzc2V0SW1hZ2UvJHtpbWFnZUlkfWA7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBhcGkuZ2V0QmxvYih7IHBhdGg6IGltYWdlVXJsLCBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSB9KTtcbiAgICAgICAgQXNzZXRDb250cm9sbGVyLnNldE5ldHdvcmtJbWFnZShpbWFnZUlkLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICB9LFxuICAgIGFzeW5jIF9mZXRjaENvbm5lY3RvckltYWdlKGltYWdlSWQpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBgJHthcGkuYmFzZVVybH0vcHVibGljL2dldEFzc2V0SW1hZ2UvJHtpbWFnZUlkfWA7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBhcGkuZ2V0QmxvYih7IHBhdGg6IGltYWdlVXJsLCBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSB9KTtcbiAgICAgICAgQXNzZXRDb250cm9sbGVyLnNldENvbm5lY3RvckltYWdlKGltYWdlSWQsIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xuICAgIH0sXG4gICAgYXN5bmMgX2ZldGNoQ3VycmVuY3lJbWFnZShjb3VudHJ5Q29kZSkge1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGAke2FwaS5iYXNlVXJsfS9wdWJsaWMvZ2V0Q3VycmVuY3lJbWFnZS8ke2NvdW50cnlDb2RlfWA7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBhcGkuZ2V0QmxvYih7IHBhdGg6IGltYWdlVXJsLCBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKSB9KTtcbiAgICAgICAgQXNzZXRDb250cm9sbGVyLnNldEN1cnJlbmN5SW1hZ2UoY291bnRyeUNvZGUsIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xuICAgIH0sXG4gICAgYXN5bmMgX2ZldGNoVG9rZW5JbWFnZShzeW1ib2wpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBgJHthcGkuYmFzZVVybH0vcHVibGljL2dldFRva2VuSW1hZ2UvJHtzeW1ib2x9YDtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IGFwaS5nZXRCbG9iKHsgcGF0aDogaW1hZ2VVcmwsIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpIH0pO1xuICAgICAgICBBc3NldENvbnRyb2xsZXIuc2V0VG9rZW5JbWFnZShzeW1ib2wsIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xuICAgIH0sXG4gICAgX2ZpbHRlcldhbGxldHNCeVBsYXRmb3JtKHdhbGxldHMpIHtcbiAgICAgICAgY29uc3Qgd2FsbGV0c0xlbmd0aCA9IHdhbGxldHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFdhbGxldHMgPSBDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpXG4gICAgICAgICAgICA/IHdhbGxldHM/LmZpbHRlcih3ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAody5tb2JpbGVfbGluayB8fCB3LndlYmFwcF9saW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21EZWVwbGlua1dhbGxldElkcyA9IE9iamVjdC52YWx1ZXMoQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMpLm1hcCh3YWxsZXQgPT4gd2FsbGV0LmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tRGVlcGxpbmtXYWxsZXRJZHMuaW5jbHVkZXMody5pZCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB3YWxsZXRzO1xuICAgICAgICBjb25zdCBtb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggPSB3YWxsZXRzTGVuZ3RoIC0gZmlsdGVyZWRXYWxsZXRzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHsgZmlsdGVyZWRXYWxsZXRzLCBtb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggfTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoUHJvamVjdENvbmZpZygpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6ICcvYXBwa2l0L3YxL2NvbmZpZycsXG4gICAgICAgICAgICBwYXJhbXM6IEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmZlYXR1cmVzO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hVc2FnZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogJy9hcHBraXQvdjEvcHJvamVjdC1saW1pdHMnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgdGllciwgaXNBYm92ZU1hdUxpbWl0LCBpc0Fib3ZlUnBjTGltaXQgfSA9IHJlc3BvbnNlLnBsYW5MaW1pdHM7XG4gICAgICAgICAgICBjb25zdCBpc1N0YXJ0ZXJQbGFuID0gdGllciA9PT0gJ3N0YXJ0ZXInO1xuICAgICAgICAgICAgY29uc3QgaXNBYm92ZVVzYWdlTGltaXQgPSBpc0Fib3ZlTWF1TGltaXQgfHwgaXNBYm92ZVJwY0xpbWl0O1xuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5zdGF0ZS5wbGFuID0ge1xuICAgICAgICAgICAgICAgIHRpZXIsXG4gICAgICAgICAgICAgICAgaGFzRXhjZWVkZWRVc2FnZUxpbWl0OiBpc1N0YXJ0ZXJQbGFuICYmIGlzQWJvdmVVc2FnZUxpbWl0LFxuICAgICAgICAgICAgICAgIGxpbWl0czoge1xuICAgICAgICAgICAgICAgICAgICBpc0Fib3ZlUnBjTGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGlzQWJvdmVNYXVMaW1pdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIHVzYWdlJywgZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoQWxsb3dlZE9yaWdpbnMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGFsbG93ZWRPcmlnaW5zIH0gPSBhd2FpdCBhcGkuZ2V0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnL3Byb2plY3RzL3YxL29yaWdpbnMnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhbGxvd2VkT3JpZ2lucztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLmNhdXNlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBlcnJvci5jYXVzZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQ29uc3RhbnRzVXRpbC5IVFRQX1NUQVRVU19DT0RFUy5UT09fTUFOWV9SRVFVRVNUUykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JBVEVfTElNSVRFRCcsIHsgY2F1c2U6IGVycm9yIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID49IENvbnN0YW50c1V0aWwuSFRUUF9TVEFUVVNfQ09ERVMuU0VSVkVSX0VSUk9SICYmIHN0YXR1cyA8IDYwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NFUlZFUl9FUlJPUicsIHsgY2F1c2U6IGVycm9yIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoTmV0d29ya0ltYWdlcygpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBpZHMgPSByZXF1ZXN0ZWRDYWlwTmV0d29ya3NcbiAgICAgICAgICAgID8ubWFwKCh7IGFzc2V0cyB9KSA9PiBhc3NldHM/LmltYWdlSWQpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAuZmlsdGVyKGltYWdlSWQgPT4gIUFzc2V0VXRpbC5nZXROZXR3b3JrSW1hZ2VCeUlkKGltYWdlSWQpKTtcbiAgICAgICAgaWYgKGlkcykge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGlkcy5tYXAoaWQgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hOZXR3b3JrSW1hZ2UoaWQpKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoQ29ubmVjdG9ySW1hZ2VzKCkge1xuICAgICAgICBjb25zdCB7IGNvbm5lY3RvcnMgfSA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IGlkcyA9IGNvbm5lY3RvcnMubWFwKCh7IGltYWdlSWQgfSkgPT4gaW1hZ2VJZCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoaWRzLm1hcChpZCA9PiBBcGlDb250cm9sbGVyLl9mZXRjaENvbm5lY3RvckltYWdlKGlkKSkpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hDdXJyZW5jeUltYWdlcyhjdXJyZW5jaWVzID0gW10pIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGN1cnJlbmNpZXMubWFwKGN1cnJlbmN5ID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoQ3VycmVuY3lJbWFnZShjdXJyZW5jeSkpKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVG9rZW5JbWFnZXModG9rZW5zID0gW10pIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHRva2Vucy5tYXAodG9rZW4gPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hUb2tlbkltYWdlKHRva2VuKSkpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hXYWxsZXRzKHBhcmFtcykge1xuICAgICAgICBjb25zdCBleGNsdWRlID0gcGFyYW1zLmV4Y2x1ZGUgPz8gW107XG4gICAgICAgIGNvbnN0IHNka1Byb3BlcnRpZXMgPSBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGlmIChzZGtQcm9wZXJ0aWVzLnN2LnN0YXJ0c1dpdGgoJ2h0bWwtY29yZS0nKSkge1xuICAgICAgICAgICAgZXhjbHVkZS5wdXNoKC4uLk9iamVjdC52YWx1ZXMoQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMpLm1hcCh3ID0+IHcuaWQpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3YWxsZXRzID0gYXdhaXQgYXBpLmdldCh7XG4gICAgICAgICAgICBwYXRoOiAnL2dldFdhbGxldHMnLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLi4uQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpLFxuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBwYWdlOiBTdHJpbmcocGFyYW1zLnBhZ2UpLFxuICAgICAgICAgICAgICAgIGVudHJpZXM6IFN0cmluZyhwYXJhbXMuZW50cmllcyksXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogcGFyYW1zLmluY2x1ZGU/LmpvaW4oJywnKSxcbiAgICAgICAgICAgICAgICBleGNsdWRlOiBleGNsdWRlLmpvaW4oJywnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBmaWx0ZXJlZFdhbGxldHMsIG1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCB9ID0gQXBpQ29udHJvbGxlci5fZmlsdGVyV2FsbGV0c0J5UGxhdGZvcm0od2FsbGV0cz8uZGF0YSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBmaWx0ZXJlZFdhbGxldHMgfHwgW10sXG4gICAgICAgICAgICAvLyBLZWVwIG9yaWdpbmFsIGNvdW50IGZvciBkaXNwbGF5IG9uIG1haW4gcGFnZVxuICAgICAgICAgICAgY291bnQ6IHdhbGxldHM/LmNvdW50LFxuICAgICAgICAgICAgbW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhc3luYyBwcmVmZXRjaFdhbGxldFJhbmtzKCkge1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5jb25uZWN0b3JzO1xuICAgICAgICBpZiAoIWNvbm5lY3RvcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICBlbnRyaWVzOiAyMCxcbiAgICAgICAgICAgIGJhZGdlOiAnY2VydGlmaWVkJ1xuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMubmFtZXMgPSBjb25uZWN0b3JzLm1hcChjID0+IGMubmFtZSkuam9pbignLCcpO1xuICAgICAgICBpZiAoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluID09PSBDb25zdGFudHNVdGlsLkNIQUlOLkVWTSkge1xuICAgICAgICAgICAgY29uc3QgcmRuc0NhbmRpZGF0ZXMgPSBbXG4gICAgICAgICAgICAgICAgLi4uY29ubmVjdG9ycy5mbGF0TWFwKGMgPT4gYy5jb25uZWN0b3JzPy5tYXAoc2MgPT4gc2MuaW5mbz8ucmRucykgfHwgW10pLFxuICAgICAgICAgICAgICAgIC4uLmNvbm5lY3RvcnMubWFwKGMgPT4gYy5pbmZvPy5yZG5zKVxuICAgICAgICAgICAgXS5maWx0ZXIoKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgaWYgKHJkbnNDYW5kaWRhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5yZG5zID0gcmRuc0NhbmRpZGF0ZXMuam9pbignLCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFdhbGxldHMocGFyYW1zKTtcbiAgICAgICAgc3RhdGUuZXhwbG9yZXJXYWxsZXRzID0gZGF0YTtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5leHRlbmRDb25uZWN0b3JzV2l0aEV4cGxvcmVyV2FsbGV0cyhkYXRhKTtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZHMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtJZHMoKS5qb2luKCcsJyk7XG4gICAgICAgIHN0YXRlLmV4cGxvcmVyRmlsdGVyZWRXYWxsZXRzID0gZGF0YS5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaEZlYXR1cmVkV2FsbGV0cygpIHtcbiAgICAgICAgY29uc3QgeyBmZWF0dXJlZFdhbGxldElkcyB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGlmIChmZWF0dXJlZFdhbGxldElkcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uQXBpQ29udHJvbGxlci5fZ2V0U2RrUHJvcGVydGllcygpLFxuICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgZW50cmllczogZmVhdHVyZWRXYWxsZXRJZHM/Lmxlbmd0aCA/PyByZWNvbW1lbmRlZEVudHJpZXMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogZmVhdHVyZWRXYWxsZXRJZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hXYWxsZXRzKHBhcmFtcyk7XG4gICAgICAgICAgICBjb25zdCBzb3J0ZWREYXRhID0gWy4uLmRhdGFdLnNvcnQoKGEsIGIpID0+IGZlYXR1cmVkV2FsbGV0SWRzLmluZGV4T2YoYS5pZCkgLSBmZWF0dXJlZFdhbGxldElkcy5pbmRleE9mKGIuaWQpKTtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlcyA9IHNvcnRlZERhdGEubWFwKGQgPT4gZC5pbWFnZV9pZCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGltYWdlcy5tYXAoaWQgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hXYWxsZXRJbWFnZShpZCkpKTtcbiAgICAgICAgICAgIHN0YXRlLmZlYXR1cmVkID0gc29ydGVkRGF0YTtcbiAgICAgICAgICAgIHN0YXRlLmFsbEZlYXR1cmVkID0gc29ydGVkRGF0YTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hSZWNvbW1lbmRlZFdhbGxldHMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0ZS5pc0ZldGNoaW5nUmVjb21tZW5kZWRXYWxsZXRzID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5jbHVkZVdhbGxldElkcywgZXhjbHVkZVdhbGxldElkcywgZmVhdHVyZWRXYWxsZXRJZHMgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICAgICAgY29uc3QgZXhjbHVkZSA9IFsuLi4oZXhjbHVkZVdhbGxldElkcyA/PyBbXSksIC4uLihmZWF0dXJlZFdhbGxldElkcyA/PyBbXSldLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYWlucyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpLmpvaW4oJywnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgIGVudHJpZXM6IHJlY29tbWVuZGVkRW50cmllcyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiBpbmNsdWRlV2FsbGV0SWRzLFxuICAgICAgICAgICAgICAgIGV4Y2x1ZGUsXG4gICAgICAgICAgICAgICAgY2hhaW5zXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBjb3VudCB9ID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFdhbGxldHMocGFyYW1zKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VudCA9IFN0b3JhZ2VVdGlsLmdldFJlY2VudFdhbGxldHMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGVkSW1hZ2VzID0gZGF0YS5tYXAoZCA9PiBkLmltYWdlX2lkKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBjb25zdCByZWNlbnRJbWFnZXMgPSByZWNlbnQubWFwKHIgPT4gci5pbWFnZV9pZCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFsuLi5yZWNvbW1lbmRlZEltYWdlcywgLi4ucmVjZW50SW1hZ2VzXS5tYXAoaWQgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hXYWxsZXRJbWFnZShpZCkpKTtcbiAgICAgICAgICAgIHN0YXRlLnJlY29tbWVuZGVkID0gZGF0YTtcbiAgICAgICAgICAgIHN0YXRlLmFsbFJlY29tbWVuZGVkID0gZGF0YTtcbiAgICAgICAgICAgIHN0YXRlLmNvdW50ID0gY291bnQgPz8gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBDYXRjaCBzaWxlbnRseVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3RhdGUuaXNGZXRjaGluZ1JlY29tbWVuZGVkV2FsbGV0cyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFdhbGxldHNCeVBhZ2UoeyBwYWdlIH0pIHtcbiAgICAgICAgY29uc3QgeyBpbmNsdWRlV2FsbGV0SWRzLCBleGNsdWRlV2FsbGV0SWRzLCBmZWF0dXJlZFdhbGxldElkcyB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpLmpvaW4oJywnKTtcbiAgICAgICAgY29uc3QgZXhjbHVkZSA9IFtcbiAgICAgICAgICAgIC4uLnN0YXRlLnJlY29tbWVuZGVkLm1hcCgoeyBpZCB9KSA9PiBpZCksXG4gICAgICAgICAgICAuLi4oZXhjbHVkZVdhbGxldElkcyA/PyBbXSksXG4gICAgICAgICAgICAuLi4oZmVhdHVyZWRXYWxsZXRJZHMgPz8gW10pXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgZW50cmllcyxcbiAgICAgICAgICAgIGluY2x1ZGU6IGluY2x1ZGVXYWxsZXRJZHMsXG4gICAgICAgICAgICBleGNsdWRlLFxuICAgICAgICAgICAgY2hhaW5zXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgZGF0YSwgY291bnQsIG1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCB9ID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFdhbGxldHMocGFyYW1zKTtcbiAgICAgICAgc3RhdGUubW9iaWxlRmlsdGVyZWRPdXRXYWxsZXRzTGVuZ3RoID1cbiAgICAgICAgICAgIG1vYmlsZUZpbHRlcmVkT3V0V2FsbGV0c0xlbmd0aCArIChzdGF0ZS5tb2JpbGVGaWx0ZXJlZE91dFdhbGxldHNMZW5ndGggPz8gMCk7XG4gICAgICAgIGNvbnN0IGltYWdlcyA9IGRhdGFcbiAgICAgICAgICAgIC5zbGljZSgwLCBpbWFnZUNvdW50VG9GZXRjaClcbiAgICAgICAgICAgIC5tYXAodyA9PiB3LmltYWdlX2lkKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGltYWdlcy5tYXAoaWQgPT4gQXBpQ29udHJvbGxlci5fZmV0Y2hXYWxsZXRJbWFnZShpZCkpKTtcbiAgICAgICAgc3RhdGUud2FsbGV0cyA9IENvcmVIZWxwZXJVdGlsLnVuaXF1ZUJ5KFsuLi5zdGF0ZS53YWxsZXRzLCAuLi5BcGlDb250cm9sbGVyLl9maWx0ZXJPdXRFeHRlbnNpb25zKGRhdGEpXSwgJ2lkJykuZmlsdGVyKHcgPT4gdy5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2hhaW5zLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgICAgICBzdGF0ZS5jb3VudCA9IGNvdW50ID4gc3RhdGUuY291bnQgPyBjb3VudCA6IHN0YXRlLmNvdW50O1xuICAgICAgICBzdGF0ZS5wYWdlID0gcGFnZTtcbiAgICB9LFxuICAgIGFzeW5jIGluaXRpYWxpemVFeGNsdWRlZFdhbGxldHMoeyBpZHMgfSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgZW50cmllczogaWRzLmxlbmd0aCxcbiAgICAgICAgICAgIGluY2x1ZGU6IGlkc1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hXYWxsZXRzKHBhcmFtcyk7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBkYXRhLmZvckVhY2god2FsbGV0ID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5leGNsdWRlZFdhbGxldHMucHVzaCh7IHJkbnM6IHdhbGxldC5yZG5zLCBuYW1lOiB3YWxsZXQubmFtZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzZWFyY2hXYWxsZXQoeyBzZWFyY2gsIGJhZGdlIH0pIHtcbiAgICAgICAgY29uc3QgeyBpbmNsdWRlV2FsbGV0SWRzLCBleGNsdWRlV2FsbGV0SWRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkuam9pbignLCcpO1xuICAgICAgICBzdGF0ZS5zZWFyY2ggPSBbXTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgIGVudHJpZXM6IDEwMCxcbiAgICAgICAgICAgIHNlYXJjaDogc2VhcmNoPy50cmltKCksXG4gICAgICAgICAgICBiYWRnZV90eXBlOiBiYWRnZSxcbiAgICAgICAgICAgIGluY2x1ZGU6IGluY2x1ZGVXYWxsZXRJZHMsXG4gICAgICAgICAgICBleGNsdWRlOiBleGNsdWRlV2FsbGV0SWRzLFxuICAgICAgICAgICAgY2hhaW5zXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgQXBpQ29udHJvbGxlci5mZXRjaFdhbGxldHMocGFyYW1zKTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnU0VBUkNIX1dBTExFVCcsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGJhZGdlOiBiYWRnZSA/PyAnJywgc2VhcmNoOiBzZWFyY2ggPz8gJycgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gZGF0YS5tYXAodyA9PiB3LmltYWdlX2lkKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbXG4gICAgICAgICAgICAuLi5pbWFnZXMubWFwKGlkID0+IEFwaUNvbnRyb2xsZXIuX2ZldGNoV2FsbGV0SW1hZ2UoaWQpKSxcbiAgICAgICAgICAgIENvcmVIZWxwZXJVdGlsLndhaXQoMzAwKVxuICAgICAgICBdKTtcbiAgICAgICAgc3RhdGUuc2VhcmNoID0gQXBpQ29udHJvbGxlci5fZmlsdGVyT3V0RXh0ZW5zaW9ucyhkYXRhKTtcbiAgICB9LFxuICAgIGluaXRQcm9taXNlKGtleSwgZmV0Y2hGbikge1xuICAgICAgICBjb25zdCBleGlzdGluZ1Byb21pc2UgPSBzdGF0ZS5wcm9taXNlc1trZXldO1xuICAgICAgICBpZiAoZXhpc3RpbmdQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoc3RhdGUucHJvbWlzZXNba2V5XSA9IGZldGNoRm4oKSk7XG4gICAgfSxcbiAgICBwcmVmZXRjaCh7IGZldGNoQ29ubmVjdG9ySW1hZ2VzID0gdHJ1ZSwgZmV0Y2hGZWF0dXJlZFdhbGxldHMgPSB0cnVlLCBmZXRjaFJlY29tbWVuZGVkV2FsbGV0cyA9IHRydWUsIGZldGNoTmV0d29ya0ltYWdlcyA9IHRydWUsIGZldGNoV2FsbGV0UmFua3MgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtcbiAgICAgICAgICAgIGZldGNoQ29ubmVjdG9ySW1hZ2VzICYmXG4gICAgICAgICAgICAgICAgQXBpQ29udHJvbGxlci5pbml0UHJvbWlzZSgnY29ubmVjdG9ySW1hZ2VzJywgQXBpQ29udHJvbGxlci5mZXRjaENvbm5lY3RvckltYWdlcyksXG4gICAgICAgICAgICBmZXRjaEZlYXR1cmVkV2FsbGV0cyAmJlxuICAgICAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuaW5pdFByb21pc2UoJ2ZlYXR1cmVkV2FsbGV0cycsIEFwaUNvbnRyb2xsZXIuZmV0Y2hGZWF0dXJlZFdhbGxldHMpLFxuICAgICAgICAgICAgZmV0Y2hSZWNvbW1lbmRlZFdhbGxldHMgJiZcbiAgICAgICAgICAgICAgICBBcGlDb250cm9sbGVyLmluaXRQcm9taXNlKCdyZWNvbW1lbmRlZFdhbGxldHMnLCBBcGlDb250cm9sbGVyLmZldGNoUmVjb21tZW5kZWRXYWxsZXRzKSxcbiAgICAgICAgICAgIGZldGNoTmV0d29ya0ltYWdlcyAmJlxuICAgICAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuaW5pdFByb21pc2UoJ25ldHdvcmtJbWFnZXMnLCBBcGlDb250cm9sbGVyLmZldGNoTmV0d29ya0ltYWdlcyksXG4gICAgICAgICAgICBmZXRjaFdhbGxldFJhbmtzICYmXG4gICAgICAgICAgICAgICAgQXBpQ29udHJvbGxlci5pbml0UHJvbWlzZSgnd2FsbGV0UmFua3MnLCBBcGlDb250cm9sbGVyLnByZWZldGNoV2FsbGV0UmFua3MpXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKTtcbiAgICB9LFxuICAgIHByZWZldGNoQW5hbHl0aWNzQ29uZmlnKCkge1xuICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LmFuYWx5dGljcykge1xuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5mZXRjaEFuYWx5dGljc0NvbmZpZygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaEFuYWx5dGljc0NvbmZpZygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXNBbmFseXRpY3NFbmFibGVkIH0gPSBhd2FpdCBhcGkuZ2V0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiAnL2dldEFuYWx5dGljc0NvbmZpZycsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBBcGlDb250cm9sbGVyLl9nZXRTZGtQcm9wZXJ0aWVzKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc2V0RmVhdHVyZXMoeyBhbmFseXRpY3M6IGlzQW5hbHl0aWNzRW5hYmxlZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnNldEZlYXR1cmVzKHsgYW5hbHl0aWNzOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZmlsdGVyQnlOYW1lc3BhY2VzKG5hbWVzcGFjZXMpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2VzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0YXRlLmZlYXR1cmVkID0gc3RhdGUuYWxsRmVhdHVyZWQ7XG4gICAgICAgICAgICBzdGF0ZS5yZWNvbW1lbmRlZCA9IHN0YXRlLmFsbFJlY29tbWVuZGVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWRzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrSWRzKCkuam9pbignLCcpO1xuICAgICAgICBzdGF0ZS5mZWF0dXJlZCA9IHN0YXRlLmFsbEZlYXR1cmVkLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICAgICAgc3RhdGUucmVjb21tZW5kZWQgPSBzdGF0ZS5hbGxSZWNvbW1lbmRlZC5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkV2FsbGV0cyA9IHN0YXRlLndhbGxldHMuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgIH0sXG4gICAgY2xlYXJGaWx0ZXJCeU5hbWVzcGFjZXMoKSB7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkV2FsbGV0cyA9IFtdO1xuICAgIH0sXG4gICAgc2V0RmlsdGVyQnlOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBzdGF0ZS5mZWF0dXJlZCA9IHN0YXRlLmFsbEZlYXR1cmVkO1xuICAgICAgICAgICAgc3RhdGUucmVjb21tZW5kZWQgPSBzdGF0ZS5hbGxSZWNvbW1lbmRlZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkcyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpLmpvaW4oJywnKTtcbiAgICAgICAgc3RhdGUuZmVhdHVyZWQgPSBzdGF0ZS5hbGxGZWF0dXJlZC5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5jaGFpbnM/LnNvbWUoY2hhaW4gPT4gY2FpcE5ldHdvcmtJZHMuaW5jbHVkZXMoY2hhaW4pKSk7XG4gICAgICAgIHN0YXRlLnJlY29tbWVuZGVkID0gc3RhdGUuYWxsUmVjb21tZW5kZWQuZmlsdGVyKHdhbGxldCA9PiB3YWxsZXQuY2hhaW5zPy5zb21lKGNoYWluID0+IGNhaXBOZXR3b3JrSWRzLmluY2x1ZGVzKGNoYWluKSkpO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZFdhbGxldHMgPSBzdGF0ZS53YWxsZXRzLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LmNoYWlucz8uc29tZShjaGFpbiA9PiBjYWlwTmV0d29ya0lkcy5pbmNsdWRlcyhjaGFpbikpKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXBpQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetController: () => (/* binding */ AssetController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    walletImages: {},\n    networkImages: {},\n    chainImages: {},\n    connectorImages: {},\n    tokenImages: {},\n    currencyImages: {}\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeNetworkImages(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.networkImages, () => callback(state.networkImages));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setWalletImage(key, value) {\n        state.walletImages[key] = value;\n    },\n    setNetworkImage(key, value) {\n        state.networkImages[key] = value;\n    },\n    setChainImage(key, value) {\n        state.chainImages[key] = value;\n    },\n    setConnectorImage(key, value) {\n        state.connectorImages = { ...state.connectorImages, [key]: value };\n    },\n    setTokenImage(key, value) {\n        state.tokenImages[key] = value;\n    },\n    setCurrencyImage(key, value) {\n        state.currencyImages[key] = value;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst AssetController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__.withErrorBoundary)(controller);\n//# sourceMappingURL=AssetController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Bc3NldENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5RDtBQUNLO0FBQ0k7QUFDbEU7QUFDQSxjQUFjLHFEQUFLO0FBQ25CLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsbUJBQW1CO0FBQ25CLHVCQUF1QjtBQUN2QixtQkFBbUI7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQ0FBa0M7QUFDbEMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3Qiw4RUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Bc3NldENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHdhbGxldEltYWdlczoge30sXG4gICAgbmV0d29ya0ltYWdlczoge30sXG4gICAgY2hhaW5JbWFnZXM6IHt9LFxuICAgIGNvbm5lY3RvckltYWdlczoge30sXG4gICAgdG9rZW5JbWFnZXM6IHt9LFxuICAgIGN1cnJlbmN5SW1hZ2VzOiB7fVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlTmV0d29ya0ltYWdlcyhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLm5ldHdvcmtJbWFnZXMsICgpID0+IGNhbGxiYWNrKHN0YXRlLm5ldHdvcmtJbWFnZXMpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzZXRXYWxsZXRJbWFnZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLndhbGxldEltYWdlc1trZXldID0gdmFsdWU7XG4gICAgfSxcbiAgICBzZXROZXR3b3JrSW1hZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS5uZXR3b3JrSW1hZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIHNldENoYWluSW1hZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS5jaGFpbkltYWdlc1trZXldID0gdmFsdWU7XG4gICAgfSxcbiAgICBzZXRDb25uZWN0b3JJbWFnZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLmNvbm5lY3RvckltYWdlcyA9IHsgLi4uc3RhdGUuY29ubmVjdG9ySW1hZ2VzLCBba2V5XTogdmFsdWUgfTtcbiAgICB9LFxuICAgIHNldFRva2VuSW1hZ2Uoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS50b2tlbkltYWdlc1trZXldID0gdmFsdWU7XG4gICAgfSxcbiAgICBzZXRDdXJyZW5jeUltYWdlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3RhdGUuY3VycmVuY3lJbWFnZXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IEFzc2V0Q29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNzZXRDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockchainApiController: () => (/* binding */ BlockchainApiController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\nconst DEFAULT_OPTIONS = {\n    purchaseCurrencies: [\n        {\n            id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n            name: 'USD Coin',\n            symbol: 'USDC',\n            networks: [\n                {\n                    name: 'ethereum-mainnet',\n                    display_name: 'Ethereum',\n                    chain_id: '1',\n                    contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n                },\n                {\n                    name: 'polygon-mainnet',\n                    display_name: 'Polygon',\n                    chain_id: '137',\n                    contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n                }\n            ]\n        },\n        {\n            id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n            name: 'Ether',\n            symbol: 'ETH',\n            networks: [\n                {\n                    name: 'ethereum-mainnet',\n                    display_name: 'Ethereum',\n                    chain_id: '1',\n                    contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n                },\n                {\n                    name: 'polygon-mainnet',\n                    display_name: 'Polygon',\n                    chain_id: '137',\n                    contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n                }\n            ]\n        }\n    ],\n    paymentCurrencies: [\n        {\n            id: 'USD',\n            payment_method_limits: [\n                {\n                    id: 'card',\n                    min: '10.00',\n                    max: '7500.00'\n                },\n                {\n                    id: 'ach_bank_account',\n                    min: '10.00',\n                    max: '25000.00'\n                }\n            ]\n        },\n        {\n            id: 'EUR',\n            payment_method_limits: [\n                {\n                    id: 'card',\n                    min: '10.00',\n                    max: '7500.00'\n                },\n                {\n                    id: 'ach_bank_account',\n                    min: '10.00',\n                    max: '25000.00'\n                }\n            ]\n        }\n    ]\n};\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getBlockchainApiUrl();\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    clientId: null,\n    api: new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__.FetchUtil({ baseUrl, clientId: null }),\n    supportedChains: { http: [], ws: [] }\n});\n// -- Controller ---------------------------------------- //\nconst BlockchainApiController = {\n    state,\n    async get(request) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const projectId = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId;\n        const params = {\n            ...(request.params || {}),\n            st,\n            sv,\n            projectId\n        };\n        return state.api.get({\n            ...request,\n            params\n        });\n    },\n    getSdkProperties() {\n        const { sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        return {\n            st: sdkType || 'unknown',\n            sv: sdkVersion || 'unknown'\n        };\n    },\n    async isNetworkSupported(networkId) {\n        if (!networkId) {\n            return false;\n        }\n        try {\n            if (!state.supportedChains.http.length) {\n                await BlockchainApiController.getSupportedNetworks();\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return state.supportedChains.http.includes(networkId);\n    },\n    async getSupportedNetworks() {\n        try {\n            const supportedChains = await BlockchainApiController.get({\n                path: 'v1/supported-chains'\n            });\n            state.supportedChains = supportedChains;\n            return supportedChains;\n        }\n        catch {\n            return state.supportedChains;\n        }\n    },\n    async fetchIdentity({ address }) {\n        const identityCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getIdentityFromCacheForAddress(address);\n        if (identityCache) {\n            return identityCache;\n        }\n        const result = await BlockchainApiController.get({\n            path: `/v1/identity/${address}`,\n            params: {\n                sender: _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress\n                    ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getPlainAddress(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress)\n                    : undefined\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateIdentityCache({\n            address,\n            identity: result,\n            timestamp: Date.now()\n        });\n        return result;\n    },\n    async fetchTransactions({ account, cursor, signal, cache, chainId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { data: [], next: undefined };\n        }\n        const transactionsCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getTransactionsCacheForAddress({\n            address: account,\n            chainId\n        });\n        if (transactionsCache) {\n            return transactionsCache;\n        }\n        const result = await BlockchainApiController.get({\n            path: `/v1/account/${account}/history`,\n            params: {\n                cursor,\n                chainId\n            },\n            signal,\n            cache\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateTransactionsCache({\n            address: account,\n            chainId,\n            timestamp: Date.now(),\n            transactions: result\n        });\n        return result;\n    },\n    async fetchSwapQuote({ amount, userAddress, from, to, gasPrice }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { quotes: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/quotes`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                amount,\n                userAddress,\n                from,\n                to,\n                gasPrice\n            }\n        });\n    },\n    async fetchSwapTokens({ chainId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { tokens: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/tokens`,\n            params: { chainId }\n        });\n    },\n    async getAddressBalance({ caipNetworkId, address }) {\n        return state.api\n            .post({\n            path: `/v1?chainId=${caipNetworkId}&projectId=${_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId}`,\n            body: {\n                id: '1',\n                jsonrpc: '2.0',\n                method: 'getAddressBalance',\n                params: { address }\n            }\n        })\n            .then(result => result.result);\n    },\n    async fetchTokenPrice({ addresses, caipNetworkId = _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(caipNetworkId);\n        if (!isSupported) {\n            return { fungibles: [] };\n        }\n        const tokenPriceCache = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getTokenPriceCacheForAddresses(addresses);\n        if (tokenPriceCache) {\n            return tokenPriceCache;\n        }\n        const result = await state.api.post({\n            path: '/v1/fungible/price',\n            body: {\n                currency: 'usd',\n                addresses,\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateTokenPriceCache({\n            addresses,\n            timestamp: Date.now(),\n            tokenPrice: result\n        });\n        return result;\n    },\n    async fetchSwapAllowance({ tokenAddress, userAddress }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { allowance: '0' };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/allowance`,\n            params: {\n                tokenAddress,\n                userAddress\n            },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    },\n    async fetchGasPrice({ chainId }) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Gas Price');\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/gas-price`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                chainId,\n                st,\n                sv\n            }\n        });\n    },\n    async generateSwapCalldata({ amount, from, to, userAddress, disableEstimate }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Swaps');\n        }\n        return state.api.post({\n            path: '/v1/convert/build-transaction',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: {\n                amount,\n                eip155: {\n                    slippage: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE\n                },\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId,\n                from,\n                to,\n                userAddress,\n                disableEstimate\n            }\n        });\n    },\n    async generateApproveCalldata({ from, to, userAddress }) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            throw new Error('Network not supported for Swaps');\n        }\n        return BlockchainApiController.get({\n            path: `/v1/convert/build-approve`,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            params: {\n                userAddress,\n                from,\n                to,\n                st,\n                sv\n            }\n        });\n    },\n    async getBalance(address, chainId, forceUpdate) {\n        const { st, sv } = BlockchainApiController.getSdkProperties();\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Token Balance Unavailable');\n            return { balances: [] };\n        }\n        const caipAddress = `${chainId}:${address}`;\n        const cachedBalance = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getBalanceCacheForCaipAddress(caipAddress);\n        if (cachedBalance) {\n            return cachedBalance;\n        }\n        const balance = await BlockchainApiController.get({\n            path: `/v1/account/${address}/balance`,\n            params: {\n                currency: 'usd',\n                chainId,\n                forceUpdate,\n                st,\n                sv\n            }\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateBalanceCache({\n            caipAddress,\n            balance,\n            timestamp: Date.now()\n        });\n        return balance;\n    },\n    async lookupEnsName(name) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { addresses: {}, attributes: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/profile/account/${name}`,\n            params: { apiVersion: '2' }\n        });\n    },\n    async reverseLookupEnsName({ address }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return [];\n        }\n        const sender = _ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData()?.address;\n        return BlockchainApiController.get({\n            path: `/v1/profile/reverse/${address}`,\n            params: {\n                sender,\n                apiVersion: '2'\n            }\n        });\n    },\n    async getEnsNameSuggestions(name) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { suggestions: [] };\n        }\n        return BlockchainApiController.get({\n            path: `/v1/profile/suggestions/${name}`,\n            params: { zone: 'reown.id' }\n        });\n    },\n    async registerEnsName({ coinType, address, message, signature }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { success: false };\n        }\n        return state.api.post({\n            path: `/v1/profile/account`,\n            body: { coin_type: coinType, address, message, signature },\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    },\n    async generateOnRampURL({ destinationWallets, partnerUserId, defaultNetwork, purchaseAmount, paymentAmount }) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return '';\n        }\n        const response = await state.api.post({\n            path: `/v1/generators/onrampurl`,\n            params: {\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            body: {\n                destinationWallets,\n                defaultNetwork,\n                partnerUserId,\n                defaultExperience: 'buy',\n                presetCryptoAmount: purchaseAmount,\n                presetFiatAmount: paymentAmount\n            }\n        });\n        return response.url;\n    },\n    async getOnrampOptions() {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { paymentCurrencies: [], purchaseCurrencies: [] };\n        }\n        try {\n            const response = await BlockchainApiController.get({\n                path: `/v1/onramp/options`\n            });\n            return response;\n        }\n        catch (e) {\n            return DEFAULT_OPTIONS;\n        }\n    },\n    async getOnrampQuote({ purchaseCurrency, paymentCurrency, amount, network }) {\n        try {\n            const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n            if (!isSupported) {\n                return null;\n            }\n            const response = await state.api.post({\n                path: `/v1/onramp/quote`,\n                params: {\n                    projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n                },\n                body: {\n                    purchaseCurrency,\n                    paymentCurrency,\n                    amount,\n                    network\n                }\n            });\n            return response;\n        }\n        catch (e) {\n            // Mocking response as 1:1 until endpoint is ready\n            return {\n                networkFee: { amount, currency: paymentCurrency.id },\n                paymentSubtotal: { amount, currency: paymentCurrency.id },\n                paymentTotal: { amount, currency: paymentCurrency.id },\n                purchaseAmount: { amount, currency: paymentCurrency.id },\n                quoteId: 'mocked-quote-id'\n            };\n        }\n    },\n    async getSmartSessions(caipAddress) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return [];\n        }\n        return BlockchainApiController.get({\n            path: `/v1/sessions/${caipAddress}`\n        });\n    },\n    async revokeSmartSession(address, pci, signature) {\n        const isSupported = await BlockchainApiController.isNetworkSupported(_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipNetwork?.caipNetworkId);\n        if (!isSupported) {\n            return { success: false };\n        }\n        return state.api.post({\n            path: `/v1/sessions/${address}/revoke`,\n            params: {\n                projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.projectId\n            },\n            body: {\n                pci,\n                signature\n            }\n        });\n    },\n    setClientId(clientId) {\n        state.clientId = clientId;\n        state.api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_2__.FetchUtil({ baseUrl, clientId });\n    }\n};\n//# sourceMappingURL=BlockchainApiController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUM7QUFDbUI7QUFDRTtBQUNWO0FBQ0k7QUFDQztBQUNJO0FBQ0o7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQzlCO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBLGFBQWEsMERBQVMsR0FBRyx5QkFBeUI7QUFDbEQsdUJBQXVCO0FBQ3ZCLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCLDBCQUEwQixvRUFBaUI7QUFDM0M7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLHNCQUFzQixFQUFFLG9FQUFpQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLFNBQVM7QUFDbkMsOEJBQThCLDhEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFFBQVE7QUFDMUM7QUFDQSx3QkFBd0IsZ0VBQWU7QUFDdkMsc0JBQXNCLG9FQUFjLGlCQUFpQixnRUFBZTtBQUNwRTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsOERBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDhCQUE4Qix5Q0FBeUM7QUFDdkUsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0Esa0NBQWtDLDhEQUFXO0FBQzdDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsUUFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDhEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLDJCQUEyQix5Q0FBeUM7QUFDcEUsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDRCQUE0QixTQUFTO0FBQ3JDLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsU0FBUztBQUNULEtBQUs7QUFDTCw4QkFBOEIsd0JBQXdCO0FBQ3REO0FBQ0E7QUFDQSxpQ0FBaUMsY0FBYyxhQUFhLG9FQUFpQixpQkFBaUI7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLDJCQUEyQixnRUFBZSx5Q0FBeUM7QUFDL0c7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGdDQUFnQyw4REFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG9FQUFpQjtBQUM1QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsOERBQVc7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLCtCQUErQiwyQkFBMkI7QUFDMUQsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDBCQUEwQixTQUFTO0FBQ25DLGdCQUFnQixTQUFTO0FBQ3pCLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxpQ0FBaUMsZ0RBQWdEO0FBQ2pGLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0VBQWE7QUFDM0MsaUJBQWlCO0FBQ2pCLDJCQUEyQixvRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsb0NBQW9DLHVCQUF1QjtBQUMzRCxnQkFBZ0IsU0FBUztBQUN6Qiw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekIsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQixxQkFBcUI7QUFDckI7QUFDQSwrQkFBK0IsUUFBUSxHQUFHLFFBQVE7QUFDbEQsOEJBQThCLDhEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFFBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw4REFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQztBQUNBO0FBQ0EseUNBQXlDLEtBQUs7QUFDOUMsc0JBQXNCO0FBQ3RCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsaUNBQWlDLFNBQVM7QUFDMUMsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnRUFBZTtBQUN0QztBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDZFQUE2RSxnRUFBZTtBQUM1RjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsNkNBQTZDLEtBQUs7QUFDbEQsc0JBQXNCO0FBQ3RCLFNBQVM7QUFDVCxLQUFLO0FBQ0wsNEJBQTRCLHVDQUF1QztBQUNuRSw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFrRDtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLDhCQUE4QixrRkFBa0Y7QUFDaEgsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwyQkFBMkIsb0RBQW9EO0FBQy9FO0FBQ0EsaUZBQWlGLGdFQUFlO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixvRUFBaUI7QUFDaEQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNDQUFzQztBQUNwRSxtQ0FBbUMsc0NBQXNDO0FBQ3pFLGdDQUFnQyxzQ0FBc0M7QUFDdEUsa0NBQWtDLHNDQUFzQztBQUN4RTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2RUFBNkUsZ0VBQWU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsWUFBWTtBQUM5QyxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsNkVBQTZFLGdFQUFlO0FBQzVGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUTtBQUMxQztBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLDBEQUFTLEdBQUcsbUJBQW1CO0FBQ3ZEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBGZXRjaFV0aWwgfSBmcm9tICcuLi91dGlscy9GZXRjaFV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi9TbmFja0NvbnRyb2xsZXIuanMnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIHB1cmNoYXNlQ3VycmVuY2llczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJzJiOTIzMTVkLWVhYjctNWJlZi04NGZhLTA4OWExMzEzMzNmNScsXG4gICAgICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgICAgICBuZXR3b3JrczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2V0aGVyZXVtLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluX2lkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweEEwYjg2OTkxYzYyMThiMzZjMWQxOUQ0YTJlOUViMGNFMzYwNmVCNDgnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb2x5Z29uLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5faWQ6ICcxMzcnLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiAnMHgyNzkxQmNhMWYyZGU0NjYxRUQ4OEEzMEM5OUE3YTk0NDlBYTg0MTc0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICcyYjkyMzE1ZC1lYWI3LTViZWYtODRmYS0wODlhMTMxMzMzZjUnLFxuICAgICAgICAgICAgbmFtZTogJ0V0aGVyJyxcbiAgICAgICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgICAgICBuZXR3b3JrczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2V0aGVyZXVtLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluX2lkOiAnMScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweEEwYjg2OTkxYzYyMThiMzZjMWQxOUQ0YTJlOUViMGNFMzYwNmVCNDgnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb2x5Z29uLW1haW5uZXQnLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5faWQ6ICcxMzcnLFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiAnMHgyNzkxQmNhMWYyZGU0NjYxRUQ4OEEzMEM5OUE3YTk0NDlBYTg0MTc0J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgcGF5bWVudEN1cnJlbmNpZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdVU0QnLFxuICAgICAgICAgICAgcGF5bWVudF9tZXRob2RfbGltaXRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2NhcmQnLFxuICAgICAgICAgICAgICAgICAgICBtaW46ICcxMC4wMCcsXG4gICAgICAgICAgICAgICAgICAgIG1heDogJzc1MDAuMDAnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnYWNoX2JhbmtfYWNjb3VudCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAnMjUwMDAuMDAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ0VVUicsXG4gICAgICAgICAgICBwYXltZW50X21ldGhvZF9saW1pdHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnY2FyZCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgICAgICAgICAgbWF4OiAnNzUwMC4wMCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdhY2hfYmFua19hY2NvdW50JyxcbiAgICAgICAgICAgICAgICAgICAgbWluOiAnMTAuMDAnLFxuICAgICAgICAgICAgICAgICAgICBtYXg6ICcyNTAwMC4wMCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdXG59O1xuLy8gLS0gSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBiYXNlVXJsID0gQ29yZUhlbHBlclV0aWwuZ2V0QmxvY2tjaGFpbkFwaVVybCgpO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBjbGllbnRJZDogbnVsbCxcbiAgICBhcGk6IG5ldyBGZXRjaFV0aWwoeyBiYXNlVXJsLCBjbGllbnRJZDogbnVsbCB9KSxcbiAgICBzdXBwb3J0ZWRDaGFpbnM6IHsgaHR0cDogW10sIHdzOiBbXSB9XG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIGFzeW5jIGdldChyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHsgc3QsIHN2IH0gPSBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTZGtQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgLi4uKHJlcXVlc3QucGFyYW1zIHx8IHt9KSxcbiAgICAgICAgICAgIHN0LFxuICAgICAgICAgICAgc3YsXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFwaS5nZXQoe1xuICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGdldFNka1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgc2RrVHlwZSwgc2RrVmVyc2lvbiB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdDogc2RrVHlwZSB8fCAndW5rbm93bicsXG4gICAgICAgICAgICBzdjogc2RrVmVyc2lvbiB8fCAndW5rbm93bidcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIGlzTmV0d29ya1N1cHBvcnRlZChuZXR3b3JrSWQpIHtcbiAgICAgICAgaWYgKCFuZXR3b3JrSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5zdXBwb3J0ZWRDaGFpbnMuaHR0cC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRTdXBwb3J0ZWROZXR3b3JrcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLnN1cHBvcnRlZENoYWlucy5odHRwLmluY2x1ZGVzKG5ldHdvcmtJZCk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRTdXBwb3J0ZWROZXR3b3JrcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZENoYWlucyA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICAgICAgcGF0aDogJ3YxL3N1cHBvcnRlZC1jaGFpbnMnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLnN1cHBvcnRlZENoYWlucyA9IHN1cHBvcnRlZENoYWlucztcbiAgICAgICAgICAgIHJldHVybiBzdXBwb3J0ZWRDaGFpbnM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnN1cHBvcnRlZENoYWlucztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hJZGVudGl0eSh7IGFkZHJlc3MgfSkge1xuICAgICAgICBjb25zdCBpZGVudGl0eUNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0SWRlbnRpdHlGcm9tQ2FjaGVGb3JBZGRyZXNzKGFkZHJlc3MpO1xuICAgICAgICBpZiAoaWRlbnRpdHlDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkZW50aXR5Q2FjaGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvaWRlbnRpdHkvJHthZGRyZXNzfWAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBzZW5kZXI6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICA/IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVJZGVudGl0eUNhY2hlKHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBpZGVudGl0eTogcmVzdWx0LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUcmFuc2FjdGlvbnMoeyBhY2NvdW50LCBjdXJzb3IsIHNpZ25hbCwgY2FjaGUsIGNoYWluSWQgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBbXSwgbmV4dDogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zQ2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUcmFuc2FjdGlvbnNDYWNoZUZvckFkZHJlc3Moe1xuICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudCxcbiAgICAgICAgICAgIGNoYWluSWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbnNDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uc0NhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2FjY291bnQvJHthY2NvdW50fS9oaXN0b3J5YCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGN1cnNvcixcbiAgICAgICAgICAgICAgICBjaGFpbklkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgY2FjaGVcbiAgICAgICAgfSk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZVRyYW5zYWN0aW9uc0NhY2hlKHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGFjY291bnQsXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiByZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFN3YXBRdW90ZSh7IGFtb3VudCwgdXNlckFkZHJlc3MsIGZyb20sIHRvLCBnYXNQcmljZSB9KSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHF1b3RlczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvY29udmVydC9xdW90ZXNgLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICBnYXNQcmljZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoU3dhcFRva2Vucyh7IGNoYWluSWQgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0b2tlbnM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL2NvbnZlcnQvdG9rZW5zYCxcbiAgICAgICAgICAgIHBhcmFtczogeyBjaGFpbklkIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRBZGRyZXNzQmFsYW5jZSh7IGNhaXBOZXR3b3JrSWQsIGFkZHJlc3MgfSkge1xuICAgICAgICByZXR1cm4gc3RhdGUuYXBpXG4gICAgICAgICAgICAucG9zdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxP2NoYWluSWQ9JHtjYWlwTmV0d29ya0lkfSZwcm9qZWN0SWQ9JHtPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWR9YCxcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ2dldEFkZHJlc3NCYWxhbmNlJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHsgYWRkcmVzcyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4gcmVzdWx0LnJlc3VsdCk7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFRva2VuUHJpY2UoeyBhZGRyZXNzZXMsIGNhaXBOZXR3b3JrSWQgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChjYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgZnVuZ2libGVzOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuUHJpY2VDYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRva2VuUHJpY2VDYWNoZUZvckFkZHJlc3NlcyhhZGRyZXNzZXMpO1xuICAgICAgICBpZiAodG9rZW5QcmljZUNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5QcmljZUNhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXRlLmFwaS5wb3N0KHtcbiAgICAgICAgICAgIHBhdGg6ICcvdjEvZnVuZ2libGUvcHJpY2UnLFxuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgICAgICAgICBhZGRyZXNzZXMsXG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgU3RvcmFnZVV0aWwudXBkYXRlVG9rZW5QcmljZUNhY2hlKHtcbiAgICAgICAgICAgIGFkZHJlc3NlcyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHRva2VuUHJpY2U6IHJlc3VsdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoU3dhcEFsbG93YW5jZSh7IHRva2VuQWRkcmVzcywgdXNlckFkZHJlc3MgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBhbGxvd2FuY2U6ICcwJyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9jb252ZXJ0L2FsbG93YW5jZWAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICB0b2tlbkFkZHJlc3MsXG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3NcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoR2FzUHJpY2UoeyBjaGFpbklkIH0pIHtcbiAgICAgICAgY29uc3QgeyBzdCwgc3YgfSA9IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldFNka1Byb3BlcnRpZXMoKTtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG5vdCBzdXBwb3J0ZWQgZm9yIEdhcyBQcmljZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9jb252ZXJ0L2dhcy1wcmljZWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgc3QsXG4gICAgICAgICAgICAgICAgc3ZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBnZW5lcmF0ZVN3YXBDYWxsZGF0YSh7IGFtb3VudCwgZnJvbSwgdG8sIHVzZXJBZGRyZXNzLCBkaXNhYmxlRXN0aW1hdGUgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgbm90IHN1cHBvcnRlZCBmb3IgU3dhcHMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuYXBpLnBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogJy92MS9jb252ZXJ0L2J1aWxkLXRyYW5zYWN0aW9uJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBlaXAxNTU6IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpcHBhZ2U6IENvbnN0YW50c1V0aWwuQ09OVkVSVF9TTElQUEFHRV9UT0xFUkFOQ0VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb2plY3RJZDogT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUVzdGltYXRlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZ2VuZXJhdGVBcHByb3ZlQ2FsbGRhdGEoeyBmcm9tLCB0bywgdXNlckFkZHJlc3MgfSkge1xuICAgICAgICBjb25zdCB7IHN0LCBzdiB9ID0gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0U2RrUHJvcGVydGllcygpO1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgbm90IHN1cHBvcnRlZCBmb3IgU3dhcHMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvY29udmVydC9idWlsZC1hcHByb3ZlYCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgdXNlckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICBzdCxcbiAgICAgICAgICAgICAgICBzdlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGdldEJhbGFuY2UoYWRkcmVzcywgY2hhaW5JZCwgZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgeyBzdCwgc3YgfSA9IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldFNka1Byb3BlcnRpZXMoKTtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignVG9rZW4gQmFsYW5jZSBVbmF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIHsgYmFsYW5jZXM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBgJHtjaGFpbklkfToke2FkZHJlc3N9YDtcbiAgICAgICAgY29uc3QgY2FjaGVkQmFsYW5jZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgaWYgKGNhY2hlZEJhbGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRCYWxhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9hY2NvdW50LyR7YWRkcmVzc30vYmFsYW5jZWAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBmb3JjZVVwZGF0ZSxcbiAgICAgICAgICAgICAgICBzdCxcbiAgICAgICAgICAgICAgICBzdlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgU3RvcmFnZVV0aWwudXBkYXRlQmFsYW5jZUNhY2hlKHtcbiAgICAgICAgICAgIGNhaXBBZGRyZXNzLFxuICAgICAgICAgICAgYmFsYW5jZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJhbGFuY2U7XG4gICAgfSxcbiAgICBhc3luYyBsb29rdXBFbnNOYW1lKG5hbWUpIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYWRkcmVzc2VzOiB7fSwgYXR0cmlidXRlczogW10gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvcHJvZmlsZS9hY2NvdW50LyR7bmFtZX1gLFxuICAgICAgICAgICAgcGFyYW1zOiB7IGFwaVZlcnNpb246ICcyJyB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgcmV2ZXJzZUxvb2t1cEVuc05hbWUoeyBhZGRyZXNzIH0pIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbmRlciA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzO1xuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvcHJvZmlsZS9yZXZlcnNlLyR7YWRkcmVzc31gLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgc2VuZGVyLFxuICAgICAgICAgICAgICAgIGFwaVZlcnNpb246ICcyJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGdldEVuc05hbWVTdWdnZXN0aW9ucyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Z2dlc3Rpb25zOiBbXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXQoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9wcm9maWxlL3N1Z2dlc3Rpb25zLyR7bmFtZX1gLFxuICAgICAgICAgICAgcGFyYW1zOiB7IHpvbmU6ICdyZW93bi5pZCcgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHJlZ2lzdGVyRW5zTmFtZSh7IGNvaW5UeXBlLCBhZGRyZXNzLCBtZXNzYWdlLCBzaWduYXR1cmUgfSkge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmlzTmV0d29ya1N1cHBvcnRlZChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5hcGkucG9zdCh7XG4gICAgICAgICAgICBwYXRoOiBgL3YxL3Byb2ZpbGUvYWNjb3VudGAsXG4gICAgICAgICAgICBib2R5OiB7IGNvaW5fdHlwZTogY29pblR5cGUsIGFkZHJlc3MsIG1lc3NhZ2UsIHNpZ25hdHVyZSB9LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBnZW5lcmF0ZU9uUmFtcFVSTCh7IGRlc3RpbmF0aW9uV2FsbGV0cywgcGFydG5lclVzZXJJZCwgZGVmYXVsdE5ldHdvcmssIHB1cmNoYXNlQW1vdW50LCBwYXltZW50QW1vdW50IH0pIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RhdGUuYXBpLnBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogYC92MS9nZW5lcmF0b3JzL29ucmFtcHVybGAsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbldhbGxldHMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdE5ldHdvcmssXG4gICAgICAgICAgICAgICAgcGFydG5lclVzZXJJZCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0RXhwZXJpZW5jZTogJ2J1eScsXG4gICAgICAgICAgICAgICAgcHJlc2V0Q3J5cHRvQW1vdW50OiBwdXJjaGFzZUFtb3VudCxcbiAgICAgICAgICAgICAgICBwcmVzZXRGaWF0QW1vdW50OiBwYXltZW50QW1vdW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UudXJsO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0T25yYW1wT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcGF5bWVudEN1cnJlbmNpZXM6IFtdLCBwdXJjaGFzZUN1cnJlbmNpZXM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgICAgICBwYXRoOiBgL3YxL29ucmFtcC9vcHRpb25zYFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBERUZBVUxUX09QVElPTlM7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGdldE9ucmFtcFF1b3RlKHsgcHVyY2hhc2VDdXJyZW5jeSwgcGF5bWVudEN1cnJlbmN5LCBhbW91bnQsIG5ldHdvcmsgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5pc05ldHdvcmtTdXBwb3J0ZWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RhdGUuYXBpLnBvc3Qoe1xuICAgICAgICAgICAgICAgIHBhdGg6IGAvdjEvb25yYW1wL3F1b3RlYCxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VDdXJyZW5jeSxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudEN1cnJlbmN5LFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcmtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTW9ja2luZyByZXNwb25zZSBhcyAxOjEgdW50aWwgZW5kcG9pbnQgaXMgcmVhZHlcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV0d29ya0ZlZTogeyBhbW91bnQsIGN1cnJlbmN5OiBwYXltZW50Q3VycmVuY3kuaWQgfSxcbiAgICAgICAgICAgICAgICBwYXltZW50U3VidG90YWw6IHsgYW1vdW50LCBjdXJyZW5jeTogcGF5bWVudEN1cnJlbmN5LmlkIH0sXG4gICAgICAgICAgICAgICAgcGF5bWVudFRvdGFsOiB7IGFtb3VudCwgY3VycmVuY3k6IHBheW1lbnRDdXJyZW5jeS5pZCB9LFxuICAgICAgICAgICAgICAgIHB1cmNoYXNlQW1vdW50OiB7IGFtb3VudCwgY3VycmVuY3k6IHBheW1lbnRDdXJyZW5jeS5pZCB9LFxuICAgICAgICAgICAgICAgIHF1b3RlSWQ6ICdtb2NrZWQtcXVvdGUtaWQnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBnZXRTbWFydFNlc3Npb25zKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZ2V0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvc2Vzc2lvbnMvJHtjYWlwQWRkcmVzc31gXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgcmV2b2tlU21hcnRTZXNzaW9uKGFkZHJlc3MsIHBjaSwgc2lnbmF0dXJlKSB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuaXNOZXR3b3JrU3VwcG9ydGVkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLmFwaS5wb3N0KHtcbiAgICAgICAgICAgIHBhdGg6IGAvdjEvc2Vzc2lvbnMvJHthZGRyZXNzfS9yZXZva2VgLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5wcm9qZWN0SWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgcGNpLFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldENsaWVudElkKGNsaWVudElkKSB7XG4gICAgICAgIHN0YXRlLmNsaWVudElkID0gY2xpZW50SWQ7XG4gICAgICAgIHN0YXRlLmFwaSA9IG5ldyBGZXRjaFV0aWwoeyBiYXNlVXJsLCBjbGllbnRJZCB9KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainController: () => (/* binding */ ChainController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-wallet */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameStorage.js\");\n/* harmony import */ var _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-wallet */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _AdapterController_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AdapterController/index.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AdapterController/index.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ProviderController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProviderController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PublicStateController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _SendController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SendController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ----------------------------------------- //\nconst defaultAccountState = {\n    currentTab: 0,\n    tokenBalance: [],\n    smartAccountDeployed: false,\n    addressLabels: new Map(),\n    user: undefined,\n    preferredAccountType: undefined\n};\nconst networkState = {\n    caipNetwork: undefined,\n    supportsAllNetworks: true,\n    smartAccountEnabledNetworks: []\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    chains: (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.proxyMap)(),\n    activeCaipAddress: undefined,\n    activeChain: undefined,\n    activeCaipNetwork: undefined,\n    noAdapters: false,\n    universalAdapter: {\n        connectionControllerClient: undefined\n    },\n    isSwitchingNamespace: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribeAccountStateProp(property, callback, chain) {\n        const activeChain = chain || state.activeChain;\n        if (!activeChain) {\n            return () => undefined;\n        }\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state.chains.get(activeChain)?.accountState || {}, property, callback);\n    },\n    subscribeChainProp(property, callback, chain) {\n        let prev = undefined;\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.chains, () => {\n            const activeChain = chain || state.activeChain;\n            if (activeChain) {\n                const nextValue = state.chains.get(activeChain)?.[property];\n                if (prev !== nextValue) {\n                    prev = nextValue;\n                    callback(nextValue);\n                }\n            }\n        });\n    },\n    initialize(adapters, caipNetworks, clients) {\n        const { chainId: activeChainId, namespace: activeNamespace } = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getActiveNetworkProps();\n        const activeCaipNetwork = caipNetworks?.find(network => network.id.toString() === activeChainId?.toString());\n        const defaultAdapter = adapters.find(adapter => adapter?.namespace === activeNamespace);\n        const adapterToActivate = defaultAdapter || adapters?.[0];\n        const namespacesFromAdapters = adapters.map(a => a.namespace).filter(n => n !== undefined);\n        /**\n         * If the AppKit is in embedded mode (for Demo app), we should get the available namespaces from the adapters.\n         */\n        const namespaces = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.enableEmbedded\n            ? new Set([...namespacesFromAdapters])\n            : new Set([...(caipNetworks?.map(network => network.chainNamespace) ?? [])]);\n        if (adapters?.length === 0 || !adapterToActivate) {\n            state.noAdapters = true;\n        }\n        if (!state.noAdapters) {\n            state.activeChain = adapterToActivate?.namespace;\n            state.activeCaipNetwork = activeCaipNetwork;\n            ChainController.setChainNetworkData(adapterToActivate?.namespace, {\n                caipNetwork: activeCaipNetwork\n            });\n            if (state.activeChain) {\n                _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({ activeChain: adapterToActivate?.namespace });\n            }\n        }\n        namespaces.forEach(namespace => {\n            const namespaceNetworks = caipNetworks?.filter(network => network.chainNamespace === namespace);\n            const storedAccountTypes = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getPreferredAccountTypes() || {};\n            const defaultTypes = { ..._OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.defaultAccountTypes, ...storedAccountTypes };\n            ChainController.state.chains.set(namespace, {\n                namespace,\n                networkState: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({ ...networkState, caipNetwork: namespaceNetworks?.[0] }),\n                accountState: (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n                    ...defaultAccountState,\n                    preferredAccountType: defaultTypes[namespace]\n                }),\n                caipNetworks: namespaceNetworks ?? [],\n                ...clients\n            });\n            ChainController.setRequestedCaipNetworks(namespaceNetworks ?? [], namespace);\n        });\n    },\n    removeAdapter(namespace) {\n        if (state.activeChain === namespace) {\n            const nextAdapter = Array.from(state.chains.entries()).find(([chainNamespace]) => chainNamespace !== namespace);\n            if (nextAdapter) {\n                const caipNetwork = nextAdapter[1]?.caipNetworks?.[0];\n                if (caipNetwork) {\n                    ChainController.setActiveCaipNetwork(caipNetwork);\n                }\n            }\n        }\n        state.chains.delete(namespace);\n    },\n    addAdapter(adapter, { connectionControllerClient }, caipNetworks) {\n        if (!adapter.namespace) {\n            throw new Error('ChainController:addAdapter - adapter must have a namespace');\n        }\n        state.chains.set(adapter.namespace, {\n            namespace: adapter.namespace,\n            networkState: { ...networkState, caipNetwork: caipNetworks[0] },\n            accountState: { ...defaultAccountState },\n            caipNetworks,\n            connectionControllerClient\n        });\n        ChainController.setRequestedCaipNetworks(caipNetworks?.filter(caipNetwork => caipNetwork.chainNamespace === adapter.namespace) ?? [], adapter.namespace);\n    },\n    addNetwork(network) {\n        const chainAdapter = state.chains.get(network.chainNamespace);\n        if (chainAdapter) {\n            const newNetworks = [...(chainAdapter.caipNetworks || [])];\n            if (!chainAdapter.caipNetworks?.find(caipNetwork => caipNetwork.id === network.id)) {\n                newNetworks.push(network);\n            }\n            state.chains.set(network.chainNamespace, { ...chainAdapter, caipNetworks: newNetworks });\n            ChainController.setRequestedCaipNetworks(newNetworks, network.chainNamespace);\n            _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespace(network.chainNamespace, true);\n        }\n    },\n    removeNetwork(namespace, networkId) {\n        const chainAdapter = state.chains.get(namespace);\n        if (chainAdapter) {\n            // Check if network being removed is active network\n            const isActiveNetwork = state.activeCaipNetwork?.id === networkId;\n            // Filter out the network being removed\n            const newCaipNetworksOfAdapter = [\n                ...(chainAdapter.caipNetworks?.filter(network => network.id !== networkId) || [])\n            ];\n            // If active network was removed and there are other networks available, switch to first one\n            if (isActiveNetwork && chainAdapter?.caipNetworks?.[0]) {\n                ChainController.setActiveCaipNetwork(chainAdapter.caipNetworks[0]);\n            }\n            state.chains.set(namespace, { ...chainAdapter, caipNetworks: newCaipNetworksOfAdapter });\n            ChainController.setRequestedCaipNetworks(newCaipNetworksOfAdapter || [], namespace);\n            if (newCaipNetworksOfAdapter.length === 0) {\n                _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespace(namespace, false);\n            }\n        }\n    },\n    setAdapterNetworkState(chain, props) {\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            chainAdapter.networkState = {\n                ...(chainAdapter.networkState || networkState),\n                ...props\n            };\n            state.chains.set(chain, chainAdapter);\n        }\n    },\n    setChainAccountData(chain, accountProps, _unknown = true) {\n        if (!chain) {\n            throw new Error('Chain is required to update chain account data');\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            const newAccountState = {\n                ...(chainAdapter.accountState || defaultAccountState),\n                ...accountProps\n            };\n            state.chains.set(chain, { ...chainAdapter, accountState: newAccountState });\n            if (state.chains.size === 1 || state.activeChain === chain) {\n                if (accountProps.caipAddress) {\n                    state.activeCaipAddress = accountProps.caipAddress;\n                }\n            }\n        }\n    },\n    setChainNetworkData(chain, networkProps) {\n        if (!chain) {\n            return;\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (chainAdapter) {\n            const newNetworkState = { ...(chainAdapter.networkState || networkState), ...networkProps };\n            state.chains.set(chain, { ...chainAdapter, networkState: newNetworkState });\n        }\n    },\n    // eslint-disable-next-line max-params\n    setAccountProp(prop, value, chain, replaceState = true) {\n        ChainController.setChainAccountData(chain, { [prop]: value }, replaceState);\n    },\n    setActiveNamespace(chain) {\n        state.activeChain = chain;\n        const newAdapter = chain ? state.chains.get(chain) : undefined;\n        const caipNetwork = newAdapter?.networkState?.caipNetwork;\n        if (caipNetwork?.id && chain) {\n            state.activeCaipAddress = newAdapter?.accountState?.caipAddress;\n            state.activeCaipNetwork = caipNetwork;\n            ChainController.setChainNetworkData(chain, { caipNetwork });\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setActiveCaipNetworkId(caipNetwork?.caipNetworkId);\n            _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({\n                activeChain: chain,\n                selectedNetworkId: caipNetwork?.caipNetworkId\n            });\n        }\n    },\n    setActiveCaipNetwork(caipNetwork) {\n        if (!caipNetwork) {\n            return;\n        }\n        const isSameNamespace = state.activeChain === caipNetwork.chainNamespace;\n        if (!isSameNamespace) {\n            ChainController.setIsSwitchingNamespace(true);\n        }\n        const newAdapter = state.chains.get(caipNetwork.chainNamespace);\n        state.activeChain = caipNetwork.chainNamespace;\n        state.activeCaipNetwork = caipNetwork;\n        ChainController.setChainNetworkData(caipNetwork.chainNamespace, { caipNetwork });\n        let address = newAdapter?.accountState?.address;\n        if (address) {\n            state.activeCaipAddress = `${caipNetwork.chainNamespace}:${caipNetwork.id}:${address}`;\n        }\n        else if (isSameNamespace && state.activeCaipAddress) {\n            const { address: parsedAddress } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(state.activeCaipAddress);\n            address = parsedAddress;\n            state.activeCaipAddress = `${caipNetwork.caipNetworkId}:${address}`;\n        }\n        else {\n            state.activeCaipAddress = undefined;\n        }\n        ChainController.setChainAccountData(caipNetwork.chainNamespace, {\n            address,\n            caipAddress: state.activeCaipAddress\n        });\n        // Reset send state when switching networks\n        _SendController_js__WEBPACK_IMPORTED_MODULE_7__.SendController.resetSend();\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_4__.PublicStateController.set({\n            activeChain: state.activeChain,\n            selectedNetworkId: state.activeCaipNetwork?.caipNetworkId\n        });\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setActiveCaipNetworkId(caipNetwork.caipNetworkId);\n        const isSupported = ChainController.checkIfSupportedNetwork(caipNetwork.chainNamespace);\n        if (!isSupported &&\n            _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.enableNetworkSwitch &&\n            !_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.allowUnsupportedChain &&\n            !_ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectionController.state.wcBasic) {\n            ChainController.showUnsupportedChainUI();\n        }\n    },\n    addCaipNetwork(caipNetwork) {\n        if (!caipNetwork) {\n            return;\n        }\n        const chain = state.chains.get(caipNetwork.chainNamespace);\n        if (chain) {\n            chain?.caipNetworks?.push(caipNetwork);\n        }\n    },\n    async switchActiveNamespace(namespace) {\n        if (!namespace) {\n            return;\n        }\n        const isDifferentChain = namespace !== ChainController.state.activeChain;\n        const caipNetworkOfNamespace = ChainController.getNetworkData(namespace)?.caipNetwork;\n        const firstNetworkWithChain = ChainController.getCaipNetworkByNamespace(namespace, caipNetworkOfNamespace?.id);\n        if (isDifferentChain && firstNetworkWithChain) {\n            await ChainController.switchActiveNetwork(firstNetworkWithChain);\n        }\n    },\n    async switchActiveNetwork(network, { throwOnFailure = false } = {}) {\n        const namespace = ChainController.state.activeChain;\n        if (!namespace) {\n            throw new Error('ChainController:switchActiveNetwork - namespace is required');\n        }\n        const isAuthProvider = _ProviderController_js__WEBPACK_IMPORTED_MODULE_9__.ProviderController.getProviderId(state.activeChain) === 'AUTH';\n        const namespaceAddress = ChainController.getAccountData(namespace)?.address;\n        const isAuthSupported = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(network.chainNamespace);\n        try {\n            // If connected to the namespace and switching on same namespace, we should notify the wallet\n            if ((namespaceAddress && network.chainNamespace === namespace) ||\n                (isAuthProvider && isAuthSupported)) {\n                const adapter = _AdapterController_index_js__WEBPACK_IMPORTED_MODULE_11__.AdapterController.get(network.chainNamespace);\n                if (!adapter) {\n                    throw new Error('Adapter not found');\n                }\n                await adapter.switchNetwork({ caipNetwork: network });\n            }\n            ChainController.setActiveCaipNetwork(network);\n        }\n        catch (error) {\n            if (throwOnFailure) {\n                throw error;\n            }\n        }\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_12__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SWITCH_NETWORK',\n            properties: { network: network.caipNetworkId }\n        });\n    },\n    getConnectionControllerClient(_chain) {\n        const chain = _chain || state.activeChain;\n        if (!chain) {\n            throw new Error('Chain is required to get connection controller client');\n        }\n        const chainAdapter = state.chains.get(chain);\n        if (!chainAdapter?.connectionControllerClient) {\n            throw new Error('ConnectionController client not set');\n        }\n        return chainAdapter.connectionControllerClient;\n    },\n    getNetworkProp(key, namespace) {\n        const chainNetworkState = state.chains.get(namespace)?.networkState;\n        if (!chainNetworkState) {\n            return undefined;\n        }\n        return chainNetworkState[key];\n    },\n    getRequestedCaipNetworks(chainToFilter) {\n        const adapter = state.chains.get(chainToFilter);\n        const { approvedCaipNetworkIds = [], requestedCaipNetworks = [] } = adapter?.networkState || {};\n        const sortedNetworks = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.sortRequestedNetworks(approvedCaipNetworkIds, requestedCaipNetworks);\n        const filteredNetworks = sortedNetworks.filter(network => network?.id);\n        return filteredNetworks;\n    },\n    getAllRequestedCaipNetworks() {\n        const requestedCaipNetworks = [];\n        state.chains.forEach(chainAdapter => {\n            if (!chainAdapter.namespace) {\n                throw new Error('ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace');\n            }\n            const caipNetworks = ChainController.getRequestedCaipNetworks(chainAdapter.namespace);\n            requestedCaipNetworks.push(...caipNetworks);\n        });\n        return requestedCaipNetworks;\n    },\n    setRequestedCaipNetworks(caipNetworks, chain) {\n        ChainController.setAdapterNetworkState(chain, { requestedCaipNetworks: caipNetworks });\n        const allRequestedCaipNetworks = ChainController.getAllRequestedCaipNetworks();\n        const namespaces = allRequestedCaipNetworks.map(network => network.chainNamespace);\n        const uniqueNamespaces = Array.from(new Set(namespaces));\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.filterByNamespaces(uniqueNamespaces);\n    },\n    getAllApprovedCaipNetworkIds() {\n        const approvedCaipNetworkIds = [];\n        state.chains.forEach(chainAdapter => {\n            if (!chainAdapter.namespace) {\n                throw new Error('ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace');\n            }\n            const approvedIds = ChainController.getApprovedCaipNetworkIds(chainAdapter.namespace);\n            approvedCaipNetworkIds.push(...approvedIds);\n        });\n        return approvedCaipNetworkIds;\n    },\n    getActiveCaipNetwork(chainNamespace) {\n        if (chainNamespace) {\n            return state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n        }\n        return state.activeCaipNetwork;\n    },\n    getActiveCaipAddress() {\n        return state.activeCaipAddress;\n    },\n    getApprovedCaipNetworkIds(namespace) {\n        const adapter = state.chains.get(namespace);\n        const approvedCaipNetworkIds = adapter?.networkState?.approvedCaipNetworkIds || [];\n        return approvedCaipNetworkIds;\n    },\n    setApprovedCaipNetworksData(namespace, params) {\n        ChainController.setAdapterNetworkState(namespace, params);\n    },\n    checkIfSupportedNetwork(namespace, caipNetworkId) {\n        const activeCaipNetworkId = caipNetworkId || state.activeCaipNetwork?.caipNetworkId;\n        const requestedCaipNetworks = ChainController.getRequestedCaipNetworks(namespace);\n        if (!requestedCaipNetworks.length) {\n            return true;\n        }\n        return requestedCaipNetworks?.some(network => network.caipNetworkId === activeCaipNetworkId);\n    },\n    checkIfSupportedChainId(chainId) {\n        if (!state.activeChain) {\n            return true;\n        }\n        const requestedCaipNetworks = ChainController.getRequestedCaipNetworks(state.activeChain);\n        return requestedCaipNetworks?.some(network => network.id === chainId);\n    },\n    checkIfSmartAccountEnabled() {\n        const networkId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.NetworkUtil.caipNetworkIdToNumber(state.activeCaipNetwork?.caipNetworkId);\n        const activeChain = state.activeChain;\n        if (!activeChain || !networkId) {\n            return false;\n        }\n        const smartAccountEnabledNetworks = _reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_15__.W3mFrameStorage.get(_reown_appkit_wallet__WEBPACK_IMPORTED_MODULE_16__.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(',') || [];\n        return Boolean(smartAccountEnabledNetworks?.includes(networkId.toString()));\n    },\n    showUnsupportedChainUI() {\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_17__.ModalController.open({ view: 'UnsupportedChain' });\n    },\n    checkIfNamesSupported() {\n        const activeCaipNetwork = state.activeCaipNetwork;\n        return Boolean(activeCaipNetwork?.chainNamespace &&\n            _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(activeCaipNetwork.chainNamespace));\n    },\n    resetNetwork(namespace) {\n        ChainController.setAdapterNetworkState(namespace, {\n            approvedCaipNetworkIds: undefined,\n            supportsAllNetworks: true\n        });\n    },\n    resetAccount(chain) {\n        const chainToWrite = chain;\n        if (!chainToWrite) {\n            throw new Error('Chain is required to set account prop');\n        }\n        const currentAccountType = ChainController.state.chains.get(chainToWrite)?.accountState?.preferredAccountType;\n        const optionsAccountType = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.defaultAccountTypes[chainToWrite];\n        state.activeCaipAddress = undefined;\n        ChainController.setChainAccountData(chainToWrite, {\n            smartAccountDeployed: false,\n            currentTab: 0,\n            caipAddress: undefined,\n            address: undefined,\n            balance: undefined,\n            balanceSymbol: undefined,\n            profileName: undefined,\n            profileImage: undefined,\n            addressExplorerUrl: undefined,\n            tokenBalance: [],\n            connectedWalletInfo: undefined,\n            preferredAccountType: optionsAccountType || currentAccountType,\n            socialProvider: undefined,\n            socialWindow: undefined,\n            farcasterUrl: undefined,\n            user: undefined,\n            status: 'disconnected'\n        });\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.removeConnectorId(chainToWrite);\n    },\n    setIsSwitchingNamespace(isSwitchingNamespace) {\n        state.isSwitchingNamespace = isSwitchingNamespace;\n    },\n    getFirstCaipNetworkSupportsAuthConnector() {\n        const availableChains = [];\n        let firstCaipNetwork = undefined;\n        state.chains.forEach(chain => {\n            if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ns => ns === chain.namespace)) {\n                if (chain.namespace) {\n                    availableChains.push(chain.namespace);\n                }\n            }\n        });\n        if (availableChains.length > 0) {\n            const firstAvailableChain = availableChains[0];\n            firstCaipNetwork = firstAvailableChain\n                ? state.chains.get(firstAvailableChain)?.caipNetworks?.[0]\n                : undefined;\n            return firstCaipNetwork;\n        }\n        return undefined;\n    },\n    getAccountData(chainNamespace) {\n        const namespace = chainNamespace || state.activeChain;\n        if (!namespace) {\n            return undefined;\n        }\n        return ChainController.state.chains.get(namespace)?.accountState;\n    },\n    getNetworkData(chainNamespace) {\n        const namespace = chainNamespace || state.activeChain;\n        if (!namespace) {\n            return undefined;\n        }\n        return ChainController.state.chains.get(namespace)?.networkState;\n    },\n    getCaipNetworkByNamespace(chainNamespace, chainId) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        const chain = ChainController.state.chains.get(chainNamespace);\n        const byChainId = chain?.caipNetworks?.find(network => network.id.toString() === chainId?.toString());\n        if (byChainId) {\n            return byChainId;\n        }\n        return chain?.networkState?.caipNetwork || chain?.caipNetworks?.[0];\n    },\n    /**\n     * Get the requested CaipNetwork IDs for a given namespace. If namespace is not provided, all requested CaipNetwork IDs will be returned\n     * @param namespace - The namespace to get the requested CaipNetwork IDs for\n     * @returns The requested CaipNetwork IDs\n     */\n    getRequestedCaipNetworkIds() {\n        const namespace = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.state.filterByNamespace;\n        const chains = namespace ? [state.chains.get(namespace)] : Array.from(state.chains.values());\n        return chains\n            .flatMap(chain => chain?.caipNetworks || [])\n            .map(caipNetwork => caipNetwork.caipNetworkId);\n    },\n    getCaipNetworks(namespace) {\n        if (namespace) {\n            return ChainController.getRequestedCaipNetworks(namespace);\n        }\n        return ChainController.getAllRequestedCaipNetworks();\n    },\n    getCaipNetworkById(id, namespace) {\n        return controller\n            .getCaipNetworks(namespace)\n            .find(n => n.id.toString() === id.toString() || n.caipNetworkId.toString() === id.toString());\n    },\n    setLastConnectedSIWECaipNetwork(network) {\n        state.lastConnectedSIWECaipNetwork = network;\n    },\n    getLastConnectedSIWECaipNetwork() {\n        return state.lastConnectedSIWECaipNetwork;\n    },\n    async fetchTokenBalance(onError) {\n        const accountState = ChainController.getAccountData();\n        if (!accountState) {\n            return [];\n        }\n        const chainId = ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const chain = ChainController.state.activeCaipNetwork?.chainNamespace;\n        const caipAddress = ChainController.state.activeCaipAddress;\n        const address = caipAddress ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.getPlainAddress(caipAddress) : undefined;\n        ChainController.setAccountProp('balanceLoading', true, chain);\n        if (accountState.lastRetry &&\n            !_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_13__.CoreHelperUtil.isAllowedRetry(accountState.lastRetry, 30 * _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_18__.ConstantsUtil.ONE_SEC_MS)) {\n            ChainController.setAccountProp('balanceLoading', false, chain);\n            return [];\n        }\n        try {\n            if (address && chainId && chain) {\n                const balance = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_19__.BalanceUtil.getMyTokensWithBalance();\n                ChainController.setAccountProp('tokenBalance', balance, chain);\n                ChainController.setAccountProp('lastRetry', undefined, chain);\n                ChainController.setAccountProp('balanceLoading', false, chain);\n                return balance;\n            }\n        }\n        catch (error) {\n            ChainController.setAccountProp('lastRetry', Date.now(), chain);\n            onError?.(error);\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_20__.SnackController.showError('Token Balance Unavailable');\n        }\n        finally {\n            ChainController.setAccountProp('balanceLoading', false, chain);\n        }\n        return [];\n    },\n    isCaipNetworkDisabled(network) {\n        const networkNamespace = network.chainNamespace;\n        const isNextNamespaceConnected = Boolean(ChainController.getAccountData(networkNamespace)?.caipAddress);\n        const approvedCaipNetworkIds = ChainController.getAllApprovedCaipNetworkIds();\n        const shouldSupportAllNetworks = ChainController.getNetworkProp('supportsAllNetworks', networkNamespace) !== false;\n        const connectorId = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorId(networkNamespace);\n        const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        const isConnectedWithAuth = connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_10__.ConstantsUtil.CONNECTOR_ID.AUTH && authConnector;\n        if (!isNextNamespaceConnected || shouldSupportAllNetworks || isConnectedWithAuth) {\n            return false;\n        }\n        return !approvedCaipNetworkIds?.includes(network.caipNetworkId);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ChainController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_21__.withErrorBoundary)(controller);\n//# sourceMappingURL=ChainController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDZTtBQUM0QjtBQUMxQjtBQUNwQjtBQUNJO0FBQ0U7QUFDTjtBQUNZO0FBQ0Q7QUFDQTtBQUNGO0FBQ047QUFDRjtBQUNJO0FBQ0U7QUFDTTtBQUNkO0FBQ0U7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBSztBQUNuQixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU0sa0RBQWtEO0FBQ3ZFLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGdCQUFnQixxREFBcUQsRUFBRSw4REFBVztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvRUFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQkFBZ0IsNEVBQXFCLE9BQU8sMkNBQTJDO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhEQUFXO0FBQ2xELG1DQUFtQyxHQUFHLG9FQUFpQjtBQUN2RDtBQUNBO0FBQ0EsOEJBQThCLHFEQUFLLEdBQUcsc0RBQXNEO0FBQzVGLDhCQUE4QixxREFBSztBQUNuQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMEJBQTBCLDRCQUE0QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtDQUErQztBQUMzRSw0QkFBNEIsd0JBQXdCO0FBQ3BEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsNENBQTRDO0FBQ25HO0FBQ0EsWUFBWSx3RUFBbUI7QUFDL0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseURBQXlEO0FBQ25HO0FBQ0E7QUFDQSxnQkFBZ0Isd0VBQW1CO0FBQ25DO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdEQUFnRDtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLHNDQUFzQyxnREFBZ0Q7QUFDdEY7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHFEQUFxRCxlQUFlO0FBQ3BFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFLFlBQVksOERBQVc7QUFDdkIsWUFBWSw0RUFBcUI7QUFDakM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGFBQWE7QUFDdkY7QUFDQTtBQUNBLHlDQUF5QywyQkFBMkIsR0FBRyxlQUFlLEdBQUcsUUFBUTtBQUNqRztBQUNBO0FBQ0Esb0JBQW9CLHlCQUF5QixFQUFFLDJEQUFTO0FBQ3hEO0FBQ0EseUNBQXlDLDBCQUEwQixHQUFHLFFBQVE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCLFFBQVEsNEVBQXFCO0FBQzdCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSw4REFBVztBQUNuQjtBQUNBO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0IsYUFBYSxvRUFBaUI7QUFDOUIsYUFBYSwwRUFBb0I7QUFDakM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHlDQUF5Qyx5QkFBeUIsSUFBSTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzRUFBa0I7QUFDakQ7QUFDQSxnQ0FBZ0MsZ0VBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJFQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0JBQXNCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFnQjtBQUN4QjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQTBEO0FBQzFFLCtCQUErQixxRUFBYztBQUM3QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3REFBd0QscUNBQXFDO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0VBQW1CO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDBCQUEwQiw4REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrRUFBZSxLQUFLLG9FQUFpQjtBQUNqRjtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsaUVBQWUsUUFBUSwwQkFBMEI7QUFDekQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQWE7QUFDekIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0VBQWlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsd0VBQW1CO0FBQzNCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdFQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdFQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFFQUFjO0FBQ3BEO0FBQ0E7QUFDQSxhQUFhLHFFQUFjLDZDQUE2QyxtRUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdFQUFtQjtBQUMvQyw4QkFBOEIsd0VBQW1CO0FBQ2pELG9EQUFvRCxnRUFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsK0VBQWlCO0FBQ2hEIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgcHJveHlNYXAsIHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIE5ldHdvcmtVdGlsLCBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBXM21GcmFtZUNvbnN0YW50cywgVzNtRnJhbWVTdG9yYWdlIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQnO1xuaW1wb3J0IHsgQmFsYW5jZVV0aWwgfSBmcm9tICcuLi91dGlscy9CYWxhbmNlVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi4vdXRpbHMvU3RvcmFnZVV0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBBZGFwdGVyQ29udHJvbGxlciB9IGZyb20gJy4vQWRhcHRlckNvbnRyb2xsZXIvaW5kZXguanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuL01vZGFsQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUHJvdmlkZXJDb250cm9sbGVyIH0gZnJvbSAnLi9Qcm92aWRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUHVibGljU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnLi9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU2VuZENvbnRyb2xsZXIgfSBmcm9tICcuL1NlbmRDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFNuYWNrQ29udHJvbGxlciB9IGZyb20gJy4vU25hY2tDb250cm9sbGVyLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgZGVmYXVsdEFjY291bnRTdGF0ZSA9IHtcbiAgICBjdXJyZW50VGFiOiAwLFxuICAgIHRva2VuQmFsYW5jZTogW10sXG4gICAgc21hcnRBY2NvdW50RGVwbG95ZWQ6IGZhbHNlLFxuICAgIGFkZHJlc3NMYWJlbHM6IG5ldyBNYXAoKSxcbiAgICB1c2VyOiB1bmRlZmluZWQsXG4gICAgcHJlZmVycmVkQWNjb3VudFR5cGU6IHVuZGVmaW5lZFxufTtcbmNvbnN0IG5ldHdvcmtTdGF0ZSA9IHtcbiAgICBjYWlwTmV0d29yazogdW5kZWZpbmVkLFxuICAgIHN1cHBvcnRzQWxsTmV0d29ya3M6IHRydWUsXG4gICAgc21hcnRBY2NvdW50RW5hYmxlZE5ldHdvcmtzOiBbXVxufTtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgY2hhaW5zOiBwcm94eU1hcCgpLFxuICAgIGFjdGl2ZUNhaXBBZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlQ2hhaW46IHVuZGVmaW5lZCxcbiAgICBhY3RpdmVDYWlwTmV0d29yazogdW5kZWZpbmVkLFxuICAgIG5vQWRhcHRlcnM6IGZhbHNlLFxuICAgIHVuaXZlcnNhbEFkYXB0ZXI6IHtcbiAgICAgICAgY29ubmVjdGlvbkNvbnRyb2xsZXJDbGllbnQ6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgaXNTd2l0Y2hpbmdOYW1lc3BhY2U6IGZhbHNlXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlQWNjb3VudFN0YXRlUHJvcChwcm9wZXJ0eSwgY2FsbGJhY2ssIGNoYWluKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoYWluID0gY2hhaW4gfHwgc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghYWN0aXZlQ2hhaW4pIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZS5jaGFpbnMuZ2V0KGFjdGl2ZUNoYWluKT8uYWNjb3VudFN0YXRlIHx8IHt9LCBwcm9wZXJ0eSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlQ2hhaW5Qcm9wKHByb3BlcnR5LCBjYWxsYmFjaywgY2hhaW4pIHtcbiAgICAgICAgbGV0IHByZXYgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUuY2hhaW5zLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDaGFpbiA9IGNoYWluIHx8IHN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNoYWluKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gc3RhdGUuY2hhaW5zLmdldChhY3RpdmVDaGFpbik/Lltwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2ID0gbmV4dFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXh0VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBpbml0aWFsaXplKGFkYXB0ZXJzLCBjYWlwTmV0d29ya3MsIGNsaWVudHMpIHtcbiAgICAgICAgY29uc3QgeyBjaGFpbklkOiBhY3RpdmVDaGFpbklkLCBuYW1lc3BhY2U6IGFjdGl2ZU5hbWVzcGFjZSB9ID0gU3RvcmFnZVV0aWwuZ2V0QWN0aXZlTmV0d29ya1Byb3BzKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrID0gY2FpcE5ldHdvcmtzPy5maW5kKG5ldHdvcmsgPT4gbmV0d29yay5pZC50b1N0cmluZygpID09PSBhY3RpdmVDaGFpbklkPy50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdEFkYXB0ZXIgPSBhZGFwdGVycy5maW5kKGFkYXB0ZXIgPT4gYWRhcHRlcj8ubmFtZXNwYWNlID09PSBhY3RpdmVOYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBhZGFwdGVyVG9BY3RpdmF0ZSA9IGRlZmF1bHRBZGFwdGVyIHx8IGFkYXB0ZXJzPy5bMF07XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXNGcm9tQWRhcHRlcnMgPSBhZGFwdGVycy5tYXAoYSA9PiBhLm5hbWVzcGFjZSkuZmlsdGVyKG4gPT4gbiAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBBcHBLaXQgaXMgaW4gZW1iZWRkZWQgbW9kZSAoZm9yIERlbW8gYXBwKSwgd2Ugc2hvdWxkIGdldCB0aGUgYXZhaWxhYmxlIG5hbWVzcGFjZXMgZnJvbSB0aGUgYWRhcHRlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZW5hYmxlRW1iZWRkZWRcbiAgICAgICAgICAgID8gbmV3IFNldChbLi4ubmFtZXNwYWNlc0Zyb21BZGFwdGVyc10pXG4gICAgICAgICAgICA6IG5ldyBTZXQoWy4uLihjYWlwTmV0d29ya3M/Lm1hcChuZXR3b3JrID0+IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpID8/IFtdKV0pO1xuICAgICAgICBpZiAoYWRhcHRlcnM/Lmxlbmd0aCA9PT0gMCB8fCAhYWRhcHRlclRvQWN0aXZhdGUpIHtcbiAgICAgICAgICAgIHN0YXRlLm5vQWRhcHRlcnMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhdGUubm9BZGFwdGVycykge1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2hhaW4gPSBhZGFwdGVyVG9BY3RpdmF0ZT8ubmFtZXNwYWNlO1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcmsgPSBhY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRDaGFpbk5ldHdvcmtEYXRhKGFkYXB0ZXJUb0FjdGl2YXRlPy5uYW1lc3BhY2UsIHtcbiAgICAgICAgICAgICAgICBjYWlwTmV0d29yazogYWN0aXZlQ2FpcE5ldHdvcmtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmFjdGl2ZUNoYWluKSB7XG4gICAgICAgICAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7IGFjdGl2ZUNoYWluOiBhZGFwdGVyVG9BY3RpdmF0ZT8ubmFtZXNwYWNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChuYW1lc3BhY2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlTmV0d29ya3MgPSBjYWlwTmV0d29ya3M/LmZpbHRlcihuZXR3b3JrID0+IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgPT09IG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWRBY2NvdW50VHlwZXMgPSBTdG9yYWdlVXRpbC5nZXRQcmVmZXJyZWRBY2NvdW50VHlwZXMoKSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUeXBlcyA9IHsgLi4uT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZGVmYXVsdEFjY291bnRUeXBlcywgLi4uc3RvcmVkQWNjb3VudFR5cGVzIH07XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLnNldChuYW1lc3BhY2UsIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgbmV0d29ya1N0YXRlOiBwcm94eSh7IC4uLm5ldHdvcmtTdGF0ZSwgY2FpcE5ldHdvcms6IG5hbWVzcGFjZU5ldHdvcmtzPy5bMF0gfSksXG4gICAgICAgICAgICAgICAgYWNjb3VudFN0YXRlOiBwcm94eSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRBY2NvdW50U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHByZWZlcnJlZEFjY291bnRUeXBlOiBkZWZhdWx0VHlwZXNbbmFtZXNwYWNlXVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrczogbmFtZXNwYWNlTmV0d29ya3MgPz8gW10sXG4gICAgICAgICAgICAgICAgLi4uY2xpZW50c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKG5hbWVzcGFjZU5ldHdvcmtzID8/IFtdLCBuYW1lc3BhY2UpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlbW92ZUFkYXB0ZXIobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChzdGF0ZS5hY3RpdmVDaGFpbiA9PT0gbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0QWRhcHRlciA9IEFycmF5LmZyb20oc3RhdGUuY2hhaW5zLmVudHJpZXMoKSkuZmluZCgoW2NoYWluTmFtZXNwYWNlXSkgPT4gY2hhaW5OYW1lc3BhY2UgIT09IG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBpZiAobmV4dEFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IG5leHRBZGFwdGVyWzFdPy5jYWlwTmV0d29ya3M/LlswXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjdGl2ZUNhaXBOZXR3b3JrKGNhaXBOZXR3b3JrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY2hhaW5zLmRlbGV0ZShuYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgYWRkQWRhcHRlcihhZGFwdGVyLCB7IGNvbm5lY3Rpb25Db250cm9sbGVyQ2xpZW50IH0sIGNhaXBOZXR3b3Jrcykge1xuICAgICAgICBpZiAoIWFkYXB0ZXIubmFtZXNwYWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluQ29udHJvbGxlcjphZGRBZGFwdGVyIC0gYWRhcHRlciBtdXN0IGhhdmUgYSBuYW1lc3BhY2UnKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5jaGFpbnMuc2V0KGFkYXB0ZXIubmFtZXNwYWNlLCB7XG4gICAgICAgICAgICBuYW1lc3BhY2U6IGFkYXB0ZXIubmFtZXNwYWNlLFxuICAgICAgICAgICAgbmV0d29ya1N0YXRlOiB7IC4uLm5ldHdvcmtTdGF0ZSwgY2FpcE5ldHdvcms6IGNhaXBOZXR3b3Jrc1swXSB9LFxuICAgICAgICAgICAgYWNjb3VudFN0YXRlOiB7IC4uLmRlZmF1bHRBY2NvdW50U3RhdGUgfSxcbiAgICAgICAgICAgIGNhaXBOZXR3b3JrcyxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25Db250cm9sbGVyQ2xpZW50XG4gICAgICAgIH0pO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKGNhaXBOZXR3b3Jrcz8uZmlsdGVyKGNhaXBOZXR3b3JrID0+IGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlID09PSBhZGFwdGVyLm5hbWVzcGFjZSkgPz8gW10sIGFkYXB0ZXIubmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGFkZE5ldHdvcmsobmV0d29yaykge1xuICAgICAgICBjb25zdCBjaGFpbkFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBpZiAoY2hhaW5BZGFwdGVyKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdOZXR3b3JrcyA9IFsuLi4oY2hhaW5BZGFwdGVyLmNhaXBOZXR3b3JrcyB8fCBbXSldO1xuICAgICAgICAgICAgaWYgKCFjaGFpbkFkYXB0ZXIuY2FpcE5ldHdvcmtzPy5maW5kKGNhaXBOZXR3b3JrID0+IGNhaXBOZXR3b3JrLmlkID09PSBuZXR3b3JrLmlkKSkge1xuICAgICAgICAgICAgICAgIG5ld05ldHdvcmtzLnB1c2gobmV0d29yayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jaGFpbnMuc2V0KG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UsIHsgLi4uY2hhaW5BZGFwdGVyLCBjYWlwTmV0d29ya3M6IG5ld05ldHdvcmtzIH0pO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhuZXdOZXR3b3JrcywgbmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLmZpbHRlckJ5TmFtZXNwYWNlKG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVOZXR3b3JrKG5hbWVzcGFjZSwgbmV0d29ya0lkKSB7XG4gICAgICAgIGNvbnN0IGNoYWluQWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKGNoYWluQWRhcHRlcikge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbmV0d29yayBiZWluZyByZW1vdmVkIGlzIGFjdGl2ZSBuZXR3b3JrXG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZU5ldHdvcmsgPSBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uaWQgPT09IG5ldHdvcmtJZDtcbiAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgdGhlIG5ldHdvcmsgYmVpbmcgcmVtb3ZlZFxuICAgICAgICAgICAgY29uc3QgbmV3Q2FpcE5ldHdvcmtzT2ZBZGFwdGVyID0gW1xuICAgICAgICAgICAgICAgIC4uLihjaGFpbkFkYXB0ZXIuY2FpcE5ldHdvcmtzPy5maWx0ZXIobmV0d29yayA9PiBuZXR3b3JrLmlkICE9PSBuZXR3b3JrSWQpIHx8IFtdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIElmIGFjdGl2ZSBuZXR3b3JrIHdhcyByZW1vdmVkIGFuZCB0aGVyZSBhcmUgb3RoZXIgbmV0d29ya3MgYXZhaWxhYmxlLCBzd2l0Y2ggdG8gZmlyc3Qgb25lXG4gICAgICAgICAgICBpZiAoaXNBY3RpdmVOZXR3b3JrICYmIGNoYWluQWRhcHRlcj8uY2FpcE5ldHdvcmtzPy5bMF0pIHtcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWN0aXZlQ2FpcE5ldHdvcmsoY2hhaW5BZGFwdGVyLmNhaXBOZXR3b3Jrc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jaGFpbnMuc2V0KG5hbWVzcGFjZSwgeyAuLi5jaGFpbkFkYXB0ZXIsIGNhaXBOZXR3b3JrczogbmV3Q2FpcE5ldHdvcmtzT2ZBZGFwdGVyIH0pO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhuZXdDYWlwTmV0d29ya3NPZkFkYXB0ZXIgfHwgW10sIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBpZiAobmV3Q2FpcE5ldHdvcmtzT2ZBZGFwdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuZmlsdGVyQnlOYW1lc3BhY2UobmFtZXNwYWNlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldEFkYXB0ZXJOZXR3b3JrU3RhdGUoY2hhaW4sIHByb3BzKSB7XG4gICAgICAgIGNvbnN0IGNoYWluQWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQoY2hhaW4pO1xuICAgICAgICBpZiAoY2hhaW5BZGFwdGVyKSB7XG4gICAgICAgICAgICBjaGFpbkFkYXB0ZXIubmV0d29ya1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLihjaGFpbkFkYXB0ZXIubmV0d29ya1N0YXRlIHx8IG5ldHdvcmtTdGF0ZSksXG4gICAgICAgICAgICAgICAgLi4ucHJvcHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5jaGFpbnMuc2V0KGNoYWluLCBjaGFpbkFkYXB0ZXIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRDaGFpbkFjY291bnREYXRhKGNoYWluLCBhY2NvdW50UHJvcHMsIF91bmtub3duID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIWNoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluIGlzIHJlcXVpcmVkIHRvIHVwZGF0ZSBjaGFpbiBhY2NvdW50IGRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbkFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluKTtcbiAgICAgICAgaWYgKGNoYWluQWRhcHRlcikge1xuICAgICAgICAgICAgY29uc3QgbmV3QWNjb3VudFN0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLihjaGFpbkFkYXB0ZXIuYWNjb3VudFN0YXRlIHx8IGRlZmF1bHRBY2NvdW50U3RhdGUpLFxuICAgICAgICAgICAgICAgIC4uLmFjY291bnRQcm9wc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLmNoYWlucy5zZXQoY2hhaW4sIHsgLi4uY2hhaW5BZGFwdGVyLCBhY2NvdW50U3RhdGU6IG5ld0FjY291bnRTdGF0ZSB9KTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jaGFpbnMuc2l6ZSA9PT0gMSB8fCBzdGF0ZS5hY3RpdmVDaGFpbiA9PT0gY2hhaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudFByb3BzLmNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzID0gYWNjb3VudFByb3BzLmNhaXBBZGRyZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q2hhaW5OZXR3b3JrRGF0YShjaGFpbiwgbmV0d29ya1Byb3BzKSB7XG4gICAgICAgIGlmICghY2hhaW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbkFkYXB0ZXIgPSBzdGF0ZS5jaGFpbnMuZ2V0KGNoYWluKTtcbiAgICAgICAgaWYgKGNoYWluQWRhcHRlcikge1xuICAgICAgICAgICAgY29uc3QgbmV3TmV0d29ya1N0YXRlID0geyAuLi4oY2hhaW5BZGFwdGVyLm5ldHdvcmtTdGF0ZSB8fCBuZXR3b3JrU3RhdGUpLCAuLi5uZXR3b3JrUHJvcHMgfTtcbiAgICAgICAgICAgIHN0YXRlLmNoYWlucy5zZXQoY2hhaW4sIHsgLi4uY2hhaW5BZGFwdGVyLCBuZXR3b3JrU3RhdGU6IG5ld05ldHdvcmtTdGF0ZSB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbiAgICBzZXRBY2NvdW50UHJvcChwcm9wLCB2YWx1ZSwgY2hhaW4sIHJlcGxhY2VTdGF0ZSA9IHRydWUpIHtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluQWNjb3VudERhdGEoY2hhaW4sIHsgW3Byb3BdOiB2YWx1ZSB9LCByZXBsYWNlU3RhdGUpO1xuICAgIH0sXG4gICAgc2V0QWN0aXZlTmFtZXNwYWNlKGNoYWluKSB7XG4gICAgICAgIHN0YXRlLmFjdGl2ZUNoYWluID0gY2hhaW47XG4gICAgICAgIGNvbnN0IG5ld0FkYXB0ZXIgPSBjaGFpbiA/IHN0YXRlLmNoYWlucy5nZXQoY2hhaW4pIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IG5ld0FkYXB0ZXI/Lm5ldHdvcmtTdGF0ZT8uY2FpcE5ldHdvcms7XG4gICAgICAgIGlmIChjYWlwTmV0d29yaz8uaWQgJiYgY2hhaW4pIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzID0gbmV3QWRhcHRlcj8uYWNjb3VudFN0YXRlPy5jYWlwQWRkcmVzcztcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrID0gY2FpcE5ldHdvcms7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0Q2hhaW5OZXR3b3JrRGF0YShjaGFpbiwgeyBjYWlwTmV0d29yayB9KTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldEFjdGl2ZUNhaXBOZXR3b3JrSWQoY2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7XG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhaW46IGNoYWluLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTmV0d29ya0lkOiBjYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldEFjdGl2ZUNhaXBOZXR3b3JrKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgIGlmICghY2FpcE5ldHdvcmspIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1NhbWVOYW1lc3BhY2UgPSBzdGF0ZS5hY3RpdmVDaGFpbiA9PT0gY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgIGlmICghaXNTYW1lTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0SXNTd2l0Y2hpbmdOYW1lc3BhY2UodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBzdGF0ZS5hY3RpdmVDaGFpbiA9IGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yayA9IGNhaXBOZXR3b3JrO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0Q2hhaW5OZXR3b3JrRGF0YShjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSwgeyBjYWlwTmV0d29yayB9KTtcbiAgICAgICAgbGV0IGFkZHJlc3MgPSBuZXdBZGFwdGVyPy5hY2NvdW50U3RhdGU/LmFkZHJlc3M7XG4gICAgICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyA9IGAke2NhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlfToke2NhaXBOZXR3b3JrLmlkfToke2FkZHJlc3N9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVOYW1lc3BhY2UgJiYgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzczogcGFyc2VkQWRkcmVzcyB9ID0gUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3Moc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MpO1xuICAgICAgICAgICAgYWRkcmVzcyA9IHBhcnNlZEFkZHJlc3M7XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyA9IGAke2NhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWR9OiR7YWRkcmVzc31gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluQWNjb3VudERhdGEoY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UsIHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBjYWlwQWRkcmVzczogc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3NcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlc2V0IHNlbmQgc3RhdGUgd2hlbiBzd2l0Y2hpbmcgbmV0d29ya3NcbiAgICAgICAgU2VuZENvbnRyb2xsZXIucmVzZXRTZW5kKCk7XG4gICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoe1xuICAgICAgICAgICAgYWN0aXZlQ2hhaW46IHN0YXRlLmFjdGl2ZUNoYWluLFxuICAgICAgICAgICAgc2VsZWN0ZWROZXR3b3JrSWQ6IHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkXG4gICAgICAgIH0pO1xuICAgICAgICBTdG9yYWdlVXRpbC5zZXRBY3RpdmVDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IENoYWluQ29udHJvbGxlci5jaGVja0lmU3VwcG9ydGVkTmV0d29yayhjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQgJiZcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmVuYWJsZU5ldHdvcmtTd2l0Y2ggJiZcbiAgICAgICAgICAgICFPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5hbGxvd1Vuc3VwcG9ydGVkQ2hhaW4gJiZcbiAgICAgICAgICAgICFDb25uZWN0aW9uQ29udHJvbGxlci5zdGF0ZS53Y0Jhc2ljKSB7XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2hvd1Vuc3VwcG9ydGVkQ2hhaW5VSSgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhZGRDYWlwTmV0d29yayhjYWlwTmV0d29yaykge1xuICAgICAgICBpZiAoIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW4gPSBzdGF0ZS5jaGFpbnMuZ2V0KGNhaXBOZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKGNoYWluKSB7XG4gICAgICAgICAgICBjaGFpbj8uY2FpcE5ldHdvcmtzPy5wdXNoKGNhaXBOZXR3b3JrKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc3dpdGNoQWN0aXZlTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzRGlmZmVyZW50Q2hhaW4gPSBuYW1lc3BhY2UgIT09IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtPZk5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5nZXROZXR3b3JrRGF0YShuYW1lc3BhY2UpPy5jYWlwTmV0d29yaztcbiAgICAgICAgY29uc3QgZmlyc3ROZXR3b3JrV2l0aENoYWluID0gQ2hhaW5Db250cm9sbGVyLmdldENhaXBOZXR3b3JrQnlOYW1lc3BhY2UobmFtZXNwYWNlLCBjYWlwTmV0d29ya09mTmFtZXNwYWNlPy5pZCk7XG4gICAgICAgIGlmIChpc0RpZmZlcmVudENoYWluICYmIGZpcnN0TmV0d29ya1dpdGhDaGFpbikge1xuICAgICAgICAgICAgYXdhaXQgQ2hhaW5Db250cm9sbGVyLnN3aXRjaEFjdGl2ZU5ldHdvcmsoZmlyc3ROZXR3b3JrV2l0aENoYWluKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc3dpdGNoQWN0aXZlTmV0d29yayhuZXR3b3JrLCB7IHRocm93T25GYWlsdXJlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhaW5Db250cm9sbGVyOnN3aXRjaEFjdGl2ZU5ldHdvcmsgLSBuYW1lc3BhY2UgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0F1dGhQcm92aWRlciA9IFByb3ZpZGVyQ29udHJvbGxlci5nZXRQcm92aWRlcklkKHN0YXRlLmFjdGl2ZUNoYWluKSA9PT0gJ0FVVEgnO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGlzQXV0aFN1cHBvcnRlZCA9IENvbW1vbkNvbnN0YW50c1V0aWwuQVVUSF9DT05ORUNUT1JfU1VQUE9SVEVEX0NIQUlOUy5pbmNsdWRlcyhuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIElmIGNvbm5lY3RlZCB0byB0aGUgbmFtZXNwYWNlIGFuZCBzd2l0Y2hpbmcgb24gc2FtZSBuYW1lc3BhY2UsIHdlIHNob3VsZCBub3RpZnkgdGhlIHdhbGxldFxuICAgICAgICAgICAgaWYgKChuYW1lc3BhY2VBZGRyZXNzICYmIG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgPT09IG5hbWVzcGFjZSkgfHxcbiAgICAgICAgICAgICAgICAoaXNBdXRoUHJvdmlkZXIgJiYgaXNBdXRoU3VwcG9ydGVkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBBZGFwdGVyQ29udHJvbGxlci5nZXQobmV0d29yay5jaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWRhcHRlciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgYWRhcHRlci5zd2l0Y2hOZXR3b3JrKHsgY2FpcE5ldHdvcms6IG5ldHdvcmsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWN0aXZlQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodGhyb3dPbkZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdTV0lUQ0hfTkVUV09SSycsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IG5ldHdvcms6IG5ldHdvcmsuY2FpcE5ldHdvcmtJZCB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGlvbkNvbnRyb2xsZXJDbGllbnQoX2NoYWluKSB7XG4gICAgICAgIGNvbnN0IGNoYWluID0gX2NoYWluIHx8IHN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIWNoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluIGlzIHJlcXVpcmVkIHRvIGdldCBjb25uZWN0aW9uIGNvbnRyb2xsZXIgY2xpZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW5BZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChjaGFpbik7XG4gICAgICAgIGlmICghY2hhaW5BZGFwdGVyPy5jb25uZWN0aW9uQ29udHJvbGxlckNsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25uZWN0aW9uQ29udHJvbGxlciBjbGllbnQgbm90IHNldCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFpbkFkYXB0ZXIuY29ubmVjdGlvbkNvbnRyb2xsZXJDbGllbnQ7XG4gICAgfSxcbiAgICBnZXROZXR3b3JrUHJvcChrZXksIG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBjaGFpbk5ldHdvcmtTdGF0ZSA9IHN0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKT8ubmV0d29ya1N0YXRlO1xuICAgICAgICBpZiAoIWNoYWluTmV0d29ya1N0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFpbk5ldHdvcmtTdGF0ZVtrZXldO1xuICAgIH0sXG4gICAgZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKGNoYWluVG9GaWx0ZXIpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHN0YXRlLmNoYWlucy5nZXQoY2hhaW5Ub0ZpbHRlcik7XG4gICAgICAgIGNvbnN0IHsgYXBwcm92ZWRDYWlwTmV0d29ya0lkcyA9IFtdLCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MgPSBbXSB9ID0gYWRhcHRlcj8ubmV0d29ya1N0YXRlIHx8IHt9O1xuICAgICAgICBjb25zdCBzb3J0ZWROZXR3b3JrcyA9IENvcmVIZWxwZXJVdGlsLnNvcnRSZXF1ZXN0ZWROZXR3b3JrcyhhcHByb3ZlZENhaXBOZXR3b3JrSWRzLCByZXF1ZXN0ZWRDYWlwTmV0d29ya3MpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE5ldHdvcmtzID0gc29ydGVkTmV0d29ya3MuZmlsdGVyKG5ldHdvcmsgPT4gbmV0d29yaz8uaWQpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWROZXR3b3JrcztcbiAgICB9LFxuICAgIGdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gW107XG4gICAgICAgIHN0YXRlLmNoYWlucy5mb3JFYWNoKGNoYWluQWRhcHRlciA9PiB7XG4gICAgICAgICAgICBpZiAoIWNoYWluQWRhcHRlci5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluQ29udHJvbGxlcjpnZXRBbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MgLSBjaGFpbkFkYXB0ZXIgbXVzdCBoYXZlIGEgbmFtZXNwYWNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKGNoYWluQWRhcHRlci5uYW1lc3BhY2UpO1xuICAgICAgICAgICAgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzLnB1c2goLi4uY2FpcE5ldHdvcmtzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0ZWRDYWlwTmV0d29ya3M7XG4gICAgfSxcbiAgICBzZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MoY2FpcE5ldHdvcmtzLCBjaGFpbikge1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWRhcHRlck5ldHdvcmtTdGF0ZShjaGFpbiwgeyByZXF1ZXN0ZWRDYWlwTmV0d29ya3M6IGNhaXBOZXR3b3JrcyB9KTtcbiAgICAgICAgY29uc3QgYWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gYWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzLm1hcChuZXR3b3JrID0+IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCB1bmlxdWVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShuZXcgU2V0KG5hbWVzcGFjZXMpKTtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5maWx0ZXJCeU5hbWVzcGFjZXModW5pcXVlTmFtZXNwYWNlcyk7XG4gICAgfSxcbiAgICBnZXRBbGxBcHByb3ZlZENhaXBOZXR3b3JrSWRzKCkge1xuICAgICAgICBjb25zdCBhcHByb3ZlZENhaXBOZXR3b3JrSWRzID0gW107XG4gICAgICAgIHN0YXRlLmNoYWlucy5mb3JFYWNoKGNoYWluQWRhcHRlciA9PiB7XG4gICAgICAgICAgICBpZiAoIWNoYWluQWRhcHRlci5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWluQ29udHJvbGxlcjpnZXRBbGxBcHByb3ZlZENhaXBOZXR3b3JrSWRzIC0gY2hhaW5BZGFwdGVyIG11c3QgaGF2ZSBhIG5hbWVzcGFjZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXBwcm92ZWRJZHMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QXBwcm92ZWRDYWlwTmV0d29ya0lkcyhjaGFpbkFkYXB0ZXIubmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMucHVzaCguLi5hcHByb3ZlZElkcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXBwcm92ZWRDYWlwTmV0d29ya0lkcztcbiAgICB9LFxuICAgIGdldEFjdGl2ZUNhaXBOZXR3b3JrKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmNoYWlucy5nZXQoY2hhaW5OYW1lc3BhY2UpPy5uZXR3b3JrU3RhdGU/LmNhaXBOZXR3b3JrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICB9LFxuICAgIGdldEFjdGl2ZUNhaXBBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgfSxcbiAgICBnZXRBcHByb3ZlZENhaXBOZXR3b3JrSWRzKG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gc3RhdGUuY2hhaW5zLmdldChuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBhcHByb3ZlZENhaXBOZXR3b3JrSWRzID0gYWRhcHRlcj8ubmV0d29ya1N0YXRlPy5hcHByb3ZlZENhaXBOZXR3b3JrSWRzIHx8IFtdO1xuICAgICAgICByZXR1cm4gYXBwcm92ZWRDYWlwTmV0d29ya0lkcztcbiAgICB9LFxuICAgIHNldEFwcHJvdmVkQ2FpcE5ldHdvcmtzRGF0YShuYW1lc3BhY2UsIHBhcmFtcykge1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWRhcHRlck5ldHdvcmtTdGF0ZShuYW1lc3BhY2UsIHBhcmFtcyk7XG4gICAgfSxcbiAgICBjaGVja0lmU3VwcG9ydGVkTmV0d29yayhuYW1lc3BhY2UsIGNhaXBOZXR3b3JrSWQpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2FpcE5ldHdvcmtJZCA9IGNhaXBOZXR3b3JrSWQgfHwgc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENhaXBOZXR3b3JrcyA9IENoYWluQ29udHJvbGxlci5nZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya3MobmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFyZXF1ZXN0ZWRDYWlwTmV0d29ya3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdGVkQ2FpcE5ldHdvcmtzPy5zb21lKG5ldHdvcmsgPT4gbmV0d29yay5jYWlwTmV0d29ya0lkID09PSBhY3RpdmVDYWlwTmV0d29ya0lkKTtcbiAgICB9LFxuICAgIGNoZWNrSWZTdXBwb3J0ZWRDaGFpbklkKGNoYWluSWQpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVDaGFpbikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhzdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIHJldHVybiByZXF1ZXN0ZWRDYWlwTmV0d29ya3M/LnNvbWUobmV0d29yayA9PiBuZXR3b3JrLmlkID09PSBjaGFpbklkKTtcbiAgICB9LFxuICAgIGNoZWNrSWZTbWFydEFjY291bnRFbmFibGVkKCkge1xuICAgICAgICBjb25zdCBuZXR3b3JrSWQgPSBOZXR3b3JrVXRpbC5jYWlwTmV0d29ya0lkVG9OdW1iZXIoc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICBjb25zdCBhY3RpdmVDaGFpbiA9IHN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAoIWFjdGl2ZUNoYWluIHx8ICFuZXR3b3JrSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbWFydEFjY291bnRFbmFibGVkTmV0d29ya3MgPSBXM21GcmFtZVN0b3JhZ2UuZ2V0KFczbUZyYW1lQ29uc3RhbnRzLlNNQVJUX0FDQ09VTlRfRU5BQkxFRF9ORVRXT1JLUyk/LnNwbGl0KCcsJykgfHwgW107XG4gICAgICAgIHJldHVybiBCb29sZWFuKHNtYXJ0QWNjb3VudEVuYWJsZWROZXR3b3Jrcz8uaW5jbHVkZXMobmV0d29ya0lkLnRvU3RyaW5nKCkpKTtcbiAgICB9LFxuICAgIHNob3dVbnN1cHBvcnRlZENoYWluVUkoKSB7XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5vcGVuKHsgdmlldzogJ1Vuc3VwcG9ydGVkQ2hhaW4nIH0pO1xuICAgIH0sXG4gICAgY2hlY2tJZk5hbWVzU3VwcG9ydGVkKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVDYWlwTmV0d29yayA9IHN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICByZXR1cm4gQm9vbGVhbihhY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UgJiZcbiAgICAgICAgICAgIENvbnN0YW50c1V0aWwuTkFNRVNfU1VQUE9SVEVEX0NIQUlOX05BTUVTUEFDRVMuaW5jbHVkZXMoYWN0aXZlQ2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpKTtcbiAgICB9LFxuICAgIHJlc2V0TmV0d29yayhuYW1lc3BhY2UpIHtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFkYXB0ZXJOZXR3b3JrU3RhdGUobmFtZXNwYWNlLCB7XG4gICAgICAgICAgICBhcHByb3ZlZENhaXBOZXR3b3JrSWRzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdXBwb3J0c0FsbE5ldHdvcmtzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVzZXRBY2NvdW50KGNoYWluKSB7XG4gICAgICAgIGNvbnN0IGNoYWluVG9Xcml0ZSA9IGNoYWluO1xuICAgICAgICBpZiAoIWNoYWluVG9Xcml0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFpbiBpcyByZXF1aXJlZCB0byBzZXQgYWNjb3VudCBwcm9wJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudEFjY291bnRUeXBlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQoY2hhaW5Ub1dyaXRlKT8uYWNjb3VudFN0YXRlPy5wcmVmZXJyZWRBY2NvdW50VHlwZTtcbiAgICAgICAgY29uc3Qgb3B0aW9uc0FjY291bnRUeXBlID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZGVmYXVsdEFjY291bnRUeXBlc1tjaGFpblRvV3JpdGVdO1xuICAgICAgICBzdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldENoYWluQWNjb3VudERhdGEoY2hhaW5Ub1dyaXRlLCB7XG4gICAgICAgICAgICBzbWFydEFjY291bnREZXBsb3llZDogZmFsc2UsXG4gICAgICAgICAgICBjdXJyZW50VGFiOiAwLFxuICAgICAgICAgICAgY2FpcEFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJhbGFuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJhbGFuY2VTeW1ib2w6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHByb2ZpbGVOYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwcm9maWxlSW1hZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFkZHJlc3NFeHBsb3JlclVybDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdG9rZW5CYWxhbmNlOiBbXSxcbiAgICAgICAgICAgIGNvbm5lY3RlZFdhbGxldEluZm86IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHByZWZlcnJlZEFjY291bnRUeXBlOiBvcHRpb25zQWNjb3VudFR5cGUgfHwgY3VycmVudEFjY291bnRUeXBlLFxuICAgICAgICAgICAgc29jaWFsUHJvdmlkZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNvY2lhbFdpbmRvdzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZmFyY2FzdGVyVXJsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB1c2VyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnXG4gICAgICAgIH0pO1xuICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnJlbW92ZUNvbm5lY3RvcklkKGNoYWluVG9Xcml0ZSk7XG4gICAgfSxcbiAgICBzZXRJc1N3aXRjaGluZ05hbWVzcGFjZShpc1N3aXRjaGluZ05hbWVzcGFjZSkge1xuICAgICAgICBzdGF0ZS5pc1N3aXRjaGluZ05hbWVzcGFjZSA9IGlzU3dpdGNoaW5nTmFtZXNwYWNlO1xuICAgIH0sXG4gICAgZ2V0Rmlyc3RDYWlwTmV0d29ya1N1cHBvcnRzQXV0aENvbm5lY3RvcigpIHtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlQ2hhaW5zID0gW107XG4gICAgICAgIGxldCBmaXJzdENhaXBOZXR3b3JrID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5jaGFpbnMuZm9yRWFjaChjaGFpbiA9PiB7XG4gICAgICAgICAgICBpZiAoQ29tbW9uQ29uc3RhbnRzVXRpbC5BVVRIX0NPTk5FQ1RPUl9TVVBQT1JURURfQ0hBSU5TLmZpbmQobnMgPT4gbnMgPT09IGNoYWluLm5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhaW4ubmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUNoYWlucy5wdXNoKGNoYWluLm5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGF2YWlsYWJsZUNoYWlucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEF2YWlsYWJsZUNoYWluID0gYXZhaWxhYmxlQ2hhaW5zWzBdO1xuICAgICAgICAgICAgZmlyc3RDYWlwTmV0d29yayA9IGZpcnN0QXZhaWxhYmxlQ2hhaW5cbiAgICAgICAgICAgICAgICA/IHN0YXRlLmNoYWlucy5nZXQoZmlyc3RBdmFpbGFibGVDaGFpbik/LmNhaXBOZXR3b3Jrcz8uWzBdXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RDYWlwTmV0d29yaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0QWNjb3VudERhdGEoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gY2hhaW5OYW1lc3BhY2UgfHwgc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChuYW1lc3BhY2UpPy5hY2NvdW50U3RhdGU7XG4gICAgfSxcbiAgICBnZXROZXR3b3JrRGF0YShjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBjaGFpbk5hbWVzcGFjZSB8fCBzdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSk/Lm5ldHdvcmtTdGF0ZTtcbiAgICB9LFxuICAgIGdldENhaXBOZXR3b3JrQnlOYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UsIGNoYWluSWQpIHtcbiAgICAgICAgaWYgKCFjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KGNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgYnlDaGFpbklkID0gY2hhaW4/LmNhaXBOZXR3b3Jrcz8uZmluZChuZXR3b3JrID0+IG5ldHdvcmsuaWQudG9TdHJpbmcoKSA9PT0gY2hhaW5JZD8udG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChieUNoYWluSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBieUNoYWluSWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYWluPy5uZXR3b3JrU3RhdGU/LmNhaXBOZXR3b3JrIHx8IGNoYWluPy5jYWlwTmV0d29ya3M/LlswXTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVxdWVzdGVkIENhaXBOZXR3b3JrIElEcyBmb3IgYSBnaXZlbiBuYW1lc3BhY2UuIElmIG5hbWVzcGFjZSBpcyBub3QgcHJvdmlkZWQsIGFsbCByZXF1ZXN0ZWQgQ2FpcE5ldHdvcmsgSURzIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSB0byBnZXQgdGhlIHJlcXVlc3RlZCBDYWlwTmV0d29yayBJRHMgZm9yXG4gICAgICogQHJldHVybnMgVGhlIHJlcXVlc3RlZCBDYWlwTmV0d29yayBJRHNcbiAgICAgKi9cbiAgICBnZXRSZXF1ZXN0ZWRDYWlwTmV0d29ya0lkcygpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5maWx0ZXJCeU5hbWVzcGFjZTtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gbmFtZXNwYWNlID8gW3N0YXRlLmNoYWlucy5nZXQobmFtZXNwYWNlKV0gOiBBcnJheS5mcm9tKHN0YXRlLmNoYWlucy52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBjaGFpbnNcbiAgICAgICAgICAgIC5mbGF0TWFwKGNoYWluID0+IGNoYWluPy5jYWlwTmV0d29ya3MgfHwgW10pXG4gICAgICAgICAgICAubWFwKGNhaXBOZXR3b3JrID0+IGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgIH0sXG4gICAgZ2V0Q2FpcE5ldHdvcmtzKG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLmdldFJlcXVlc3RlZENhaXBOZXR3b3JrcyhuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzKCk7XG4gICAgfSxcbiAgICBnZXRDYWlwTmV0d29ya0J5SWQoaWQsIG5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gY29udHJvbGxlclxuICAgICAgICAgICAgLmdldENhaXBOZXR3b3JrcyhuYW1lc3BhY2UpXG4gICAgICAgICAgICAuZmluZChuID0+IG4uaWQudG9TdHJpbmcoKSA9PT0gaWQudG9TdHJpbmcoKSB8fCBuLmNhaXBOZXR3b3JrSWQudG9TdHJpbmcoKSA9PT0gaWQudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBzZXRMYXN0Q29ubmVjdGVkU0lXRUNhaXBOZXR3b3JrKG5ldHdvcmspIHtcbiAgICAgICAgc3RhdGUubGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yayA9IG5ldHdvcms7XG4gICAgfSxcbiAgICBnZXRMYXN0Q29ubmVjdGVkU0lXRUNhaXBOZXR3b3JrKCkge1xuICAgICAgICByZXR1cm4gc3RhdGUubGFzdENvbm5lY3RlZFNJV0VDYWlwTmV0d29yaztcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVG9rZW5CYWxhbmNlKG9uRXJyb3IpIHtcbiAgICAgICAgY29uc3QgYWNjb3VudFN0YXRlID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk7XG4gICAgICAgIGlmICghYWNjb3VudFN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgY29uc3QgY2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IGNhaXBBZGRyZXNzID8gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKGNhaXBBZGRyZXNzKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdiYWxhbmNlTG9hZGluZycsIHRydWUsIGNoYWluKTtcbiAgICAgICAgaWYgKGFjY291bnRTdGF0ZS5sYXN0UmV0cnkgJiZcbiAgICAgICAgICAgICFDb3JlSGVscGVyVXRpbC5pc0FsbG93ZWRSZXRyeShhY2NvdW50U3RhdGUubGFzdFJldHJ5LCAzMCAqIENvbnN0YW50c1V0aWwuT05FX1NFQ19NUykpIHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYmFsYW5jZUxvYWRpbmcnLCBmYWxzZSwgY2hhaW4pO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoYWRkcmVzcyAmJiBjaGFpbklkICYmIGNoYWluKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IEJhbGFuY2VVdGlsLmdldE15VG9rZW5zV2l0aEJhbGFuY2UoKTtcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3Rva2VuQmFsYW5jZScsIGJhbGFuY2UsIGNoYWluKTtcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ2xhc3RSZXRyeScsIHVuZGVmaW5lZCwgY2hhaW4pO1xuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnYmFsYW5jZUxvYWRpbmcnLCBmYWxzZSwgY2hhaW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYWxhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdsYXN0UmV0cnknLCBEYXRlLm5vdygpLCBjaGFpbik7XG4gICAgICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignVG9rZW4gQmFsYW5jZSBVbmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdiYWxhbmNlTG9hZGluZycsIGZhbHNlLCBjaGFpbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgaXNDYWlwTmV0d29ya0Rpc2FibGVkKG5ldHdvcmspIHtcbiAgICAgICAgY29uc3QgbmV0d29ya05hbWVzcGFjZSA9IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGlzTmV4dE5hbWVzcGFjZUNvbm5lY3RlZCA9IEJvb2xlYW4oQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5ldHdvcmtOYW1lc3BhY2UpPy5jYWlwQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkQ2FpcE5ldHdvcmtJZHMgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWxsQXBwcm92ZWRDYWlwTmV0d29ya0lkcygpO1xuICAgICAgICBjb25zdCBzaG91bGRTdXBwb3J0QWxsTmV0d29ya3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0TmV0d29ya1Byb3AoJ3N1cHBvcnRzQWxsTmV0d29ya3MnLCBuZXR3b3JrTmFtZXNwYWNlKSAhPT0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChuZXR3b3JrTmFtZXNwYWNlKTtcbiAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZFdpdGhBdXRoID0gY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEggJiYgYXV0aENvbm5lY3RvcjtcbiAgICAgICAgaWYgKCFpc05leHROYW1lc3BhY2VDb25uZWN0ZWQgfHwgc2hvdWxkU3VwcG9ydEFsbE5ldHdvcmtzIHx8IGlzQ29ubmVjdGVkV2l0aEF1dGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWFwcHJvdmVkQ2FpcE5ldHdvcmtJZHM/LmluY2x1ZGVzKG5ldHdvcmsuY2FpcE5ldHdvcmtJZCk7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgQ2hhaW5Db250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGFpbkNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js":
/*!*********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js ***!
  \*********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionController: () => (/* binding */ ConnectionController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConnectionControllerUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/ConnectionControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\");\n/* harmony import */ var _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/ConnectorControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PublicStateController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _TransactionsController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TransactionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js\");\n/* eslint-disable no-console */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    connections: new Map(),\n    recentConnections: new Map(),\n    isSwitchingConnection: false,\n    wcError: false,\n    wcFetchingUri: false,\n    buffering: false,\n    status: 'disconnected'\n});\n// eslint-disable-next-line init-declarations\nlet wcConnectionPromise;\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    _getClient() {\n        return state._client;\n    },\n    setClient(client) {\n        state._client = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(client);\n    },\n    initialize(adapters) {\n        const namespaces = adapters\n            .filter((a) => Boolean(a.namespace))\n            .map(a => a.namespace);\n        ConnectionController.syncStorageConnections(namespaces);\n    },\n    syncStorageConnections(namespaces) {\n        const storageConnections = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getConnections();\n        const namespacesToSync = namespaces ?? Array.from(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains.keys());\n        for (const namespace of namespacesToSync) {\n            const storageConnectionsByNamespace = storageConnections[namespace] ?? [];\n            const recentConnectionsMap = new Map(state.recentConnections);\n            recentConnectionsMap.set(namespace, storageConnectionsByNamespace);\n            state.recentConnections = recentConnectionsMap;\n        }\n    },\n    getConnections(namespace) {\n        return namespace ? (state.connections.get(namespace) ?? []) : [];\n    },\n    hasAnyConnection(connectorId) {\n        const connections = ConnectionController.state.connections;\n        return Array.from(connections.values())\n            .flatMap(_connections => _connections)\n            .some(({ connectorId: _connectorId }) => _connectorId === connectorId);\n    },\n    async connectWalletConnect({ cache = 'auto' } = {}) {\n        state.wcFetchingUri = true;\n        const isInTelegramOrSafariIos = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isTelegram() || (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isSafari() && _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isIos());\n        if (cache === 'always' || (cache === 'auto' && isInTelegramOrSafariIos)) {\n            if (wcConnectionPromise) {\n                await wcConnectionPromise;\n                wcConnectionPromise = undefined;\n                return;\n            }\n            if (!_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isPairingExpired(state?.wcPairingExpiry)) {\n                const link = state.wcUri;\n                state.wcUri = link;\n                return;\n            }\n            wcConnectionPromise = ConnectionController._getClient()\n                ?.connectWalletConnect?.()\n                .catch(() => undefined);\n            ConnectionController.state.status = 'connecting';\n            await wcConnectionPromise;\n            wcConnectionPromise = undefined;\n            state.wcPairingExpiry = undefined;\n            ConnectionController.state.status = 'connected';\n        }\n        else {\n            await ConnectionController._getClient()?.connectWalletConnect?.();\n        }\n    },\n    async connectExternal(options, chain, setChain = true) {\n        const connectData = await ConnectionController._getClient()?.connectExternal?.(options);\n        if (setChain) {\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setActiveNamespace(chain);\n        }\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.state.allConnectors.find(c => c.id === options?.id);\n        const connectSuccessEventMethod = options.type === 'AUTH' ? 'email' : 'browser';\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_6__.EventsController.sendEvent({\n            type: 'track',\n            event: 'CONNECT_SUCCESS',\n            properties: {\n                method: connectSuccessEventMethod,\n                name: connector?.name || 'Unknown',\n                view: _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.state.view,\n                walletRank: connector?.explorerWallet?.order\n            }\n        });\n        return connectData;\n    },\n    async reconnectExternal(options) {\n        await ConnectionController._getClient()?.reconnectExternal?.(options);\n        const namespace = options.chain || _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n        if (namespace) {\n            _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.setConnectorId(options.id, namespace);\n        }\n    },\n    async setPreferredAccountType(accountType, namespace) {\n        if (!namespace) {\n            return;\n        }\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_8__.ModalController.setLoading(true, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        if (!authConnector) {\n            return;\n        }\n        _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('preferredAccountType', accountType, namespace);\n        await authConnector.provider.setPreferredAccount(accountType);\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setPreferredAccountTypes(Object.entries(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains).reduce((acc, [key, _]) => {\n            const namespace = key;\n            const accountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_9__.getPreferredAccountType)(namespace);\n            if (accountType !== undefined) {\n                ;\n                acc[namespace] = accountType;\n            }\n            return acc;\n        }, {}));\n        await ConnectionController.reconnectExternal(authConnector);\n        _ModalController_js__WEBPACK_IMPORTED_MODULE_8__.ModalController.setLoading(false, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_6__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SET_PREFERRED_ACCOUNT_TYPE',\n            properties: {\n                accountType,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n            }\n        });\n    },\n    async signMessage(message) {\n        return ConnectionController._getClient()?.signMessage(message);\n    },\n    parseUnits(value, decimals) {\n        return ConnectionController._getClient()?.parseUnits(value, decimals);\n    },\n    formatUnits(value, decimals) {\n        return ConnectionController._getClient()?.formatUnits(value, decimals);\n    },\n    updateBalance(namespace) {\n        return ConnectionController._getClient()?.updateBalance(namespace);\n    },\n    async sendTransaction(args) {\n        return ConnectionController._getClient()?.sendTransaction(args);\n    },\n    async getCapabilities(params) {\n        return ConnectionController._getClient()?.getCapabilities(params);\n    },\n    async grantPermissions(params) {\n        return ConnectionController._getClient()?.grantPermissions(params);\n    },\n    async walletGetAssets(params) {\n        return ConnectionController._getClient()?.walletGetAssets(params) ?? {};\n    },\n    async estimateGas(args) {\n        return ConnectionController._getClient()?.estimateGas(args);\n    },\n    async writeContract(args) {\n        return ConnectionController._getClient()?.writeContract(args);\n    },\n    async writeSolanaTransaction(args) {\n        return ConnectionController._getClient()?.writeSolanaTransaction(args);\n    },\n    async getEnsAddress(value) {\n        return ConnectionController._getClient()?.getEnsAddress(value);\n    },\n    async getEnsAvatar(value) {\n        return ConnectionController._getClient()?.getEnsAvatar(value);\n    },\n    checkInstalled(ids) {\n        return ConnectionController._getClient()?.checkInstalled?.(ids) || false;\n    },\n    resetWcConnection() {\n        state.wcUri = undefined;\n        state.wcPairingExpiry = undefined;\n        state.wcLinking = undefined;\n        state.recentWallet = undefined;\n        state.wcFetchingUri = false;\n        state.status = 'disconnected';\n        _TransactionsController_js__WEBPACK_IMPORTED_MODULE_10__.TransactionsController.resetTransactions();\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.deleteWalletConnectDeepLink();\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.deleteRecentWallet();\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_11__.PublicStateController.set({ connectingWallet: undefined });\n    },\n    resetUri() {\n        state.wcUri = undefined;\n        state.wcPairingExpiry = undefined;\n        wcConnectionPromise = undefined;\n        state.wcFetchingUri = false;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_11__.PublicStateController.set({ connectingWallet: undefined });\n    },\n    finalizeWcConnection(address) {\n        const { wcLinking, recentWallet } = ConnectionController.state;\n        if (wcLinking) {\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setWalletConnectDeepLink(wcLinking);\n        }\n        if (recentWallet) {\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.setAppKitRecent(recentWallet);\n        }\n        if (address) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_6__.EventsController.sendEvent({\n                type: 'track',\n                event: 'CONNECT_SUCCESS',\n                address,\n                properties: {\n                    method: wcLinking ? 'mobile' : 'qrcode',\n                    name: _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.state.data?.wallet?.name || 'Unknown',\n                    view: _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.state.view,\n                    walletRank: recentWallet?.order\n                }\n            });\n        }\n    },\n    setWcBasic(wcBasic) {\n        state.wcBasic = wcBasic;\n    },\n    setUri(uri) {\n        state.wcUri = uri;\n        state.wcFetchingUri = false;\n        state.wcPairingExpiry = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPairingExpiry();\n    },\n    setWcLinking(wcLinking) {\n        state.wcLinking = wcLinking;\n    },\n    setWcError(wcError) {\n        state.wcError = wcError;\n        state.wcFetchingUri = false;\n        state.buffering = false;\n    },\n    setRecentWallet(wallet) {\n        state.recentWallet = wallet;\n    },\n    setBuffering(buffering) {\n        state.buffering = buffering;\n    },\n    setStatus(status) {\n        state.status = status;\n    },\n    setIsSwitchingConnection(isSwitchingConnection) {\n        state.isSwitchingConnection = isSwitchingConnection;\n    },\n    async disconnect({ id, namespace, initialDisconnect } = {}) {\n        try {\n            await ConnectionController._getClient()?.disconnect({\n                id,\n                chainNamespace: namespace,\n                initialDisconnect\n            });\n        }\n        catch (error) {\n            throw new _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__.AppKitError('Failed to disconnect', 'INTERNAL_SDK_ERROR', error);\n        }\n    },\n    async disconnectConnector({ id, namespace }) {\n        try {\n            await ConnectionController._getClient()?.disconnectConnector({ id, namespace });\n        }\n        catch (error) {\n            throw new _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__.AppKitError('Failed to disconnect connector', 'INTERNAL_SDK_ERROR', error);\n        }\n    },\n    setConnections(connections, chainNamespace) {\n        const connectionsMap = new Map(state.connections);\n        connectionsMap.set(chainNamespace, connections);\n        state.connections = connectionsMap;\n    },\n    async handleAuthAccountSwitch({ address, namespace }) {\n        const accountData = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace);\n        const smartAccount = accountData?.user?.accounts?.find(c => c.type === 'smartAccount');\n        const accountType = smartAccount &&\n            smartAccount.address.toLowerCase() === address.toLowerCase() &&\n            _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_13__.ConnectorControllerUtil.canSwitchToSmartAccount(namespace)\n            ? 'smartAccount'\n            : 'eoa';\n        await ConnectionController.setPreferredAccountType(accountType, namespace);\n    },\n    async handleActiveConnection({ connection, namespace, address }) {\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorById(connection.connectorId);\n        const isAuthConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        if (!connector) {\n            throw new Error(`No connector found for connection: ${connection.connectorId}`);\n        }\n        if (!isAuthConnector) {\n            const connectData = await ConnectionController.connectExternal({\n                id: connector.id,\n                type: connector.type,\n                provider: connector.provider,\n                address,\n                chain: namespace\n            }, namespace);\n            return connectData?.address;\n        }\n        else if (address) {\n            await ConnectionController.handleAuthAccountSwitch({ address, namespace });\n        }\n        return address;\n    },\n    async handleDisconnectedConnection({ connection, namespace, address, closeModalOnConnect }) {\n        const connector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getConnectorById(connection.connectorId);\n        const authName = connection.auth?.name?.toLowerCase();\n        const isAuthConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        const isWCConnector = connection.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_14__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        if (!connector) {\n            throw new Error(`No connector found for connection: ${connection.connectorId}`);\n        }\n        let newAddress = undefined;\n        if (isAuthConnector) {\n            if (authName && _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_13__.ConnectorControllerUtil.isSocialProvider(authName)) {\n                const { address: socialAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_13__.ConnectorControllerUtil.connectSocial({\n                    social: authName,\n                    closeModalOnConnect,\n                    onOpenFarcaster() {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_8__.ModalController.open({ view: 'ConnectingFarcaster' });\n                    },\n                    onConnect() {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.replace('ProfileWallets');\n                    }\n                });\n                newAddress = socialAddress;\n            }\n            else {\n                const { address: emailAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_13__.ConnectorControllerUtil.connectEmail({\n                    closeModalOnConnect,\n                    onOpen() {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_8__.ModalController.open({ view: 'EmailLogin' });\n                    },\n                    onConnect() {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.replace('ProfileWallets');\n                    }\n                });\n                newAddress = emailAddress;\n            }\n        }\n        else if (isWCConnector) {\n            const { address: wcAddress } = await _utils_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_13__.ConnectorControllerUtil.connectWalletConnect({\n                walletConnect: true,\n                connector,\n                closeModalOnConnect,\n                onOpen(isMobile) {\n                    const view = isMobile ? 'AllWallets' : 'ConnectingWalletConnect';\n                    if (_ModalController_js__WEBPACK_IMPORTED_MODULE_8__.ModalController.state.open) {\n                        _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.push(view);\n                    }\n                    else {\n                        _ModalController_js__WEBPACK_IMPORTED_MODULE_8__.ModalController.open({ view });\n                    }\n                },\n                onConnect() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_7__.RouterController.replace('ProfileWallets');\n                }\n            });\n            newAddress = wcAddress;\n        }\n        else {\n            const connectData = await ConnectionController.connectExternal({\n                id: connector.id,\n                type: connector.type,\n                provider: connector.provider,\n                chain: namespace\n            }, namespace);\n            if (connectData) {\n                newAddress = connectData.address;\n            }\n        }\n        if (isAuthConnector && address) {\n            await ConnectionController.handleAuthAccountSwitch({ address, namespace });\n        }\n        return newAddress;\n    },\n    async switchConnection({ connection, address, namespace, closeModalOnConnect, onChange }) {\n        let currentAddress = undefined;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace)?.caipAddress;\n        if (caipAddress) {\n            const { address: currentAddressParsed } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ParseUtil.parseCaipAddress(caipAddress);\n            currentAddress = currentAddressParsed;\n        }\n        const status = _utils_ConnectionControllerUtil_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionControllerUtil.getConnectionStatus(connection, namespace);\n        switch (status) {\n            case 'connected':\n            case 'active': {\n                const newAddress = await ConnectionController.handleActiveConnection({\n                    connection,\n                    namespace,\n                    address\n                });\n                if (currentAddress && newAddress) {\n                    const hasSwitchedAccount = newAddress.toLowerCase() !== currentAddress.toLowerCase();\n                    onChange?.({\n                        address: newAddress,\n                        namespace,\n                        hasSwitchedAccount,\n                        hasSwitchedWallet: status === 'active'\n                    });\n                }\n                break;\n            }\n            case 'disconnected': {\n                const newAddress = await ConnectionController.handleDisconnectedConnection({\n                    connection,\n                    namespace,\n                    address,\n                    closeModalOnConnect\n                });\n                if (newAddress) {\n                    onChange?.({\n                        address: newAddress,\n                        namespace,\n                        hasSwitchedAccount: true,\n                        hasSwitchedWallet: true\n                    });\n                }\n                break;\n            }\n            default:\n                throw new Error(`Invalid connection status: ${status}`);\n        }\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ConnectionController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__.withErrorBoundary)(controller);\n//# sourceMappingURL=ConnectionController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUM4RDtBQUNBO0FBQ3lCO0FBQ2I7QUFDTTtBQUNGO0FBQ2xCO0FBQ047QUFDeUI7QUFDeEI7QUFDUTtBQUNOO0FBQ0Y7QUFDWTtBQUNWO0FBQ1k7QUFDckU7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdCQUF3QixtREFBRztBQUMzQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1DQUFtQyw4REFBVztBQUM5QywwREFBMEQsZ0VBQWU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMkJBQTJCO0FBQ2hELEtBQUs7QUFDTCxpQ0FBaUMsaUJBQWlCLElBQUk7QUFDdEQ7QUFDQSx3Q0FBd0Msb0VBQWMsa0JBQWtCLG9FQUFjLGVBQWUsb0VBQWM7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9FQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQWU7QUFDM0I7QUFDQSwwQkFBMEIsd0VBQW1CO0FBQzdDO0FBQ0EsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrRUFBZ0I7QUFDdEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkNBQTJDLGdFQUFlO0FBQzFEO0FBQ0EsWUFBWSx3RUFBbUI7QUFDL0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdFQUFlLGtCQUFrQixnRUFBZTtBQUN4RCw4QkFBOEIsd0VBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0VBQWU7QUFDdkI7QUFDQSxRQUFRLDhEQUFXLHlDQUF5QyxnRUFBZTtBQUMzRTtBQUNBLGdDQUFnQyxzRkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0EsUUFBUSxnRUFBZSxtQkFBbUIsZ0VBQWU7QUFDekQsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0VBQWU7QUFDeEM7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0VBQXNCO0FBQzlCLFFBQVEsOERBQVc7QUFDbkIsUUFBUSw4REFBVztBQUNuQixRQUFRLDZFQUFxQixPQUFPLDZCQUE2QjtBQUNqRSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkVBQXFCLE9BQU8sNkJBQTZCO0FBQ2pFLEtBQUs7QUFDTDtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQSxZQUFZLDhEQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxZQUFZLDhEQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtFQUFnQjtBQUMxQywwQkFBMEIsa0VBQWdCO0FBQzFDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0VBQWM7QUFDOUMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCx1QkFBdUIsbUNBQW1DLElBQUk7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esc0JBQXNCLHFFQUFXO0FBQ2pDO0FBQ0EsS0FBSztBQUNMLGdDQUFnQyxlQUFlO0FBQy9DO0FBQ0EsMkVBQTJFLGVBQWU7QUFDMUY7QUFDQTtBQUNBLHNCQUFzQixxRUFBVztBQUNqQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvQ0FBb0Msb0JBQW9CO0FBQ3hELDRCQUE0QixnRUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQSxZQUFZLHVGQUF1QjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUNBQW1DLGdDQUFnQztBQUNuRSwwQkFBMEIsd0VBQW1CO0FBQzdDLDJEQUEyRCxnRUFBbUI7QUFDOUU7QUFDQSxrRUFBa0UsdUJBQXVCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLG9CQUFvQjtBQUNyRjtBQUNBO0FBQ0EsS0FBSztBQUNMLHlDQUF5QyxxREFBcUQ7QUFDOUYsMEJBQTBCLHdFQUFtQjtBQUM3QztBQUNBLDJEQUEyRCxnRUFBbUI7QUFDOUUseURBQXlELGdFQUFtQjtBQUM1RTtBQUNBLGtFQUFrRSx1QkFBdUI7QUFDekY7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVGQUF1QjtBQUNuRCx3QkFBd0IseUJBQXlCLFFBQVEsdUZBQXVCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnRUFBZSxRQUFRLDZCQUE2QjtBQUM1RSxxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0Isa0VBQWdCO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3QkFBd0IsUUFBUSx1RkFBdUI7QUFDL0U7QUFDQTtBQUNBLHdCQUF3QixnRUFBZSxRQUFRLG9CQUFvQjtBQUNuRSxxQkFBcUI7QUFDckI7QUFDQSx3QkFBd0Isa0VBQWdCO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQixRQUFRLHVGQUF1QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdFQUFlO0FBQ3ZDLHdCQUF3QixrRUFBZ0I7QUFDeEM7QUFDQTtBQUNBLHdCQUF3QixnRUFBZSxRQUFRLE1BQU07QUFDckQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxvQkFBb0Isa0VBQWdCO0FBQ3BDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxvQkFBb0I7QUFDckY7QUFDQTtBQUNBLEtBQUs7QUFDTCw2QkFBNkIsK0RBQStEO0FBQzVGO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0Esb0JBQW9CLGdDQUFnQyxFQUFFLDREQUFTO0FBQy9EO0FBQ0E7QUFDQSx1QkFBdUIseUZBQXdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsT0FBTztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2QiwrRUFBaUI7QUFDckQiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBwcm94eSwgcmVmLCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0Nvbm5lY3Rpb25Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0Nvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuLi91dGlscy9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBBcHBLaXRFcnJvciwgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi9Nb2RhbENvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUHVibGljU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnLi9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgY29ubmVjdGlvbnM6IG5ldyBNYXAoKSxcbiAgICByZWNlbnRDb25uZWN0aW9uczogbmV3IE1hcCgpLFxuICAgIGlzU3dpdGNoaW5nQ29ubmVjdGlvbjogZmFsc2UsXG4gICAgd2NFcnJvcjogZmFsc2UsXG4gICAgd2NGZXRjaGluZ1VyaTogZmFsc2UsXG4gICAgYnVmZmVyaW5nOiBmYWxzZSxcbiAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnXG59KTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbml0LWRlY2xhcmF0aW9uc1xubGV0IHdjQ29ubmVjdGlvblByb21pc2U7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWIoc3RhdGUsICgpID0+IGNhbGxiYWNrKHN0YXRlKSk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIF9nZXRDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5fY2xpZW50O1xuICAgIH0sXG4gICAgc2V0Q2xpZW50KGNsaWVudCkge1xuICAgICAgICBzdGF0ZS5fY2xpZW50ID0gcmVmKGNsaWVudCk7XG4gICAgfSxcbiAgICBpbml0aWFsaXplKGFkYXB0ZXJzKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBhZGFwdGVyc1xuICAgICAgICAgICAgLmZpbHRlcigoYSkgPT4gQm9vbGVhbihhLm5hbWVzcGFjZSkpXG4gICAgICAgICAgICAubWFwKGEgPT4gYS5uYW1lc3BhY2UpO1xuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zeW5jU3RvcmFnZUNvbm5lY3Rpb25zKG5hbWVzcGFjZXMpO1xuICAgIH0sXG4gICAgc3luY1N0b3JhZ2VDb25uZWN0aW9ucyhuYW1lc3BhY2VzKSB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VDb25uZWN0aW9ucyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3Rpb25zKCk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZXNUb1N5bmMgPSBuYW1lc3BhY2VzID8/IEFycmF5LmZyb20oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5rZXlzKCkpO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWVzcGFjZSBvZiBuYW1lc3BhY2VzVG9TeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlQ29ubmVjdGlvbnNCeU5hbWVzcGFjZSA9IHN0b3JhZ2VDb25uZWN0aW9uc1tuYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVjZW50Q29ubmVjdGlvbnNNYXAgPSBuZXcgTWFwKHN0YXRlLnJlY2VudENvbm5lY3Rpb25zKTtcbiAgICAgICAgICAgIHJlY2VudENvbm5lY3Rpb25zTWFwLnNldChuYW1lc3BhY2UsIHN0b3JhZ2VDb25uZWN0aW9uc0J5TmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHN0YXRlLnJlY2VudENvbm5lY3Rpb25zID0gcmVjZW50Q29ubmVjdGlvbnNNYXA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25zKG5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gbmFtZXNwYWNlID8gKHN0YXRlLmNvbm5lY3Rpb25zLmdldChuYW1lc3BhY2UpID8/IFtdKSA6IFtdO1xuICAgIH0sXG4gICAgaGFzQW55Q29ubmVjdGlvbihjb25uZWN0b3JJZCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLmNvbm5lY3Rpb25zO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShjb25uZWN0aW9ucy52YWx1ZXMoKSlcbiAgICAgICAgICAgIC5mbGF0TWFwKF9jb25uZWN0aW9ucyA9PiBfY29ubmVjdGlvbnMpXG4gICAgICAgICAgICAuc29tZSgoeyBjb25uZWN0b3JJZDogX2Nvbm5lY3RvcklkIH0pID0+IF9jb25uZWN0b3JJZCA9PT0gY29ubmVjdG9ySWQpO1xuICAgIH0sXG4gICAgYXN5bmMgY29ubmVjdFdhbGxldENvbm5lY3QoeyBjYWNoZSA9ICdhdXRvJyB9ID0ge30pIHtcbiAgICAgICAgc3RhdGUud2NGZXRjaGluZ1VyaSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGlzSW5UZWxlZ3JhbU9yU2FmYXJpSW9zID0gQ29yZUhlbHBlclV0aWwuaXNUZWxlZ3JhbSgpIHx8IChDb3JlSGVscGVyVXRpbC5pc1NhZmFyaSgpICYmIENvcmVIZWxwZXJVdGlsLmlzSW9zKCkpO1xuICAgICAgICBpZiAoY2FjaGUgPT09ICdhbHdheXMnIHx8IChjYWNoZSA9PT0gJ2F1dG8nICYmIGlzSW5UZWxlZ3JhbU9yU2FmYXJpSW9zKSkge1xuICAgICAgICAgICAgaWYgKHdjQ29ubmVjdGlvblByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB3Y0Nvbm5lY3Rpb25Qcm9taXNlO1xuICAgICAgICAgICAgICAgIHdjQ29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFDb3JlSGVscGVyVXRpbC5pc1BhaXJpbmdFeHBpcmVkKHN0YXRlPy53Y1BhaXJpbmdFeHBpcnkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IHN0YXRlLndjVXJpO1xuICAgICAgICAgICAgICAgIHN0YXRlLndjVXJpID0gbGluaztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3Y0Nvbm5lY3Rpb25Qcm9taXNlID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpXG4gICAgICAgICAgICAgICAgPy5jb25uZWN0V2FsbGV0Q29ubmVjdD8uKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLnN0YXR1cyA9ICdjb25uZWN0aW5nJztcbiAgICAgICAgICAgIGF3YWl0IHdjQ29ubmVjdGlvblByb21pc2U7XG4gICAgICAgICAgICB3Y0Nvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUud2NQYWlyaW5nRXhwaXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUuc3RhdHVzID0gJ2Nvbm5lY3RlZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmNvbm5lY3RXYWxsZXRDb25uZWN0Py4oKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY29ubmVjdEV4dGVybmFsKG9wdGlvbnMsIGNoYWluLCBzZXRDaGFpbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdERhdGEgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmNvbm5lY3RFeHRlcm5hbD8uKG9wdGlvbnMpO1xuICAgICAgICBpZiAoc2V0Q2hhaW4pIHtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY3RpdmVOYW1lc3BhY2UoY2hhaW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuYWxsQ29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gb3B0aW9ucz8uaWQpO1xuICAgICAgICBjb25zdCBjb25uZWN0U3VjY2Vzc0V2ZW50TWV0aG9kID0gb3B0aW9ucy50eXBlID09PSAnQVVUSCcgPyAnZW1haWwnIDogJ2Jyb3dzZXInO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdDT05ORUNUX1NVQ0NFU1MnLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogY29ubmVjdFN1Y2Nlc3NFdmVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjb25uZWN0b3I/Lm5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICAgICAgICAgIHZpZXc6IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyxcbiAgICAgICAgICAgICAgICB3YWxsZXRSYW5rOiBjb25uZWN0b3I/LmV4cGxvcmVyV2FsbGV0Py5vcmRlclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3REYXRhO1xuICAgIH0sXG4gICAgYXN5bmMgcmVjb25uZWN0RXh0ZXJuYWwob3B0aW9ucykge1xuICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnJlY29ubmVjdEV4dGVybmFsPy4ob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IG9wdGlvbnMuY2hhaW4gfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnNldENvbm5lY3RvcklkKG9wdGlvbnMuaWQsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNldFByZWZlcnJlZEFjY291bnRUeXBlKGFjY291bnRUeXBlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2V0TG9hZGluZyh0cnVlLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgIGlmICghYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgncHJlZmVycmVkQWNjb3VudFR5cGUnLCBhY2NvdW50VHlwZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgYXdhaXQgYXV0aENvbm5lY3Rvci5wcm92aWRlci5zZXRQcmVmZXJyZWRBY2NvdW50KGFjY291bnRUeXBlKTtcbiAgICAgICAgU3RvcmFnZVV0aWwuc2V0UHJlZmVycmVkQWNjb3VudFR5cGVzKE9iamVjdC5lbnRyaWVzKENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMpLnJlZHVjZSgoYWNjLCBba2V5LCBfXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlID0ga2V5O1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudFR5cGUgPSBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgYWNjW25hbWVzcGFjZV0gPSBhY2NvdW50VHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnJlY29ubmVjdEV4dGVybmFsKGF1dGhDb25uZWN0b3IpO1xuICAgICAgICBNb2RhbENvbnRyb2xsZXIuc2V0TG9hZGluZyhmYWxzZSwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnU0VUX1BSRUZFUlJFRF9BQ0NPVU5UX1RZUEUnLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIGFjY291bnRUeXBlLFxuICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHNpZ25NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uc2lnbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfSxcbiAgICBwYXJzZVVuaXRzKHZhbHVlLCBkZWNpbWFscykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5wYXJzZVVuaXRzKHZhbHVlLCBkZWNpbWFscyk7XG4gICAgfSxcbiAgICBmb3JtYXRVbml0cyh2YWx1ZSwgZGVjaW1hbHMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZm9ybWF0VW5pdHModmFsdWUsIGRlY2ltYWxzKTtcbiAgICB9LFxuICAgIHVwZGF0ZUJhbGFuY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnVwZGF0ZUJhbGFuY2UobmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGFzeW5jIHNlbmRUcmFuc2FjdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnNlbmRUcmFuc2FjdGlvbihhcmdzKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldENhcGFiaWxpdGllcyhwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZ2V0Q2FwYWJpbGl0aWVzKHBhcmFtcyk7XG4gICAgfSxcbiAgICBhc3luYyBncmFudFBlcm1pc3Npb25zKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5ncmFudFBlcm1pc3Npb25zKHBhcmFtcyk7XG4gICAgfSxcbiAgICBhc3luYyB3YWxsZXRHZXRBc3NldHMocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LndhbGxldEdldEFzc2V0cyhwYXJhbXMpID8/IHt9O1xuICAgIH0sXG4gICAgYXN5bmMgZXN0aW1hdGVHYXMoYXJncykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5lc3RpbWF0ZUdhcyhhcmdzKTtcbiAgICB9LFxuICAgIGFzeW5jIHdyaXRlQ29udHJhY3QoYXJncykge1xuICAgICAgICByZXR1cm4gQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy53cml0ZUNvbnRyYWN0KGFyZ3MpO1xuICAgIH0sXG4gICAgYXN5bmMgd3JpdGVTb2xhbmFUcmFuc2FjdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LndyaXRlU29sYW5hVHJhbnNhY3Rpb24oYXJncyk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRFbnNBZGRyZXNzKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmdldEVuc0FkZHJlc3ModmFsdWUpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0RW5zQXZhdGFyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LmdldEVuc0F2YXRhcih2YWx1ZSk7XG4gICAgfSxcbiAgICBjaGVja0luc3RhbGxlZChpZHMpIHtcbiAgICAgICAgcmV0dXJuIENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uY2hlY2tJbnN0YWxsZWQ/LihpZHMpIHx8IGZhbHNlO1xuICAgIH0sXG4gICAgcmVzZXRXY0Nvbm5lY3Rpb24oKSB7XG4gICAgICAgIHN0YXRlLndjVXJpID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS53Y1BhaXJpbmdFeHBpcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLndjTGlua2luZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucmVjZW50V2FsbGV0ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS53Y0ZldGNoaW5nVXJpID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnN0YXR1cyA9ICdkaXNjb25uZWN0ZWQnO1xuICAgICAgICBUcmFuc2FjdGlvbnNDb250cm9sbGVyLnJlc2V0VHJhbnNhY3Rpb25zKCk7XG4gICAgICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZVdhbGxldENvbm5lY3REZWVwTGluaygpO1xuICAgICAgICBTdG9yYWdlVXRpbC5kZWxldGVSZWNlbnRXYWxsZXQoKTtcbiAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7IGNvbm5lY3RpbmdXYWxsZXQ6IHVuZGVmaW5lZCB9KTtcbiAgICB9LFxuICAgIHJlc2V0VXJpKCkge1xuICAgICAgICBzdGF0ZS53Y1VyaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUud2NQYWlyaW5nRXhwaXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICB3Y0Nvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS53Y0ZldGNoaW5nVXJpID0gZmFsc2U7XG4gICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoeyBjb25uZWN0aW5nV2FsbGV0OiB1bmRlZmluZWQgfSk7XG4gICAgfSxcbiAgICBmaW5hbGl6ZVdjQ29ubmVjdGlvbihhZGRyZXNzKSB7XG4gICAgICAgIGNvbnN0IHsgd2NMaW5raW5nLCByZWNlbnRXYWxsZXQgfSA9IENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlO1xuICAgICAgICBpZiAod2NMaW5raW5nKSB7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRXYWxsZXRDb25uZWN0RGVlcExpbmsod2NMaW5raW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjZW50V2FsbGV0KSB7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5zZXRBcHBLaXRSZWNlbnQocmVjZW50V2FsbGV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdDT05ORUNUX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHdjTGlua2luZyA/ICdtb2JpbGUnIDogJ3FyY29kZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuZGF0YT8ud2FsbGV0Py5uYW1lIHx8ICdVbmtub3duJyxcbiAgICAgICAgICAgICAgICAgICAgdmlldzogUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3LFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRSYW5rOiByZWNlbnRXYWxsZXQ/Lm9yZGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFdjQmFzaWMod2NCYXNpYykge1xuICAgICAgICBzdGF0ZS53Y0Jhc2ljID0gd2NCYXNpYztcbiAgICB9LFxuICAgIHNldFVyaSh1cmkpIHtcbiAgICAgICAgc3RhdGUud2NVcmkgPSB1cmk7XG4gICAgICAgIHN0YXRlLndjRmV0Y2hpbmdVcmkgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUud2NQYWlyaW5nRXhwaXJ5ID0gQ29yZUhlbHBlclV0aWwuZ2V0UGFpcmluZ0V4cGlyeSgpO1xuICAgIH0sXG4gICAgc2V0V2NMaW5raW5nKHdjTGlua2luZykge1xuICAgICAgICBzdGF0ZS53Y0xpbmtpbmcgPSB3Y0xpbmtpbmc7XG4gICAgfSxcbiAgICBzZXRXY0Vycm9yKHdjRXJyb3IpIHtcbiAgICAgICAgc3RhdGUud2NFcnJvciA9IHdjRXJyb3I7XG4gICAgICAgIHN0YXRlLndjRmV0Y2hpbmdVcmkgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgfSxcbiAgICBzZXRSZWNlbnRXYWxsZXQod2FsbGV0KSB7XG4gICAgICAgIHN0YXRlLnJlY2VudFdhbGxldCA9IHdhbGxldDtcbiAgICB9LFxuICAgIHNldEJ1ZmZlcmluZyhidWZmZXJpbmcpIHtcbiAgICAgICAgc3RhdGUuYnVmZmVyaW5nID0gYnVmZmVyaW5nO1xuICAgIH0sXG4gICAgc2V0U3RhdHVzKHN0YXR1cykge1xuICAgICAgICBzdGF0ZS5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfSxcbiAgICBzZXRJc1N3aXRjaGluZ0Nvbm5lY3Rpb24oaXNTd2l0Y2hpbmdDb25uZWN0aW9uKSB7XG4gICAgICAgIHN0YXRlLmlzU3dpdGNoaW5nQ29ubmVjdGlvbiA9IGlzU3dpdGNoaW5nQ29ubmVjdGlvbjtcbiAgICB9LFxuICAgIGFzeW5jIGRpc2Nvbm5lY3QoeyBpZCwgbmFtZXNwYWNlLCBpbml0aWFsRGlzY29ubmVjdCB9ID0ge30pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZGlzY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgY2hhaW5OYW1lc3BhY2U6IG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBpbml0aWFsRGlzY29ubmVjdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXBwS2l0RXJyb3IoJ0ZhaWxlZCB0byBkaXNjb25uZWN0JywgJ0lOVEVSTkFMX1NES19FUlJPUicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZGlzY29ubmVjdENvbm5lY3Rvcih7IGlkLCBuYW1lc3BhY2UgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy5kaXNjb25uZWN0Q29ubmVjdG9yKHsgaWQsIG5hbWVzcGFjZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcHBLaXRFcnJvcignRmFpbGVkIHRvIGRpc2Nvbm5lY3QgY29ubmVjdG9yJywgJ0lOVEVSTkFMX1NES19FUlJPUicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q29ubmVjdGlvbnMoY29ubmVjdGlvbnMsIGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25zTWFwID0gbmV3IE1hcChzdGF0ZS5jb25uZWN0aW9ucyk7XG4gICAgICAgIGNvbm5lY3Rpb25zTWFwLnNldChjaGFpbk5hbWVzcGFjZSwgY29ubmVjdGlvbnMpO1xuICAgICAgICBzdGF0ZS5jb25uZWN0aW9ucyA9IGNvbm5lY3Rpb25zTWFwO1xuICAgIH0sXG4gICAgYXN5bmMgaGFuZGxlQXV0aEFjY291bnRTd2l0Y2goeyBhZGRyZXNzLCBuYW1lc3BhY2UgfSkge1xuICAgICAgICBjb25zdCBhY2NvdW50RGF0YSA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBzbWFydEFjY291bnQgPSBhY2NvdW50RGF0YT8udXNlcj8uYWNjb3VudHM/LmZpbmQoYyA9PiBjLnR5cGUgPT09ICdzbWFydEFjY291bnQnKTtcbiAgICAgICAgY29uc3QgYWNjb3VudFR5cGUgPSBzbWFydEFjY291bnQgJiZcbiAgICAgICAgICAgIHNtYXJ0QWNjb3VudC5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGFkZHJlc3MudG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2FuU3dpdGNoVG9TbWFydEFjY291bnQobmFtZXNwYWNlKVxuICAgICAgICAgICAgPyAnc21hcnRBY2NvdW50J1xuICAgICAgICAgICAgOiAnZW9hJztcbiAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc2V0UHJlZmVycmVkQWNjb3VudFR5cGUoYWNjb3VudFR5cGUsIG5hbWVzcGFjZSk7XG4gICAgfSxcbiAgICBhc3luYyBoYW5kbGVBY3RpdmVDb25uZWN0aW9uKHsgY29ubmVjdGlvbiwgbmFtZXNwYWNlLCBhZGRyZXNzIH0pIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JCeUlkKGNvbm5lY3Rpb24uY29ubmVjdG9ySWQpO1xuICAgICAgICBjb25zdCBpc0F1dGhDb25uZWN0b3IgPSBjb25uZWN0aW9uLmNvbm5lY3RvcklkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIO1xuICAgICAgICBpZiAoIWNvbm5lY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb25uZWN0b3IgZm91bmQgZm9yIGNvbm5lY3Rpb246ICR7Y29ubmVjdGlvbi5jb25uZWN0b3JJZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdERhdGEgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5jb25uZWN0RXh0ZXJuYWwoe1xuICAgICAgICAgICAgICAgIGlkOiBjb25uZWN0b3IuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogY29ubmVjdG9yLnR5cGUsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IGNvbm5lY3Rvci5wcm92aWRlcixcbiAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluOiBuYW1lc3BhY2VcbiAgICAgICAgICAgIH0sIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdERhdGE/LmFkZHJlc3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWRkcmVzcykge1xuICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuaGFuZGxlQXV0aEFjY291bnRTd2l0Y2goeyBhZGRyZXNzLCBuYW1lc3BhY2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFkZHJlc3M7XG4gICAgfSxcbiAgICBhc3luYyBoYW5kbGVEaXNjb25uZWN0ZWRDb25uZWN0aW9uKHsgY29ubmVjdGlvbiwgbmFtZXNwYWNlLCBhZGRyZXNzLCBjbG9zZU1vZGFsT25Db25uZWN0IH0pIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JCeUlkKGNvbm5lY3Rpb24uY29ubmVjdG9ySWQpO1xuICAgICAgICBjb25zdCBhdXRoTmFtZSA9IGNvbm5lY3Rpb24uYXV0aD8ubmFtZT8udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgaXNBdXRoQ29ubmVjdG9yID0gY29ubmVjdGlvbi5jb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSDtcbiAgICAgICAgY29uc3QgaXNXQ0Nvbm5lY3RvciA9IGNvbm5lY3Rpb24uY29ubmVjdG9ySWQgPT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELldBTExFVF9DT05ORUNUO1xuICAgICAgICBpZiAoIWNvbm5lY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb25uZWN0b3IgZm91bmQgZm9yIGNvbm5lY3Rpb246ICR7Y29ubmVjdGlvbi5jb25uZWN0b3JJZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3QWRkcmVzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzQXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgaWYgKGF1dGhOYW1lICYmIENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmlzU29jaWFsUHJvdmlkZXIoYXV0aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzOiBzb2NpYWxBZGRyZXNzIH0gPSBhd2FpdCBDb25uZWN0b3JDb250cm9sbGVyVXRpbC5jb25uZWN0U29jaWFsKHtcbiAgICAgICAgICAgICAgICAgICAgc29jaWFsOiBhdXRoTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbE9uQ29ubmVjdCxcbiAgICAgICAgICAgICAgICAgICAgb25PcGVuRmFyY2FzdGVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLm9wZW4oeyB2aWV3OiAnQ29ubmVjdGluZ0ZhcmNhc3RlcicgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ29ubmVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnUHJvZmlsZVdhbGxldHMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG5ld0FkZHJlc3MgPSBzb2NpYWxBZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzOiBlbWFpbEFkZHJlc3MgfSA9IGF3YWl0IENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNvbm5lY3RFbWFpbCh7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWxPbkNvbm5lY3QsXG4gICAgICAgICAgICAgICAgICAgIG9uT3BlbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5vcGVuKHsgdmlldzogJ0VtYWlsTG9naW4nIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbm5lY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ1Byb2ZpbGVXYWxsZXRzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuZXdBZGRyZXNzID0gZW1haWxBZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzV0NDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWRkcmVzczogd2NBZGRyZXNzIH0gPSBhd2FpdCBDb25uZWN0b3JDb250cm9sbGVyVXRpbC5jb25uZWN0V2FsbGV0Q29ubmVjdCh7XG4gICAgICAgICAgICAgICAgd2FsbGV0Q29ubmVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3IsXG4gICAgICAgICAgICAgICAgY2xvc2VNb2RhbE9uQ29ubmVjdCxcbiAgICAgICAgICAgICAgICBvbk9wZW4oaXNNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IGlzTW9iaWxlID8gJ0FsbFdhbGxldHMnIDogJ0Nvbm5lY3RpbmdXYWxsZXRDb25uZWN0JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1vZGFsQ29udHJvbGxlci5zdGF0ZS5vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2godmlldyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIub3Blbih7IHZpZXcgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ29ubmVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdQcm9maWxlV2FsbGV0cycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3QWRkcmVzcyA9IHdjQWRkcmVzcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3REYXRhID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuY29ubmVjdEV4dGVybmFsKHtcbiAgICAgICAgICAgICAgICBpZDogY29ubmVjdG9yLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbm5lY3Rvci50eXBlLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBjb25uZWN0b3IucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgY2hhaW46IG5hbWVzcGFjZVxuICAgICAgICAgICAgfSwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0RGF0YSkge1xuICAgICAgICAgICAgICAgIG5ld0FkZHJlc3MgPSBjb25uZWN0RGF0YS5hZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0F1dGhDb25uZWN0b3IgJiYgYWRkcmVzcykge1xuICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuaGFuZGxlQXV0aEFjY291bnRTd2l0Y2goeyBhZGRyZXNzLCBuYW1lc3BhY2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0FkZHJlc3M7XG4gICAgfSxcbiAgICBhc3luYyBzd2l0Y2hDb25uZWN0aW9uKHsgY29ubmVjdGlvbiwgYWRkcmVzcywgbmFtZXNwYWNlLCBjbG9zZU1vZGFsT25Db25uZWN0LCBvbkNoYW5nZSB9KSB7XG4gICAgICAgIGxldCBjdXJyZW50QWRkcmVzcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8uY2FpcEFkZHJlc3M7XG4gICAgICAgIGlmIChjYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3QgeyBhZGRyZXNzOiBjdXJyZW50QWRkcmVzc1BhcnNlZCB9ID0gUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpO1xuICAgICAgICAgICAgY3VycmVudEFkZHJlc3MgPSBjdXJyZW50QWRkcmVzc1BhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBDb25uZWN0aW9uQ29udHJvbGxlclV0aWwuZ2V0Q29ubmVjdGlvblN0YXR1cyhjb25uZWN0aW9uLCBuYW1lc3BhY2UpO1xuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2ZSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBZGRyZXNzID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuaGFuZGxlQWN0aXZlQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QWRkcmVzcyAmJiBuZXdBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1N3aXRjaGVkQWNjb3VudCA9IG5ld0FkZHJlc3MudG9Mb3dlckNhc2UoKSAhPT0gY3VycmVudEFkZHJlc3MudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/Lih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBuZXdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3dpdGNoZWRBY2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3dpdGNoZWRXYWxsZXQ6IHN0YXR1cyA9PT0gJ2FjdGl2ZSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FkZHJlc3MgPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5oYW5kbGVEaXNjb25uZWN0ZWRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsT25Db25uZWN0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0FkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/Lih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBuZXdBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3dpdGNoZWRBY2NvdW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzU3dpdGNoZWRXYWxsZXQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29ubmVjdGlvbiBzdGF0dXM6ICR7c3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgQ29ubmVjdGlvbkNvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3Rpb25Db250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorController: () => (/* binding */ ConnectorController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/ConnectorUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorUtil.js\");\n/* harmony import */ var _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/MobileWallet.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ThemeController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst defaultActiveConnectors = Object.fromEntries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.AVAILABLE_NAMESPACES.map(namespace => [namespace, undefined]));\nconst defaultFilterByNamespaceMap = Object.fromEntries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.AVAILABLE_NAMESPACES.map(namespace => [namespace, true]));\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({\n    allConnectors: [],\n    connectors: [],\n    activeConnector: undefined,\n    filterByNamespace: undefined,\n    activeConnectorIds: defaultActiveConnectors,\n    filterByNamespaceMap: defaultFilterByNamespaceMap\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    initialize(namespaces) {\n        namespaces.forEach(namespace => {\n            const connectorId = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.getConnectedConnectorId(namespace);\n            if (connectorId) {\n                ConnectorController.setConnectorId(connectorId, namespace);\n            }\n        });\n    },\n    setActiveConnector(connector) {\n        if (connector) {\n            state.activeConnector = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.ref)(connector);\n        }\n    },\n    setConnectors(connectors) {\n        const newConnectors = connectors.filter(newConnector => !state.allConnectors.some(existingConnector => existingConnector.id === newConnector.id &&\n            ConnectorController.getConnectorName(existingConnector.name) ===\n                ConnectorController.getConnectorName(newConnector.name) &&\n            existingConnector.chain === newConnector.chain));\n        /**\n         * We are reassigning the state of the proxy to a new array of new objects, ConnectorController can cause issues. So it is better to use ref in ConnectorController case.\n         * Check more about proxy on https://valtio.dev/docs/api/basic/proxy#Gotchas\n         * Check more about ref on https://valtio.dev/docs/api/basic/ref\n         */\n        newConnectors.forEach(connector => {\n            if (connector.type !== 'MULTI_CHAIN') {\n                state.allConnectors.push((0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.ref)(connector));\n            }\n        });\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const connectorsFilteredByNamespaces = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        state.connectors = ConnectorController.mergeMultiChainConnectors(connectorsFilteredByNamespaces);\n    },\n    filterByNamespaces(enabledNamespaces) {\n        Object.keys(state.filterByNamespaceMap).forEach(namespace => {\n            state.filterByNamespaceMap[namespace] = false;\n        });\n        enabledNamespaces.forEach(namespace => {\n            state.filterByNamespaceMap[namespace] = true;\n        });\n        ConnectorController.updateConnectorsForEnabledNamespaces();\n    },\n    filterByNamespace(namespace, enabled) {\n        state.filterByNamespaceMap[namespace] = enabled;\n        ConnectorController.updateConnectorsForEnabledNamespaces();\n    },\n    updateConnectorsForEnabledNamespaces() {\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const enabledConnectors = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        const areAllNamespacesEnabled = ConnectorController.areAllNamespacesEnabled();\n        state.connectors = ConnectorController.mergeMultiChainConnectors(enabledConnectors);\n        if (areAllNamespacesEnabled) {\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.clearFilterByNamespaces();\n        }\n        else {\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.filterByNamespaces(enabledNamespaces);\n        }\n    },\n    getEnabledNamespaces() {\n        return Object.entries(state.filterByNamespaceMap)\n            .filter(([_, enabled]) => enabled)\n            .map(([namespace]) => namespace);\n    },\n    getEnabledConnectors(enabledNamespaces) {\n        return state.allConnectors.filter(connector => enabledNamespaces.includes(connector.chain));\n    },\n    areAllNamespacesEnabled() {\n        return Object.values(state.filterByNamespaceMap).every(enabled => enabled);\n    },\n    mergeMultiChainConnectors(connectors) {\n        const connectorsByNameMap = ConnectorController.generateConnectorMapByName(connectors);\n        const mergedConnectors = [];\n        connectorsByNameMap.forEach(keyConnectors => {\n            const firstItem = keyConnectors[0];\n            const isAuthConnector = firstItem?.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH;\n            if (keyConnectors.length > 1 && firstItem) {\n                mergedConnectors.push({\n                    name: firstItem.name,\n                    imageUrl: firstItem.imageUrl,\n                    imageId: firstItem.imageId,\n                    connectors: [...keyConnectors],\n                    type: isAuthConnector ? 'AUTH' : 'MULTI_CHAIN',\n                    // These values are just placeholders, we don't use them in multi-chain connector select screen\n                    chain: 'eip155',\n                    id: firstItem?.id || ''\n                });\n            }\n            else if (firstItem) {\n                mergedConnectors.push(firstItem);\n            }\n        });\n        return mergedConnectors;\n    },\n    generateConnectorMapByName(connectors) {\n        const connectorsByNameMap = new Map();\n        connectors.forEach(connector => {\n            const { name } = connector;\n            const connectorName = ConnectorController.getConnectorName(name);\n            if (!connectorName) {\n                return;\n            }\n            const connectorsByName = connectorsByNameMap.get(connectorName) || [];\n            const haveSameConnector = connectorsByName.find(c => c.chain === connector.chain);\n            if (!haveSameConnector) {\n                connectorsByName.push(connector);\n            }\n            connectorsByNameMap.set(connectorName, connectorsByName);\n        });\n        return connectorsByNameMap;\n    },\n    getConnectorName(name) {\n        if (!name) {\n            return name;\n        }\n        const nameOverrideMap = {\n            'Trust Wallet': 'Trust'\n        };\n        return nameOverrideMap[name] || name;\n    },\n    getUniqueConnectorsByName(connectors) {\n        const uniqueConnectors = [];\n        connectors.forEach(c => {\n            if (!uniqueConnectors.find(uc => uc.chain === c.chain)) {\n                uniqueConnectors.push(c);\n            }\n        });\n        return uniqueConnectors;\n    },\n    addConnector(connector) {\n        if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n            const authConnector = connector;\n            const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n            const themeMode = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeMode;\n            const themeVariables = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeVariables;\n            authConnector?.provider?.syncDappData?.({\n                metadata: optionsState.metadata,\n                sdkVersion: optionsState.sdkVersion,\n                projectId: optionsState.projectId,\n                sdkType: optionsState.sdkType\n            });\n            authConnector?.provider?.syncTheme({\n                themeMode,\n                themeVariables,\n                w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.getW3mThemeVariables)(themeVariables, themeMode)\n            });\n            ConnectorController.setConnectors([connector]);\n        }\n        else {\n            ConnectorController.setConnectors([connector]);\n        }\n    },\n    getAuthConnector(chainNamespace) {\n        const activeNamespace = chainNamespace || _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const authConnector = state.connectors.find(c => c.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_5__.ConstantsUtil.CONNECTOR_ID.AUTH);\n        if (!authConnector) {\n            return undefined;\n        }\n        if (authConnector?.connectors?.length) {\n            const connector = authConnector.connectors.find(c => c.chain === activeNamespace);\n            return connector;\n        }\n        return authConnector;\n    },\n    getAnnouncedConnectorRdns() {\n        return state.connectors.filter(c => c.type === 'ANNOUNCED').map(c => c.info?.rdns);\n    },\n    getConnectorById(id) {\n        const sortedConnectors = _utils_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorUtil.sortConnectorsByPriority(state.allConnectors);\n        return sortedConnectors.find(c => c.id === id);\n    },\n    getConnector({ id, namespace }) {\n        const namespaceToUse = namespace || _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const connectorsByNamespace = state.allConnectors.filter(c => c.chain === namespaceToUse);\n        const sortedConnectorsByNamespace = _utils_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_10__.ConnectorUtil.sortConnectorsByPriority(connectorsByNamespace);\n        const connector = sortedConnectorsByNamespace.find(c => c.id === id || c.explorerId === id);\n        return connector;\n    },\n    syncIfAuthConnector(connector) {\n        if (connector.id !== 'AUTH') {\n            return;\n        }\n        const authConnector = connector;\n        const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n        const themeMode = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeMode;\n        const themeVariables = _ThemeController_js__WEBPACK_IMPORTED_MODULE_7__.ThemeController.getSnapshot().themeVariables;\n        authConnector?.provider?.syncDappData?.({\n            metadata: optionsState.metadata,\n            sdkVersion: optionsState.sdkVersion,\n            sdkType: optionsState.sdkType,\n            projectId: optionsState.projectId\n        });\n        authConnector.provider.syncTheme({\n            themeMode,\n            themeVariables,\n            w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.getW3mThemeVariables)(themeVariables, themeMode)\n        });\n    },\n    /**\n     * Returns the connectors filtered by namespace.\n     * @param namespace - The namespace to filter the connectors by.\n     * @returns ConnectorWithProviders[].\n     */\n    getConnectorsByNamespace(namespace) {\n        const namespaceConnectors = state.allConnectors.filter(connector => connector.chain === namespace);\n        return ConnectorController.mergeMultiChainConnectors(namespaceConnectors);\n    },\n    canSwitchToSmartAccount(namespace) {\n        const isSmartAccountEnabled = _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.checkIfSmartAccountEnabled();\n        return (isSmartAccountEnabled &&\n            (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA);\n    },\n    selectWalletConnector(wallet) {\n        const redirectView = _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.state.data?.redirectView;\n        const namespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain;\n        const connector = namespace\n            ? ConnectorController.getConnector({ id: wallet.id, namespace })\n            : undefined;\n        _utils_MobileWallet_js__WEBPACK_IMPORTED_MODULE_14__.MobileWalletUtil.handleMobileDeeplinkRedirect(connector?.explorerId || wallet.id, _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.state.activeChain);\n        if (connector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.push('ConnectingExternal', { connector, wallet, redirectView });\n        }\n        else {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.push('ConnectingWalletConnect', { wallet, redirectView });\n        }\n    },\n    /**\n     * Returns the connectors. If a namespace is provided, the connectors are filtered by namespace.\n     * @param namespace - The namespace to filter the connectors by. If not provided, all connectors are returned.\n     * @returns ConnectorWithProviders[].\n     */\n    getConnectors(namespace) {\n        if (namespace) {\n            return ConnectorController.getConnectorsByNamespace(namespace);\n        }\n        return ConnectorController.mergeMultiChainConnectors(state.allConnectors);\n    },\n    /**\n     * Sets the filter by namespace and updates the connectors.\n     * @param namespace - The namespace to filter the connectors by.\n     */\n    setFilterByNamespace(namespace) {\n        state.filterByNamespace = namespace;\n        state.connectors = ConnectorController.getConnectors(namespace);\n        _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.setFilterByNamespace(namespace);\n    },\n    setConnectorId(connectorId, namespace) {\n        if (connectorId) {\n            state.activeConnectorIds = {\n                ...state.activeConnectorIds,\n                [namespace]: connectorId\n            };\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.setConnectedConnectorId(namespace, connectorId);\n        }\n    },\n    removeConnectorId(namespace) {\n        state.activeConnectorIds = {\n            ...state.activeConnectorIds,\n            [namespace]: undefined\n        };\n        _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.deleteConnectedConnectorId(namespace);\n    },\n    getConnectorId(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        return state.activeConnectorIds[namespace];\n    },\n    isConnected(namespace) {\n        if (!namespace) {\n            return Object.values(state.activeConnectorIds).some(id => Boolean(id));\n        }\n        return Boolean(state.activeConnectorIds[namespace]);\n    },\n    resetConnectorIds() {\n        state.activeConnectorIds = { ...defaultActiveConnectors };\n    },\n    extendConnectorsWithExplorerWallets(explorerWallets) {\n        state.allConnectors.forEach(connector => {\n            const explorerWallet = explorerWallets.find(wallet => wallet.id === connector.id || (wallet.rdns && wallet.rdns === connector.info?.rdns));\n            if (explorerWallet) {\n                connector.explorerWallet = explorerWallet;\n            }\n        });\n        const enabledNamespaces = ConnectorController.getEnabledNamespaces();\n        const enabledConnectors = ConnectorController.getEnabledConnectors(enabledNamespaces);\n        state.connectors = ConnectorController.mergeMultiChainConnectors(enabledConnectors);\n    },\n    /**\n     * Opens the connect modal and waits until the user connects their wallet.\n     * @param params - Connection parameters.\n     * @returns Promise resolving to the connected wallet's CAIP address.\n     */\n    async connect(params = {}) {\n        const { namespace } = params;\n        ConnectorController.setFilterByNamespace(namespace);\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.push('Connect', {\n            addWalletForNamespace: namespace\n        });\n        return new Promise((resolve, reject) => {\n            if (namespace) {\n                const unsubscribeChainController = _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.subscribeChainProp('accountState', val => {\n                    if (val?.caipAddress) {\n                        resolve({ caipAddress: val?.caipAddress });\n                        unsubscribeChainController();\n                    }\n                }, namespace);\n                const unsubscribeModalController = _ModalController_js__WEBPACK_IMPORTED_MODULE_15__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        reject(new Error('Modal closed'));\n                        unsubscribeModalController();\n                    }\n                });\n            }\n            else {\n                const unsubscribeChainController = _ChainController_js__WEBPACK_IMPORTED_MODULE_9__.ChainController.subscribeKey('activeCaipAddress', val => {\n                    if (val) {\n                        resolve({ caipAddress: val });\n                        unsubscribeChainController();\n                    }\n                });\n                const unsubscribeModalController = _ModalController_js__WEBPACK_IMPORTED_MODULE_15__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        reject(new Error('Modal closed'));\n                        unsubscribeModalController();\n                    }\n                });\n            }\n        });\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ConnectorController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_16__.withErrorBoundary)(controller);\n//# sourceMappingURL=ConnectorController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RTtBQUNWO0FBQ21DO0FBQy9CO0FBQ1E7QUFDaEI7QUFDRTtBQUNOO0FBQ1k7QUFDZjtBQUNJO0FBQ0E7QUFDSTtBQUNGO0FBQ0Y7QUFDdkQsbURBQW1ELHNFQUFvQjtBQUN2RSx1REFBdUQsc0VBQW9CO0FBQzNFO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQ0FBZ0MsOERBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0NBQW9DLG1EQUFHO0FBQ3ZDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtREFBRztBQUM1QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQWE7QUFDekI7QUFDQTtBQUNBLFlBQVksNERBQWE7QUFDekI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsK0RBQWE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBNkIsK0RBQWE7QUFDMUM7QUFDQSxpQ0FBaUMsd0RBQVEsQ0FBQyxvRUFBaUI7QUFDM0QsOEJBQThCLGdFQUFlO0FBQzdDLG1DQUFtQyxnRUFBZTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwRUFBb0I7QUFDdkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrREFBa0QsZ0VBQWU7QUFDakUsa0VBQWtFLCtEQUFhO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlDQUFpQyxtRUFBYTtBQUM5QztBQUNBLEtBQUs7QUFDTCxtQkFBbUIsZUFBZTtBQUNsQyw0Q0FBNEMsZ0VBQWU7QUFDM0Q7QUFDQSw0Q0FBNEMsbUVBQWE7QUFDekQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFRLENBQUMsb0VBQWlCO0FBQ3ZELDBCQUEwQixnRUFBZTtBQUN6QywrQkFBK0IsZ0VBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEVBQW9CO0FBQ25ELFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQyxnRUFBZTtBQUNyRDtBQUNBLFlBQVksdUZBQXVCLGdCQUFnQiw2RUFBb0I7QUFDdkUsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLG1FQUFnQjtBQUM3QywwQkFBMEIsZ0VBQWU7QUFDekM7QUFDQSxpREFBaUQsMEJBQTBCO0FBQzNFO0FBQ0EsUUFBUSxxRUFBZ0Isa0VBQWtFLGdFQUFlO0FBQ3pHO0FBQ0EsWUFBWSxtRUFBZ0IsOEJBQThCLGlDQUFpQztBQUMzRjtBQUNBO0FBQ0EsWUFBWSxtRUFBZ0IsbUNBQW1DLHNCQUFzQjtBQUNyRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWE7QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQVc7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQVc7QUFDbkIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFDQUFxQztBQUNyQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLGdCQUFnQixZQUFZO0FBQzVCO0FBQ0EsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1EQUFtRCxnRUFBZTtBQUNsRTtBQUNBLGtDQUFrQywrQkFBK0I7QUFDakU7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtREFBbUQsaUVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG1EQUFtRCxnRUFBZTtBQUNsRTtBQUNBLGtDQUFrQyxrQkFBa0I7QUFDcEQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtREFBbUQsaUVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ08sNEJBQTRCLCtFQUFpQjtBQUNwRCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHJlZiwgc25hcHNob3QsIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQVZBSUxBQkxFX05BTUVTUEFDRVMsIENvbnN0YW50c1V0aWwsIGdldFczbVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgVzNtRnJhbWVScGNDb25zdGFudHMgfSBmcm9tICdAcmVvd24vYXBwa2l0LXdhbGxldC91dGlscyc7XG5pbXBvcnQgeyBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yVXRpbCB9IGZyb20gJy4uL3V0aWxzL0Nvbm5lY3RvclV0aWwuanMnO1xuaW1wb3J0IHsgTW9iaWxlV2FsbGV0VXRpbCB9IGZyb20gJy4uL3V0aWxzL01vYmlsZVdhbGxldC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBNb2RhbENvbnRyb2xsZXIgfSBmcm9tICcuL01vZGFsQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBUaGVtZUNvbnRyb2xsZXIgfSBmcm9tICcuL1RoZW1lQ29udHJvbGxlci5qcyc7XG5jb25zdCBkZWZhdWx0QWN0aXZlQ29ubmVjdG9ycyA9IE9iamVjdC5mcm9tRW50cmllcyhBVkFJTEFCTEVfTkFNRVNQQUNFUy5tYXAobmFtZXNwYWNlID0+IFtuYW1lc3BhY2UsIHVuZGVmaW5lZF0pKTtcbmNvbnN0IGRlZmF1bHRGaWx0ZXJCeU5hbWVzcGFjZU1hcCA9IE9iamVjdC5mcm9tRW50cmllcyhBVkFJTEFCTEVfTkFNRVNQQUNFUy5tYXAobmFtZXNwYWNlID0+IFtuYW1lc3BhY2UsIHRydWVdKSk7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIGFsbENvbm5lY3RvcnM6IFtdLFxuICAgIGNvbm5lY3RvcnM6IFtdLFxuICAgIGFjdGl2ZUNvbm5lY3RvcjogdW5kZWZpbmVkLFxuICAgIGZpbHRlckJ5TmFtZXNwYWNlOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlQ29ubmVjdG9ySWRzOiBkZWZhdWx0QWN0aXZlQ29ubmVjdG9ycyxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZU1hcDogZGVmYXVsdEZpbHRlckJ5TmFtZXNwYWNlTWFwXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZShuYW1lc3BhY2VzKSB7XG4gICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChuYW1lc3BhY2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBTdG9yYWdlVXRpbC5nZXRDb25uZWN0ZWRDb25uZWN0b3JJZChuYW1lc3BhY2UpO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RvcklkKSB7XG4gICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRDb25uZWN0b3JJZChjb25uZWN0b3JJZCwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzZXRBY3RpdmVDb25uZWN0b3IoY29ubmVjdG9yKSB7XG4gICAgICAgIGlmIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNvbm5lY3RvciA9IHJlZihjb25uZWN0b3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRDb25uZWN0b3JzKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgbmV3Q29ubmVjdG9ycyA9IGNvbm5lY3RvcnMuZmlsdGVyKG5ld0Nvbm5lY3RvciA9PiAhc3RhdGUuYWxsQ29ubmVjdG9ycy5zb21lKGV4aXN0aW5nQ29ubmVjdG9yID0+IGV4aXN0aW5nQ29ubmVjdG9yLmlkID09PSBuZXdDb25uZWN0b3IuaWQgJiZcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yTmFtZShleGlzdGluZ0Nvbm5lY3Rvci5uYW1lKSA9PT1cbiAgICAgICAgICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3Rvck5hbWUobmV3Q29ubmVjdG9yLm5hbWUpICYmXG4gICAgICAgICAgICBleGlzdGluZ0Nvbm5lY3Rvci5jaGFpbiA9PT0gbmV3Q29ubmVjdG9yLmNoYWluKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBhcmUgcmVhc3NpZ25pbmcgdGhlIHN0YXRlIG9mIHRoZSBwcm94eSB0byBhIG5ldyBhcnJheSBvZiBuZXcgb2JqZWN0cywgQ29ubmVjdG9yQ29udHJvbGxlciBjYW4gY2F1c2UgaXNzdWVzLiBTbyBpdCBpcyBiZXR0ZXIgdG8gdXNlIHJlZiBpbiBDb25uZWN0b3JDb250cm9sbGVyIGNhc2UuXG4gICAgICAgICAqIENoZWNrIG1vcmUgYWJvdXQgcHJveHkgb24gaHR0cHM6Ly92YWx0aW8uZGV2L2RvY3MvYXBpL2Jhc2ljL3Byb3h5I0dvdGNoYXNcbiAgICAgICAgICogQ2hlY2sgbW9yZSBhYm91dCByZWYgb24gaHR0cHM6Ly92YWx0aW8uZGV2L2RvY3MvYXBpL2Jhc2ljL3JlZlxuICAgICAgICAgKi9cbiAgICAgICAgbmV3Q29ubmVjdG9ycy5mb3JFYWNoKGNvbm5lY3RvciA9PiB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yLnR5cGUgIT09ICdNVUxUSV9DSEFJTicpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hbGxDb25uZWN0b3JzLnB1c2gocmVmKGNvbm5lY3RvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZW5hYmxlZE5hbWVzcGFjZXMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEVuYWJsZWROYW1lc3BhY2VzKCk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnNGaWx0ZXJlZEJ5TmFtZXNwYWNlcyA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0RW5hYmxlZENvbm5lY3RvcnMoZW5hYmxlZE5hbWVzcGFjZXMpO1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5tZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGNvbm5lY3RvcnNGaWx0ZXJlZEJ5TmFtZXNwYWNlcyk7XG4gICAgfSxcbiAgICBmaWx0ZXJCeU5hbWVzcGFjZXMoZW5hYmxlZE5hbWVzcGFjZXMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXApLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVuYWJsZWROYW1lc3BhY2VzLmZvckVhY2gobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmZpbHRlckJ5TmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci51cGRhdGVDb25uZWN0b3JzRm9yRW5hYmxlZE5hbWVzcGFjZXMoKTtcbiAgICB9LFxuICAgIGZpbHRlckJ5TmFtZXNwYWNlKG5hbWVzcGFjZSwgZW5hYmxlZCkge1xuICAgICAgICBzdGF0ZS5maWx0ZXJCeU5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdID0gZW5hYmxlZDtcbiAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci51cGRhdGVDb25uZWN0b3JzRm9yRW5hYmxlZE5hbWVzcGFjZXMoKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbm5lY3RvcnNGb3JFbmFibGVkTmFtZXNwYWNlcygpIHtcbiAgICAgICAgY29uc3QgZW5hYmxlZE5hbWVzcGFjZXMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEVuYWJsZWROYW1lc3BhY2VzKCk7XG4gICAgICAgIGNvbnN0IGVuYWJsZWRDb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRFbmFibGVkQ29ubmVjdG9ycyhlbmFibGVkTmFtZXNwYWNlcyk7XG4gICAgICAgIGNvbnN0IGFyZUFsbE5hbWVzcGFjZXNFbmFibGVkID0gQ29ubmVjdG9yQ29udHJvbGxlci5hcmVBbGxOYW1lc3BhY2VzRW5hYmxlZCgpO1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5tZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGVuYWJsZWRDb25uZWN0b3JzKTtcbiAgICAgICAgaWYgKGFyZUFsbE5hbWVzcGFjZXNFbmFibGVkKSB7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLmNsZWFyRmlsdGVyQnlOYW1lc3BhY2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLmZpbHRlckJ5TmFtZXNwYWNlcyhlbmFibGVkTmFtZXNwYWNlcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEVuYWJsZWROYW1lc3BhY2VzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXApXG4gICAgICAgICAgICAuZmlsdGVyKChbXywgZW5hYmxlZF0pID0+IGVuYWJsZWQpXG4gICAgICAgICAgICAubWFwKChbbmFtZXNwYWNlXSkgPT4gbmFtZXNwYWNlKTtcbiAgICB9LFxuICAgIGdldEVuYWJsZWRDb25uZWN0b3JzKGVuYWJsZWROYW1lc3BhY2VzKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hbGxDb25uZWN0b3JzLmZpbHRlcihjb25uZWN0b3IgPT4gZW5hYmxlZE5hbWVzcGFjZXMuaW5jbHVkZXMoY29ubmVjdG9yLmNoYWluKSk7XG4gICAgfSxcbiAgICBhcmVBbGxOYW1lc3BhY2VzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2VNYXApLmV2ZXJ5KGVuYWJsZWQgPT4gZW5hYmxlZCk7XG4gICAgfSxcbiAgICBtZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yc0J5TmFtZU1hcCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2VuZXJhdGVDb25uZWN0b3JNYXBCeU5hbWUoY29ubmVjdG9ycyk7XG4gICAgICAgIGNvbnN0IG1lcmdlZENvbm5lY3RvcnMgPSBbXTtcbiAgICAgICAgY29ubmVjdG9yc0J5TmFtZU1hcC5mb3JFYWNoKGtleUNvbm5lY3RvcnMgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RJdGVtID0ga2V5Q29ubmVjdG9yc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXV0aENvbm5lY3RvciA9IGZpcnN0SXRlbT8uaWQgPT09IENvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEg7XG4gICAgICAgICAgICBpZiAoa2V5Q29ubmVjdG9ycy5sZW5ndGggPiAxICYmIGZpcnN0SXRlbSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZENvbm5lY3RvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpcnN0SXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogZmlyc3RJdGVtLmltYWdlVXJsLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZUlkOiBmaXJzdEl0ZW0uaW1hZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yczogWy4uLmtleUNvbm5lY3RvcnNdLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpc0F1dGhDb25uZWN0b3IgPyAnQVVUSCcgOiAnTVVMVElfQ0hBSU4nLFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSB2YWx1ZXMgYXJlIGp1c3QgcGxhY2Vob2xkZXJzLCB3ZSBkb24ndCB1c2UgdGhlbSBpbiBtdWx0aS1jaGFpbiBjb25uZWN0b3Igc2VsZWN0IHNjcmVlblxuICAgICAgICAgICAgICAgICAgICBjaGFpbjogJ2VpcDE1NScsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBmaXJzdEl0ZW0/LmlkIHx8ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaXJzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRDb25uZWN0b3JzLnB1c2goZmlyc3RJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWRDb25uZWN0b3JzO1xuICAgIH0sXG4gICAgZ2VuZXJhdGVDb25uZWN0b3JNYXBCeU5hbWUoY29ubmVjdG9ycykge1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzQnlOYW1lTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25uZWN0b3JzLmZvckVhY2goY29ubmVjdG9yID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSB9ID0gY29ubmVjdG9yO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yTmFtZSA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yTmFtZShuYW1lKTtcbiAgICAgICAgICAgIGlmICghY29ubmVjdG9yTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvcnNCeU5hbWUgPSBjb25uZWN0b3JzQnlOYW1lTWFwLmdldChjb25uZWN0b3JOYW1lKSB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IGhhdmVTYW1lQ29ubmVjdG9yID0gY29ubmVjdG9yc0J5TmFtZS5maW5kKGMgPT4gYy5jaGFpbiA9PT0gY29ubmVjdG9yLmNoYWluKTtcbiAgICAgICAgICAgIGlmICghaGF2ZVNhbWVDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JzQnlOYW1lLnB1c2goY29ubmVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3RvcnNCeU5hbWVNYXAuc2V0KGNvbm5lY3Rvck5hbWUsIGNvbm5lY3RvcnNCeU5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RvcnNCeU5hbWVNYXA7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3JOYW1lKG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lT3ZlcnJpZGVNYXAgPSB7XG4gICAgICAgICAgICAnVHJ1c3QgV2FsbGV0JzogJ1RydXN0J1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmFtZU92ZXJyaWRlTWFwW25hbWVdIHx8IG5hbWU7XG4gICAgfSxcbiAgICBnZXRVbmlxdWVDb25uZWN0b3JzQnlOYW1lKGNvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgdW5pcXVlQ29ubmVjdG9ycyA9IFtdO1xuICAgICAgICBjb25uZWN0b3JzLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICBpZiAoIXVuaXF1ZUNvbm5lY3RvcnMuZmluZCh1YyA9PiB1Yy5jaGFpbiA9PT0gYy5jaGFpbikpIHtcbiAgICAgICAgICAgICAgICB1bmlxdWVDb25uZWN0b3JzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5pcXVlQ29ubmVjdG9ycztcbiAgICB9LFxuICAgIGFkZENvbm5lY3Rvcihjb25uZWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rvci5pZCA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkge1xuICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IGNvbm5lY3RvcjtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnNTdGF0ZSA9IHNuYXBzaG90KE9wdGlvbnNDb250cm9sbGVyLnN0YXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHRoZW1lTW9kZSA9IFRoZW1lQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lTW9kZTtcbiAgICAgICAgICAgIGNvbnN0IHRoZW1lVmFyaWFibGVzID0gVGhlbWVDb250cm9sbGVyLmdldFNuYXBzaG90KCkudGhlbWVWYXJpYWJsZXM7XG4gICAgICAgICAgICBhdXRoQ29ubmVjdG9yPy5wcm92aWRlcj8uc3luY0RhcHBEYXRhPy4oe1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBvcHRpb25zU3RhdGUubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgc2RrVmVyc2lvbjogb3B0aW9uc1N0YXRlLnNka1ZlcnNpb24sXG4gICAgICAgICAgICAgICAgcHJvamVjdElkOiBvcHRpb25zU3RhdGUucHJvamVjdElkLFxuICAgICAgICAgICAgICAgIHNka1R5cGU6IG9wdGlvbnNTdGF0ZS5zZGtUeXBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF1dGhDb25uZWN0b3I/LnByb3ZpZGVyPy5zeW5jVGhlbWUoe1xuICAgICAgICAgICAgICAgIHRoZW1lTW9kZSxcbiAgICAgICAgICAgICAgICB0aGVtZVZhcmlhYmxlcyxcbiAgICAgICAgICAgICAgICB3M21UaGVtZVZhcmlhYmxlczogZ2V0VzNtVGhlbWVWYXJpYWJsZXModGhlbWVWYXJpYWJsZXMsIHRoZW1lTW9kZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlci5zZXRDb25uZWN0b3JzKFtjb25uZWN0b3JdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0Q29ubmVjdG9ycyhbY29ubmVjdG9yXSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEF1dGhDb25uZWN0b3IoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTmFtZXNwYWNlID0gY2hhaW5OYW1lc3BhY2UgfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gc3RhdGUuY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCk7XG4gICAgICAgIGlmICghYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0aENvbm5lY3Rvcj8uY29ubmVjdG9ycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBhdXRoQ29ubmVjdG9yLmNvbm5lY3RvcnMuZmluZChjID0+IGMuY2hhaW4gPT09IGFjdGl2ZU5hbWVzcGFjZSk7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdXRoQ29ubmVjdG9yO1xuICAgIH0sXG4gICAgZ2V0QW5ub3VuY2VkQ29ubmVjdG9yUmRucygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmNvbm5lY3RvcnMuZmlsdGVyKGMgPT4gYy50eXBlID09PSAnQU5OT1VOQ0VEJykubWFwKGMgPT4gYy5pbmZvPy5yZG5zKTtcbiAgICB9LFxuICAgIGdldENvbm5lY3RvckJ5SWQoaWQpIHtcbiAgICAgICAgY29uc3Qgc29ydGVkQ29ubmVjdG9ycyA9IENvbm5lY3RvclV0aWwuc29ydENvbm5lY3RvcnNCeVByaW9yaXR5KHN0YXRlLmFsbENvbm5lY3RvcnMpO1xuICAgICAgICByZXR1cm4gc29ydGVkQ29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gaWQpO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdG9yKHsgaWQsIG5hbWVzcGFjZSB9KSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZVRvVXNlID0gbmFtZXNwYWNlIHx8IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yc0J5TmFtZXNwYWNlID0gc3RhdGUuYWxsQ29ubmVjdG9ycy5maWx0ZXIoYyA9PiBjLmNoYWluID09PSBuYW1lc3BhY2VUb1VzZSk7XG4gICAgICAgIGNvbnN0IHNvcnRlZENvbm5lY3RvcnNCeU5hbWVzcGFjZSA9IENvbm5lY3RvclV0aWwuc29ydENvbm5lY3RvcnNCeVByaW9yaXR5KGNvbm5lY3RvcnNCeU5hbWVzcGFjZSk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvciA9IHNvcnRlZENvbm5lY3RvcnNCeU5hbWVzcGFjZS5maW5kKGMgPT4gYy5pZCA9PT0gaWQgfHwgYy5leHBsb3JlcklkID09PSBpZCk7XG4gICAgICAgIHJldHVybiBjb25uZWN0b3I7XG4gICAgfSxcbiAgICBzeW5jSWZBdXRoQ29ubmVjdG9yKGNvbm5lY3Rvcikge1xuICAgICAgICBpZiAoY29ubmVjdG9yLmlkICE9PSAnQVVUSCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gY29ubmVjdG9yO1xuICAgICAgICBjb25zdCBvcHRpb25zU3RhdGUgPSBzbmFwc2hvdChPcHRpb25zQ29udHJvbGxlci5zdGF0ZSk7XG4gICAgICAgIGNvbnN0IHRoZW1lTW9kZSA9IFRoZW1lQ29udHJvbGxlci5nZXRTbmFwc2hvdCgpLnRoZW1lTW9kZTtcbiAgICAgICAgY29uc3QgdGhlbWVWYXJpYWJsZXMgPSBUaGVtZUNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZVZhcmlhYmxlcztcbiAgICAgICAgYXV0aENvbm5lY3Rvcj8ucHJvdmlkZXI/LnN5bmNEYXBwRGF0YT8uKHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBvcHRpb25zU3RhdGUubWV0YWRhdGEsXG4gICAgICAgICAgICBzZGtWZXJzaW9uOiBvcHRpb25zU3RhdGUuc2RrVmVyc2lvbixcbiAgICAgICAgICAgIHNka1R5cGU6IG9wdGlvbnNTdGF0ZS5zZGtUeXBlLFxuICAgICAgICAgICAgcHJvamVjdElkOiBvcHRpb25zU3RhdGUucHJvamVjdElkXG4gICAgICAgIH0pO1xuICAgICAgICBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLnN5bmNUaGVtZSh7XG4gICAgICAgICAgICB0aGVtZU1vZGUsXG4gICAgICAgICAgICB0aGVtZVZhcmlhYmxlcyxcbiAgICAgICAgICAgIHczbVRoZW1lVmFyaWFibGVzOiBnZXRXM21UaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcywgdGhlbWVNb2RlKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbm5lY3RvcnMgZmlsdGVyZWQgYnkgbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGZpbHRlciB0aGUgY29ubmVjdG9ycyBieS5cbiAgICAgKiBAcmV0dXJucyBDb25uZWN0b3JXaXRoUHJvdmlkZXJzW10uXG4gICAgICovXG4gICAgZ2V0Q29ubmVjdG9yc0J5TmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VDb25uZWN0b3JzID0gc3RhdGUuYWxsQ29ubmVjdG9ycy5maWx0ZXIoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5jaGFpbiA9PT0gbmFtZXNwYWNlKTtcbiAgICAgICAgcmV0dXJuIENvbm5lY3RvckNvbnRyb2xsZXIubWVyZ2VNdWx0aUNoYWluQ29ubmVjdG9ycyhuYW1lc3BhY2VDb25uZWN0b3JzKTtcbiAgICB9LFxuICAgIGNhblN3aXRjaFRvU21hcnRBY2NvdW50KG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBpc1NtYXJ0QWNjb3VudEVuYWJsZWQgPSBDaGFpbkNvbnRyb2xsZXIuY2hlY2tJZlNtYXJ0QWNjb3VudEVuYWJsZWQoKTtcbiAgICAgICAgcmV0dXJuIChpc1NtYXJ0QWNjb3VudEVuYWJsZWQgJiZcbiAgICAgICAgICAgIGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSkgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuRU9BKTtcbiAgICB9LFxuICAgIHNlbGVjdFdhbGxldENvbm5lY3Rvcih3YWxsZXQpIHtcbiAgICAgICAgY29uc3QgcmVkaXJlY3RWaWV3ID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS5kYXRhPy5yZWRpcmVjdFZpZXc7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yID0gbmFtZXNwYWNlXG4gICAgICAgICAgICA/IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yKHsgaWQ6IHdhbGxldC5pZCwgbmFtZXNwYWNlIH0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgTW9iaWxlV2FsbGV0VXRpbC5oYW5kbGVNb2JpbGVEZWVwbGlua1JlZGlyZWN0KGNvbm5lY3Rvcj8uZXhwbG9yZXJJZCB8fCB3YWxsZXQuaWQsIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIGlmIChjb25uZWN0b3IpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnQ29ubmVjdGluZ0V4dGVybmFsJywgeyBjb25uZWN0b3IsIHdhbGxldCwgcmVkaXJlY3RWaWV3IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdDb25uZWN0aW5nV2FsbGV0Q29ubmVjdCcsIHsgd2FsbGV0LCByZWRpcmVjdFZpZXcgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbm5lY3RvcnMuIElmIGEgbmFtZXNwYWNlIGlzIHByb3ZpZGVkLCB0aGUgY29ubmVjdG9ycyBhcmUgZmlsdGVyZWQgYnkgbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGZpbHRlciB0aGUgY29ubmVjdG9ycyBieS4gSWYgbm90IHByb3ZpZGVkLCBhbGwgY29ubmVjdG9ycyBhcmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybnMgQ29ubmVjdG9yV2l0aFByb3ZpZGVyc1tdLlxuICAgICAqL1xuICAgIGdldENvbm5lY3RvcnMobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnNCeU5hbWVzcGFjZShuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLm1lcmdlTXVsdGlDaGFpbkNvbm5lY3RvcnMoc3RhdGUuYWxsQ29ubmVjdG9ycyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmaWx0ZXIgYnkgbmFtZXNwYWNlIGFuZCB1cGRhdGVzIHRoZSBjb25uZWN0b3JzLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGZpbHRlciB0aGUgY29ubmVjdG9ycyBieS5cbiAgICAgKi9cbiAgICBzZXRGaWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgc3RhdGUuZmlsdGVyQnlOYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gICAgICAgIHN0YXRlLmNvbm5lY3RvcnMgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcnMobmFtZXNwYWNlKTtcbiAgICAgICAgQXBpQ29udHJvbGxlci5zZXRGaWx0ZXJCeU5hbWVzcGFjZShuYW1lc3BhY2UpO1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdG9ySWQoY29ubmVjdG9ySWQsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoY29ubmVjdG9ySWQpIHtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUNvbm5lY3RvcklkcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMsXG4gICAgICAgICAgICAgICAgW25hbWVzcGFjZV06IGNvbm5lY3RvcklkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlLCBjb25uZWN0b3JJZCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNvbm5lY3RvcklkKG5hbWVzcGFjZSkge1xuICAgICAgICBzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMsXG4gICAgICAgICAgICBbbmFtZXNwYWNlXTogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIFN0b3JhZ2VVdGlsLmRlbGV0ZUNvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSk7XG4gICAgfSxcbiAgICBnZXRDb25uZWN0b3JJZChuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZUNvbm5lY3Rvcklkc1tuYW1lc3BhY2VdO1xuICAgIH0sXG4gICAgaXNDb25uZWN0ZWQobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMpLnNvbWUoaWQgPT4gQm9vbGVhbihpZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCb29sZWFuKHN0YXRlLmFjdGl2ZUNvbm5lY3Rvcklkc1tuYW1lc3BhY2VdKTtcbiAgICB9LFxuICAgIHJlc2V0Q29ubmVjdG9ySWRzKCkge1xuICAgICAgICBzdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHMgPSB7IC4uLmRlZmF1bHRBY3RpdmVDb25uZWN0b3JzIH07XG4gICAgfSxcbiAgICBleHRlbmRDb25uZWN0b3JzV2l0aEV4cGxvcmVyV2FsbGV0cyhleHBsb3JlcldhbGxldHMpIHtcbiAgICAgICAgc3RhdGUuYWxsQ29ubmVjdG9ycy5mb3JFYWNoKGNvbm5lY3RvciA9PiB7XG4gICAgICAgICAgICBjb25zdCBleHBsb3JlcldhbGxldCA9IGV4cGxvcmVyV2FsbGV0cy5maW5kKHdhbGxldCA9PiB3YWxsZXQuaWQgPT09IGNvbm5lY3Rvci5pZCB8fCAod2FsbGV0LnJkbnMgJiYgd2FsbGV0LnJkbnMgPT09IGNvbm5lY3Rvci5pbmZvPy5yZG5zKSk7XG4gICAgICAgICAgICBpZiAoZXhwbG9yZXJXYWxsZXQpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3IuZXhwbG9yZXJXYWxsZXQgPSBleHBsb3JlcldhbGxldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGVuYWJsZWROYW1lc3BhY2VzID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRFbmFibGVkTmFtZXNwYWNlcygpO1xuICAgICAgICBjb25zdCBlbmFibGVkQ29ubmVjdG9ycyA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0RW5hYmxlZENvbm5lY3RvcnMoZW5hYmxlZE5hbWVzcGFjZXMpO1xuICAgICAgICBzdGF0ZS5jb25uZWN0b3JzID0gQ29ubmVjdG9yQ29udHJvbGxlci5tZXJnZU11bHRpQ2hhaW5Db25uZWN0b3JzKGVuYWJsZWRDb25uZWN0b3JzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBjb25uZWN0IG1vZGFsIGFuZCB3YWl0cyB1bnRpbCB0aGUgdXNlciBjb25uZWN0cyB0aGVpciB3YWxsZXQuXG4gICAgICogQHBhcmFtIHBhcmFtcyAtIENvbm5lY3Rpb24gcGFyYW1ldGVycy5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgY29ubmVjdGVkIHdhbGxldCdzIENBSVAgYWRkcmVzcy5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KHBhcmFtcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZXNwYWNlIH0gPSBwYXJhbXM7XG4gICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0RmlsdGVyQnlOYW1lc3BhY2UobmFtZXNwYWNlKTtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdDb25uZWN0Jywge1xuICAgICAgICAgICAgYWRkV2FsbGV0Rm9yTmFtZXNwYWNlOiBuYW1lc3BhY2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIgPSBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlQ2hhaW5Qcm9wKCdhY2NvdW50U3RhdGUnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsPy5jYWlwQWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGNhaXBBZGRyZXNzOiB2YWw/LmNhaXBBZGRyZXNzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIgPSBNb2RhbENvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdvcGVuJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ01vZGFsIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyID0gQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcEFkZHJlc3MnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgY2FpcEFkZHJlc3M6IHZhbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlciA9IE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ29wZW4nLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTW9kYWwgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBDb25uZWN0b3JDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25uZWN0b3JDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnsController: () => (/* binding */ EnsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_EnsUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/EnsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js\");\n/* harmony import */ var _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    suggestions: [],\n    loading: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    async resolveName(name) {\n        try {\n            return await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.lookupEnsName(name);\n        }\n        catch (e) {\n            const error = e;\n            throw new Error(error?.reasons?.[0]?.description || 'Error resolving name');\n        }\n    },\n    async isNameRegistered(name) {\n        try {\n            await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.lookupEnsName(name);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    },\n    async getSuggestions(value) {\n        try {\n            state.loading = true;\n            state.suggestions = [];\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.getEnsNameSuggestions(value);\n            state.suggestions = response.suggestions || [];\n            return state.suggestions;\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, 'Error fetching name suggestions');\n            throw new Error(errorMessage);\n        }\n        finally {\n            state.loading = false;\n        }\n    },\n    async getNamesForAddress(address) {\n        try {\n            const network = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n            if (!network) {\n                return [];\n            }\n            const cachedEns = _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.getEnsFromCacheForAddress(address);\n            if (cachedEns) {\n                return cachedEns;\n            }\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.reverseLookupEnsName({ address });\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateEnsCache({\n                address,\n                ens: response,\n                timestamp: Date.now()\n            });\n            return response;\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, 'Error fetching names for address');\n            throw new Error(errorMessage);\n        }\n    },\n    async registerName(name) {\n        const network = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(network?.chainNamespace)?.address;\n        const emailConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n        if (!network) {\n            throw new Error('Network not found');\n        }\n        if (!address || !emailConnector) {\n            throw new Error('Address or auth connector not found');\n        }\n        state.loading = true;\n        try {\n            const message = JSON.stringify({\n                name,\n                attributes: {},\n                // Unix timestamp\n                timestamp: Math.floor(Date.now() / 1000)\n            });\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.pushTransactionStack({\n                onCancel() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountName');\n                }\n            });\n            const signature = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.signMessage(message);\n            state.loading = false;\n            const networkId = network.id;\n            if (!networkId) {\n                throw new Error('Network not found');\n            }\n            const coinType = _utils_EnsUtil_js__WEBPACK_IMPORTED_MODULE_8__.EnsUtil.convertEVMChainIdToCoinType(Number(networkId));\n            await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_2__.BlockchainApiController.registerEnsName({\n                coinType,\n                address: address,\n                signature: signature,\n                message\n            });\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('profileName', name, network.chainNamespace);\n            _utils_StorageUtil_js__WEBPACK_IMPORTED_MODULE_4__.StorageUtil.updateEnsCache({\n                address,\n                ens: [\n                    {\n                        name,\n                        registered_at: new Date().toISOString(),\n                        updated_at: undefined,\n                        addresses: {},\n                        attributes: []\n                    }\n                ],\n                timestamp: Date.now()\n            });\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountNameSuccess');\n        }\n        catch (e) {\n            const errorMessage = EnsController.parseEnsApiError(e, `Error registering name ${name}`);\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('RegisterAccountName');\n            throw new Error(errorMessage);\n        }\n        finally {\n            state.loading = false;\n        }\n    },\n    validateName(name) {\n        return /^[a-zA-Z0-9-]{4,}$/u.test(name);\n    },\n    parseEnsApiError(error, defaultError) {\n        const ensError = error;\n        return ensError?.reasons?.[0]?.description || defaultError;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst EnsController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_9__.withErrorBoundary)(controller);\n//# sourceMappingURL=EnsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FbnNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0s7QUFDeEI7QUFDUTtBQUNRO0FBQ1k7QUFDSztBQUNoQjtBQUNVO0FBQ0Y7QUFDTjtBQUN6RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnRkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLGdGQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdGQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4REFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0ZBQXVCLHdCQUF3QixTQUFTO0FBQzNGLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHdCQUF3QixnRUFBZTtBQUN2Qyx3QkFBd0IsZ0VBQWU7QUFDdkMsK0JBQStCLHdFQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0Esb0JBQW9CLGtFQUFnQjtBQUNwQztBQUNBLGFBQWE7QUFDYixvQ0FBb0MsMEVBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQU87QUFDcEMsa0JBQWtCLGdGQUF1QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLGdFQUFlO0FBQzNCLFlBQVksOERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQSw2RkFBNkYsS0FBSztBQUNsRyxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOEJBQThCLEdBQUc7QUFDakMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQiw4RUFBaUI7QUFDOUMiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FbnNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7fSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBFbnNVdGlsIH0gZnJvbSAnLi4vdXRpbHMvRW5zVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N0b3JhZ2VVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBzdWdnZXN0aW9uczogW10sXG4gICAgbG9hZGluZzogZmFsc2Vcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBhc3luYyByZXNvbHZlTmFtZShuYW1lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIubG9va3VwRW5zTmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yPy5yZWFzb25zPy5bMF0/LmRlc2NyaXB0aW9uIHx8ICdFcnJvciByZXNvbHZpbmcgbmFtZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBpc05hbWVSZWdpc3RlcmVkKG5hbWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmxvb2t1cEVuc05hbWUobmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGdldFN1Z2dlc3Rpb25zKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLnN1Z2dlc3Rpb25zID0gW107XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldEVuc05hbWVTdWdnZXN0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgICBzdGF0ZS5zdWdnZXN0aW9ucyA9IHJlc3BvbnNlLnN1Z2dlc3Rpb25zIHx8IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnN1Z2dlc3Rpb25zO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBFbnNDb250cm9sbGVyLnBhcnNlRW5zQXBpRXJyb3IoZSwgJ0Vycm9yIGZldGNoaW5nIG5hbWUgc3VnZ2VzdGlvbnMnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBnZXROYW1lc0ZvckFkZHJlc3MoYWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgICAgIGlmICghbmV0d29yaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZEVucyA9IFN0b3JhZ2VVdGlsLmdldEVuc0Zyb21DYWNoZUZvckFkZHJlc3MoYWRkcmVzcyk7XG4gICAgICAgICAgICBpZiAoY2FjaGVkRW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEVucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIucmV2ZXJzZUxvb2t1cEVuc05hbWUoeyBhZGRyZXNzIH0pO1xuICAgICAgICAgICAgU3RvcmFnZVV0aWwudXBkYXRlRW5zQ2FjaGUoe1xuICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZW5zOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBFbnNDb250cm9sbGVyLnBhcnNlRW5zQXBpRXJyb3IoZSwgJ0Vycm9yIGZldGNoaW5nIG5hbWVzIGZvciBhZGRyZXNzJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcmVnaXN0ZXJOYW1lKG5hbWUpIHtcbiAgICAgICAgY29uc3QgbmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuZXR3b3JrPy5jaGFpbk5hbWVzcGFjZSk/LmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGVtYWlsQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgIGlmICghbmV0d29yaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYWRkcmVzcyB8fCAhZW1haWxDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWRkcmVzcyBvciBhdXRoIGNvbm5lY3RvciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgICAgICAgICAvLyBVbml4IHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoVHJhbnNhY3Rpb25TdGFjayh7XG4gICAgICAgICAgICAgICAgb25DYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnUmVnaXN0ZXJBY2NvdW50TmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc2lnbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBuZXR3b3JrSWQgPSBuZXR3b3JrLmlkO1xuICAgICAgICAgICAgaWYgKCFuZXR3b3JrSWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb2luVHlwZSA9IEVuc1V0aWwuY29udmVydEVWTUNoYWluSWRUb0NvaW5UeXBlKE51bWJlcihuZXR3b3JrSWQpKTtcbiAgICAgICAgICAgIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLnJlZ2lzdGVyRW5zTmFtZSh7XG4gICAgICAgICAgICAgICAgY29pblR5cGUsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgncHJvZmlsZU5hbWUnLCBuYW1lLCBuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnVwZGF0ZUVuc0NhY2hlKHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGVuczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ1JlZ2lzdGVyQWNjb3VudE5hbWVTdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IEVuc0NvbnRyb2xsZXIucGFyc2VFbnNBcGlFcnJvcihlLCBgRXJyb3IgcmVnaXN0ZXJpbmcgbmFtZSAke25hbWV9YCk7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ1JlZ2lzdGVyQWNjb3VudE5hbWUnKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB2YWxpZGF0ZU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gL15bYS16QS1aMC05LV17NCx9JC91LnRlc3QobmFtZSk7XG4gICAgfSxcbiAgICBwYXJzZUVuc0FwaUVycm9yKGVycm9yLCBkZWZhdWx0RXJyb3IpIHtcbiAgICAgICAgY29uc3QgZW5zRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGVuc0Vycm9yPy5yZWFzb25zPy5bMF0/LmRlc2NyaXB0aW9uIHx8IGRlZmF1bHRFcnJvcjtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBFbnNDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbnNDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js":
/*!*****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js ***!
  \*****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventsController: () => (/* binding */ EventsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- Helpers ------------------------------------------- //\nconst baseUrl = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getAnalyticsUrl();\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_1__.FetchUtil({ baseUrl, clientId: null });\nconst excluded = ['MODAL_CREATED'];\n// SendBeacon payload limit is 64KB, using 45KB for a safe margin, also 45KB is approx ~200 events which is plenty\nconst MAX_PENDING_EVENTS_KB = 45;\n// Flush events every 10 seconds\nconst FLUSH_EVENTS_INTERVAL_MS = 1000 * 10;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    timestamp: Date.now(),\n    lastFlush: Date.now(),\n    reportedErrors: {},\n    data: {\n        type: 'track',\n        event: 'MODAL_CREATED'\n    },\n    pendingEvents: [],\n    subscribedToVisibilityChange: false,\n    walletImpressions: []\n});\n// -- Controller ---------------------------------------- //\nconst EventsController = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.subscribe)(state, () => callback(state));\n    },\n    getSdkProperties() {\n        const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        return {\n            projectId,\n            st: sdkType,\n            sv: sdkVersion || 'html-wagmi-4.2.2'\n        };\n    },\n    shouldFlushEvents() {\n        const isOverMaxSize = JSON.stringify(state.pendingEvents).length / 1024 > MAX_PENDING_EVENTS_KB;\n        const isExpired = state.lastFlush + FLUSH_EVENTS_INTERVAL_MS < Date.now();\n        return isOverMaxSize || isExpired;\n    },\n    _setPendingEvent(payload) {\n        try {\n            let address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n            if ('address' in payload.data && payload.data.address) {\n                address = payload.data.address;\n            }\n            if (excluded.includes(payload.data.event) || typeof window === 'undefined') {\n                return;\n            }\n            const caipNetworkId = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getActiveCaipNetwork()?.caipNetworkId;\n            this.state.pendingEvents.push({\n                eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getUUID(),\n                url: window.location.href,\n                domain: window.location.hostname,\n                timestamp: payload.timestamp,\n                props: {\n                    ...payload.data,\n                    address,\n                    properties: {\n                        ...('properties' in payload.data ? payload.data.properties : {}),\n                        caipNetworkId\n                    }\n                }\n            });\n            state.reportedErrors['FORBIDDEN'] = false;\n            const shouldFlush = EventsController.shouldFlushEvents();\n            // If the pending events are too large, submit them as sendBeacon has a limit of 64KB\n            if (shouldFlush) {\n                EventsController._submitPendingEvents();\n            }\n        }\n        catch (err) {\n            console.warn('_setPendingEvent', err);\n        }\n    },\n    sendEvent(data) {\n        state.timestamp = Date.now();\n        state.data = data;\n        const MANDATORY_EVENTS = [\n            'INITIALIZE',\n            'CONNECT_SUCCESS',\n            'SOCIAL_LOGIN_SUCCESS'\n        ];\n        if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state.features?.analytics || MANDATORY_EVENTS.includes(data.event)) {\n            EventsController._setPendingEvent(state);\n        }\n        // Calling this function here to make sure document is ready and defined before subscribing to visibility change\n        this.subscribeToFlushTriggers();\n    },\n    /**\n     * Adds a wallet impression item to the aggregated list. These are flushed as a single\n     * WALLET_IMPRESSION_V2 batch in _submitPendingEvents.\n     */\n    sendWalletImpressionEvent(item) {\n        state.walletImpressions.push(item);\n    },\n    _transformPendingEventsForBatch(events) {\n        try {\n            return events.filter(evt => {\n                const eventName = evt.props.event;\n                return eventName !== 'WALLET_IMPRESSION_V2';\n            });\n        }\n        catch {\n            return events;\n        }\n    },\n    _submitPendingEvents() {\n        state.lastFlush = Date.now();\n        if (state.pendingEvents.length === 0 && state.walletImpressions.length === 0) {\n            return;\n        }\n        try {\n            const batch = EventsController._transformPendingEventsForBatch(state.pendingEvents);\n            if (state.walletImpressions.length) {\n                batch.push({\n                    eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getUUID(),\n                    url: window.location.href,\n                    domain: window.location.hostname,\n                    timestamp: Date.now(),\n                    props: {\n                        type: 'track',\n                        event: 'WALLET_IMPRESSION_V2',\n                        items: [...state.walletImpressions]\n                    }\n                });\n            }\n            api.sendBeacon({\n                path: '/batch',\n                params: EventsController.getSdkProperties(),\n                body: batch\n            });\n            state.reportedErrors['FORBIDDEN'] = false;\n            state.pendingEvents = [];\n            state.walletImpressions = [];\n        }\n        catch (err) {\n            state.reportedErrors['FORBIDDEN'] = true;\n        }\n    },\n    subscribeToFlushTriggers() {\n        if (state.subscribedToVisibilityChange) {\n            return;\n        }\n        if (typeof document === 'undefined') {\n            return;\n        }\n        state.subscribedToVisibilityChange = true;\n        // Submit pending events when the document is hidden\n        document?.addEventListener?.('visibilitychange', () => {\n            if (document.visibilityState === 'hidden') {\n                EventsController._submitPendingEvents();\n            }\n        });\n        // Submit pending events when the document is frozen (triggered on mobile)\n        document?.addEventListener?.('freeze', () => {\n            EventsController._submitPendingEvents();\n        });\n        // Submit pending events when the window is hidden\n        window?.addEventListener?.('pagehide', () => {\n            EventsController._submitPendingEvents();\n        });\n        // Submit pending events every 10 seconds\n        setInterval(() => {\n            EventsController._submitPendingEvents();\n        }, FLUSH_EVENTS_INTERVAL_MS);\n    }\n};\n//# sourceMappingURL=EventsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FdmVudHNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5RDtBQUNHO0FBQ1Y7QUFDSztBQUNJO0FBQzNEO0FBQ0EsZ0JBQWdCLG9FQUFjO0FBQzlCLGdCQUFnQiwwREFBUyxHQUFHLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGlDQUFpQyxFQUFFLG9FQUFpQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUFlO0FBQ2pEO0FBQ0EseUJBQXlCLG9FQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9FQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9FdmVudHNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBGZXRjaFV0aWwgfSBmcm9tICcuLi91dGlscy9GZXRjaFV0aWwuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIEhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgYmFzZVVybCA9IENvcmVIZWxwZXJVdGlsLmdldEFuYWx5dGljc1VybCgpO1xuY29uc3QgYXBpID0gbmV3IEZldGNoVXRpbCh7IGJhc2VVcmwsIGNsaWVudElkOiBudWxsIH0pO1xuY29uc3QgZXhjbHVkZWQgPSBbJ01PREFMX0NSRUFURUQnXTtcbi8vIFNlbmRCZWFjb24gcGF5bG9hZCBsaW1pdCBpcyA2NEtCLCB1c2luZyA0NUtCIGZvciBhIHNhZmUgbWFyZ2luLCBhbHNvIDQ1S0IgaXMgYXBwcm94IH4yMDAgZXZlbnRzIHdoaWNoIGlzIHBsZW50eVxuY29uc3QgTUFYX1BFTkRJTkdfRVZFTlRTX0tCID0gNDU7XG4vLyBGbHVzaCBldmVudHMgZXZlcnkgMTAgc2Vjb25kc1xuY29uc3QgRkxVU0hfRVZFTlRTX0lOVEVSVkFMX01TID0gMTAwMCAqIDEwO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgbGFzdEZsdXNoOiBEYXRlLm5vdygpLFxuICAgIHJlcG9ydGVkRXJyb3JzOiB7fSxcbiAgICBkYXRhOiB7XG4gICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgIGV2ZW50OiAnTU9EQUxfQ1JFQVRFRCdcbiAgICB9LFxuICAgIHBlbmRpbmdFdmVudHM6IFtdLFxuICAgIHN1YnNjcmliZWRUb1Zpc2liaWxpdHlDaGFuZ2U6IGZhbHNlLFxuICAgIHdhbGxldEltcHJlc3Npb25zOiBbXVxufSk7XG4vLyAtLSBDb250cm9sbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBFdmVudHNDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgZ2V0U2RrUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0SWQsIHNka1R5cGUsIHNka1ZlcnNpb24gfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgc3Q6IHNka1R5cGUsXG4gICAgICAgICAgICBzdjogc2RrVmVyc2lvbiB8fCAnaHRtbC13YWdtaS00LjIuMidcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNob3VsZEZsdXNoRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBpc092ZXJNYXhTaXplID0gSlNPTi5zdHJpbmdpZnkoc3RhdGUucGVuZGluZ0V2ZW50cykubGVuZ3RoIC8gMTAyNCA+IE1BWF9QRU5ESU5HX0VWRU5UU19LQjtcbiAgICAgICAgY29uc3QgaXNFeHBpcmVkID0gc3RhdGUubGFzdEZsdXNoICsgRkxVU0hfRVZFTlRTX0lOVEVSVkFMX01TIDwgRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIGlzT3Zlck1heFNpemUgfHwgaXNFeHBpcmVkO1xuICAgIH0sXG4gICAgX3NldFBlbmRpbmdFdmVudChwYXlsb2FkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgYWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzO1xuICAgICAgICAgICAgaWYgKCdhZGRyZXNzJyBpbiBwYXlsb2FkLmRhdGEgJiYgcGF5bG9hZC5kYXRhLmFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzID0gcGF5bG9hZC5kYXRhLmFkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhjbHVkZWQuaW5jbHVkZXMocGF5bG9hZC5kYXRhLmV2ZW50KSB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWQgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoKT8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUucGVuZGluZ0V2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudElkOiBDb3JlSGVscGVyVXRpbC5nZXRVVUlEKCksXG4gICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgICAgICBkb21haW46IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHBheWxvYWQudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBheWxvYWQuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCdwcm9wZXJ0aWVzJyBpbiBwYXlsb2FkLmRhdGEgPyBwYXlsb2FkLmRhdGEucHJvcGVydGllcyA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhaXBOZXR3b3JrSWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUucmVwb3J0ZWRFcnJvcnNbJ0ZPUkJJRERFTiddID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRGbHVzaCA9IEV2ZW50c0NvbnRyb2xsZXIuc2hvdWxkRmx1c2hFdmVudHMoKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwZW5kaW5nIGV2ZW50cyBhcmUgdG9vIGxhcmdlLCBzdWJtaXQgdGhlbSBhcyBzZW5kQmVhY29uIGhhcyBhIGxpbWl0IG9mIDY0S0JcbiAgICAgICAgICAgIGlmIChzaG91bGRGbHVzaCkge1xuICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuX3N1Ym1pdFBlbmRpbmdFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ19zZXRQZW5kaW5nRXZlbnQnLCBlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZW5kRXZlbnQoZGF0YSkge1xuICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICBzdGF0ZS5kYXRhID0gZGF0YTtcbiAgICAgICAgY29uc3QgTUFOREFUT1JZX0VWRU5UUyA9IFtcbiAgICAgICAgICAgICdJTklUSUFMSVpFJyxcbiAgICAgICAgICAgICdDT05ORUNUX1NVQ0NFU1MnLFxuICAgICAgICAgICAgJ1NPQ0lBTF9MT0dJTl9TVUNDRVNTJ1xuICAgICAgICBdO1xuICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LmFuYWx5dGljcyB8fCBNQU5EQVRPUllfRVZFTlRTLmluY2x1ZGVzKGRhdGEuZXZlbnQpKSB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLl9zZXRQZW5kaW5nRXZlbnQoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhbGxpbmcgdGhpcyBmdW5jdGlvbiBoZXJlIHRvIG1ha2Ugc3VyZSBkb2N1bWVudCBpcyByZWFkeSBhbmQgZGVmaW5lZCBiZWZvcmUgc3Vic2NyaWJpbmcgdG8gdmlzaWJpbGl0eSBjaGFuZ2VcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb0ZsdXNoVHJpZ2dlcnMoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEFkZHMgYSB3YWxsZXQgaW1wcmVzc2lvbiBpdGVtIHRvIHRoZSBhZ2dyZWdhdGVkIGxpc3QuIFRoZXNlIGFyZSBmbHVzaGVkIGFzIGEgc2luZ2xlXG4gICAgICogV0FMTEVUX0lNUFJFU1NJT05fVjIgYmF0Y2ggaW4gX3N1Ym1pdFBlbmRpbmdFdmVudHMuXG4gICAgICovXG4gICAgc2VuZFdhbGxldEltcHJlc3Npb25FdmVudChpdGVtKSB7XG4gICAgICAgIHN0YXRlLndhbGxldEltcHJlc3Npb25zLnB1c2goaXRlbSk7XG4gICAgfSxcbiAgICBfdHJhbnNmb3JtUGVuZGluZ0V2ZW50c0ZvckJhdGNoKGV2ZW50cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50cy5maWx0ZXIoZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBldnQucHJvcHMuZXZlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50TmFtZSAhPT0gJ1dBTExFVF9JTVBSRVNTSU9OX1YyJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudHM7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIF9zdWJtaXRQZW5kaW5nRXZlbnRzKCkge1xuICAgICAgICBzdGF0ZS5sYXN0Rmx1c2ggPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAoc3RhdGUucGVuZGluZ0V2ZW50cy5sZW5ndGggPT09IDAgJiYgc3RhdGUud2FsbGV0SW1wcmVzc2lvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gRXZlbnRzQ29udHJvbGxlci5fdHJhbnNmb3JtUGVuZGluZ0V2ZW50c0ZvckJhdGNoKHN0YXRlLnBlbmRpbmdFdmVudHMpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLndhbGxldEltcHJlc3Npb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJhdGNoLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBldmVudElkOiBDb3JlSGVscGVyVXRpbC5nZXRVVUlEKCksXG4gICAgICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbjogd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdXQUxMRVRfSU1QUkVTU0lPTl9WMicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogWy4uLnN0YXRlLndhbGxldEltcHJlc3Npb25zXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcGkuc2VuZEJlYWNvbih7XG4gICAgICAgICAgICAgICAgcGF0aDogJy9iYXRjaCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBFdmVudHNDb250cm9sbGVyLmdldFNka1Byb3BlcnRpZXMoKSxcbiAgICAgICAgICAgICAgICBib2R5OiBiYXRjaFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5yZXBvcnRlZEVycm9yc1snRk9SQklEREVOJ10gPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLnBlbmRpbmdFdmVudHMgPSBbXTtcbiAgICAgICAgICAgIHN0YXRlLndhbGxldEltcHJlc3Npb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3RhdGUucmVwb3J0ZWRFcnJvcnNbJ0ZPUkJJRERFTiddID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc3Vic2NyaWJlVG9GbHVzaFRyaWdnZXJzKCkge1xuICAgICAgICBpZiAoc3RhdGUuc3Vic2NyaWJlZFRvVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuc3Vic2NyaWJlZFRvVmlzaWJpbGl0eUNoYW5nZSA9IHRydWU7XG4gICAgICAgIC8vIFN1Ym1pdCBwZW5kaW5nIGV2ZW50cyB3aGVuIHRoZSBkb2N1bWVudCBpcyBoaWRkZW5cbiAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXI/LigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5fc3VibWl0UGVuZGluZ0V2ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VibWl0IHBlbmRpbmcgZXZlbnRzIHdoZW4gdGhlIGRvY3VtZW50IGlzIGZyb3plbiAodHJpZ2dlcmVkIG9uIG1vYmlsZSlcbiAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXI/LignZnJlZXplJywgKCkgPT4ge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5fc3VibWl0UGVuZGluZ0V2ZW50cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VibWl0IHBlbmRpbmcgZXZlbnRzIHdoZW4gdGhlIHdpbmRvdyBpcyBoaWRkZW5cbiAgICAgICAgd2luZG93Py5hZGRFdmVudExpc3RlbmVyPy4oJ3BhZ2VoaWRlJywgKCkgPT4ge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5fc3VibWl0UGVuZGluZ0V2ZW50cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VibWl0IHBlbmRpbmcgZXZlbnRzIGV2ZXJ5IDEwIHNlY29uZHNcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5fc3VibWl0UGVuZGluZ0V2ZW50cygpO1xuICAgICAgICB9LCBGTFVTSF9FVkVOVFNfSU5URVJWQUxfTVMpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudHNDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModalController: () => (/* binding */ ModalController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_NetworkUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/NetworkUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PublicStateController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    loading: false,\n    loadingNamespaceMap: new Map(),\n    open: false,\n    shake: false,\n    namespace: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    async open(options) {\n        const namespace = options?.namespace;\n        const currentNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n        const isSwitchingNamespace = namespace && namespace !== currentNamespace;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(options?.namespace)?.caipAddress;\n        const hasNoAdapters = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.noAdapters;\n        if (_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.state.wcBasic) {\n            // No need to add an await here if we are use basic\n            _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.prefetch({\n                fetchNetworkImages: false,\n                fetchConnectorImages: false,\n                fetchWalletRanks: false\n            });\n        }\n        else {\n            await _ApiController_js__WEBPACK_IMPORTED_MODULE_4__.ApiController.prefetch();\n        }\n        _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.setFilterByNamespace(options?.namespace);\n        ModalController.setLoading(true, namespace);\n        if (namespace && isSwitchingNamespace) {\n            const namespaceNetwork = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getNetworkData(namespace)?.caipNetwork ||\n                _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getRequestedCaipNetworks(namespace)[0];\n            if (namespaceNetwork) {\n                if (hasNoAdapters) {\n                    await _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.switchActiveNetwork(namespaceNetwork);\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.push('ConnectingWalletConnectBasic');\n                }\n                else {\n                    _utils_NetworkUtil_js__WEBPACK_IMPORTED_MODULE_7__.NetworkUtil.onSwitchNetwork({ network: namespaceNetwork, ignoreSwitchConfirmation: true });\n                }\n            }\n        }\n        else if (_OptionsController_js__WEBPACK_IMPORTED_MODULE_8__.OptionsController.state.manualWCControl || (hasNoAdapters && !caipAddress)) {\n            if (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.isMobile()) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('AllWallets');\n            }\n            else {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('ConnectingWalletConnectBasic');\n            }\n        }\n        else if (options?.view) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset(options.view, options.data);\n        }\n        else if (caipAddress) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Account');\n        }\n        else {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n        }\n        state.open = true;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ open: true });\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_11__.EventsController.sendEvent({\n            type: 'track',\n            event: 'MODAL_OPEN',\n            properties: { connected: Boolean(caipAddress) }\n        });\n    },\n    close() {\n        const isEmbeddedEnabled = _OptionsController_js__WEBPACK_IMPORTED_MODULE_8__.OptionsController.state.enableEmbedded;\n        const isConnected = Boolean(_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipAddress);\n        // Only send the event if the modal is open and is about to be closed\n        if (state.open) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_11__.EventsController.sendEvent({\n                type: 'track',\n                event: 'MODAL_CLOSE',\n                properties: { connected: isConnected }\n            });\n        }\n        state.open = false;\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n        ModalController.clearLoading();\n        if (isEmbeddedEnabled) {\n            if (isConnected) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.replace('Account');\n            }\n            else {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.push('Connect');\n            }\n        }\n        else {\n            _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ open: false });\n        }\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.resetUri();\n    },\n    setLoading(loading, namespace) {\n        if (namespace) {\n            state.loadingNamespaceMap.set(namespace, loading);\n        }\n        state.loading = loading;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ loading });\n    },\n    clearLoading() {\n        state.loadingNamespaceMap.clear();\n        state.loading = false;\n        _PublicStateController_js__WEBPACK_IMPORTED_MODULE_10__.PublicStateController.set({ loading: false });\n    },\n    shake() {\n        if (state.shake) {\n            return;\n        }\n        state.shake = true;\n        setTimeout(() => {\n            state.shake = false;\n        }, 500);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ModalController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_12__.withErrorBoundary)(controller);\n//# sourceMappingURL=ModalController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDSztBQUN4QjtBQUNzQjtBQUNOO0FBQ1k7QUFDZjtBQUNJO0FBQ1U7QUFDRjtBQUNOO0FBQ0U7QUFDUTtBQUNWO0FBQ3pEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUNBQWlDLGdFQUFlO0FBQ2hEO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDLDhCQUE4QixnRUFBZTtBQUM3QyxZQUFZLDBFQUFvQjtBQUNoQztBQUNBLFlBQVksNERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxrQkFBa0IsNERBQWE7QUFDL0I7QUFDQSxRQUFRLHdFQUFtQjtBQUMzQjtBQUNBO0FBQ0EscUNBQXFDLGdFQUFlO0FBQ3BELGdCQUFnQixnRUFBZTtBQUMvQjtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFlO0FBQ3pDLG9CQUFvQixrRUFBZ0I7QUFDcEM7QUFDQTtBQUNBLG9CQUFvQiw4REFBVyxtQkFBbUIsMkRBQTJEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvRUFBaUI7QUFDbEMsZ0JBQWdCLG9FQUFjO0FBQzlCLGdCQUFnQixrRUFBZ0I7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrRUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQjtBQUM1QjtBQUNBO0FBQ0EsUUFBUSw2RUFBcUIsT0FBTyxZQUFZO0FBQ2hELFFBQVEsbUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGtDQUFrQyxvRUFBaUI7QUFDbkQsb0NBQW9DLGdFQUFlO0FBQ25EO0FBQ0E7QUFDQSxZQUFZLG1FQUFnQjtBQUM1QjtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQjtBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxZQUFZLDZFQUFxQixPQUFPLGFBQWE7QUFDckQ7QUFDQSxRQUFRLDBFQUFvQjtBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkVBQXFCLE9BQU8sU0FBUztBQUM3QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2RUFBcUIsT0FBTyxnQkFBZ0I7QUFDcEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QiwrRUFBaUI7QUFDaEQiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Nb2RhbENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHt9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgTmV0d29ya1V0aWwgfSBmcm9tICcuLi91dGlscy9OZXR3b3JrVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICcuL0FwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4vRXZlbnRzQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUHVibGljU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnLi9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGxvYWRpbmdOYW1lc3BhY2VNYXA6IG5ldyBNYXAoKSxcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBzaGFrZTogZmFsc2UsXG4gICAgbmFtZXNwYWNlOiB1bmRlZmluZWRcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBhc3luYyBvcGVuKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gb3B0aW9ucz8ubmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBjdXJyZW50TmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCBpc1N3aXRjaGluZ05hbWVzcGFjZSA9IG5hbWVzcGFjZSAmJiBuYW1lc3BhY2UgIT09IGN1cnJlbnROYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGNhaXBBZGRyZXNzID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG9wdGlvbnM/Lm5hbWVzcGFjZSk/LmNhaXBBZGRyZXNzO1xuICAgICAgICBjb25zdCBoYXNOb0FkYXB0ZXJzID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLm5vQWRhcHRlcnM7XG4gICAgICAgIGlmIChDb25uZWN0aW9uQ29udHJvbGxlci5zdGF0ZS53Y0Jhc2ljKSB7XG4gICAgICAgICAgICAvLyBObyBuZWVkIHRvIGFkZCBhbiBhd2FpdCBoZXJlIGlmIHdlIGFyZSB1c2UgYmFzaWNcbiAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIucHJlZmV0Y2goe1xuICAgICAgICAgICAgICAgIGZldGNoTmV0d29ya0ltYWdlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZmV0Y2hDb25uZWN0b3JJbWFnZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZldGNoV2FsbGV0UmFua3M6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IEFwaUNvbnRyb2xsZXIucHJlZmV0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBDb25uZWN0b3JDb250cm9sbGVyLnNldEZpbHRlckJ5TmFtZXNwYWNlKG9wdGlvbnM/Lm5hbWVzcGFjZSk7XG4gICAgICAgIE1vZGFsQ29udHJvbGxlci5zZXRMb2FkaW5nKHRydWUsIG5hbWVzcGFjZSk7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgJiYgaXNTd2l0Y2hpbmdOYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZU5ldHdvcmsgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0TmV0d29ya0RhdGEobmFtZXNwYWNlKT8uY2FpcE5ldHdvcmsgfHxcbiAgICAgICAgICAgICAgICBDaGFpbkNvbnRyb2xsZXIuZ2V0UmVxdWVzdGVkQ2FpcE5ldHdvcmtzKG5hbWVzcGFjZSlbMF07XG4gICAgICAgICAgICBpZiAobmFtZXNwYWNlTmV0d29yaykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNOb0FkYXB0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IENoYWluQ29udHJvbGxlci5zd2l0Y2hBY3RpdmVOZXR3b3JrKG5hbWVzcGFjZU5ldHdvcmspO1xuICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ0Nvbm5lY3RpbmdXYWxsZXRDb25uZWN0QmFzaWMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIE5ldHdvcmtVdGlsLm9uU3dpdGNoTmV0d29yayh7IG5ldHdvcms6IG5hbWVzcGFjZU5ldHdvcmssIGlnbm9yZVN3aXRjaENvbmZpcm1hdGlvbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUubWFudWFsV0NDb250cm9sIHx8IChoYXNOb0FkYXB0ZXJzICYmICFjYWlwQWRkcmVzcykpIHtcbiAgICAgICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQWxsV2FsbGV0cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQ29ubmVjdGluZ1dhbGxldENvbm5lY3RCYXNpYycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnM/LnZpZXcpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVzZXQob3B0aW9ucy52aWV3LCBvcHRpb25zLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KCdBY2NvdW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlc2V0KCdDb25uZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoeyBvcGVuOiB0cnVlIH0pO1xuICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgZXZlbnQ6ICdNT0RBTF9PUEVOJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgY29ubmVjdGVkOiBCb29sZWFuKGNhaXBBZGRyZXNzKSB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGlzRW1iZWRkZWRFbmFibGVkID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZW5hYmxlRW1iZWRkZWQ7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gQm9vbGVhbihDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3MpO1xuICAgICAgICAvLyBPbmx5IHNlbmQgdGhlIGV2ZW50IGlmIHRoZSBtb2RhbCBpcyBvcGVuIGFuZCBpcyBhYm91dCB0byBiZSBjbG9zZWRcbiAgICAgICAgaWYgKHN0YXRlLm9wZW4pIHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnTU9EQUxfQ0xPU0UnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgY29ubmVjdGVkOiBpc0Nvbm5lY3RlZCB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5vcGVuID0gZmFsc2U7XG4gICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVzZXQoJ0Nvbm5lY3QnKTtcbiAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsZWFyTG9hZGluZygpO1xuICAgICAgICBpZiAoaXNFbWJlZGRlZEVuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnQWNjb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdDb25uZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBQdWJsaWNTdGF0ZUNvbnRyb2xsZXIuc2V0KHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIucmVzZXRVcmkoKTtcbiAgICB9LFxuICAgIHNldExvYWRpbmcobG9hZGluZywgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdOYW1lc3BhY2VNYXAuc2V0KG5hbWVzcGFjZSwgbG9hZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGxvYWRpbmc7XG4gICAgICAgIFB1YmxpY1N0YXRlQ29udHJvbGxlci5zZXQoeyBsb2FkaW5nIH0pO1xuICAgIH0sXG4gICAgY2xlYXJMb2FkaW5nKCkge1xuICAgICAgICBzdGF0ZS5sb2FkaW5nTmFtZXNwYWNlTWFwLmNsZWFyKCk7XG4gICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgUHVibGljU3RhdGVDb250cm9sbGVyLnNldCh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgIH0sXG4gICAgc2hha2UoKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zaGFrZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnNoYWtlID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5zaGFrZSA9IGZhbHNlO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IE1vZGFsQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kYWxDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js":
/*!*****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js ***!
  \*****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OnRampController: () => (/* binding */ OnRampController),\n/* harmony export */   USDC_CURRENCY_DEFAULT: () => (/* binding */ USDC_CURRENCY_DEFAULT),\n/* harmony export */   USD_CURRENCY_DEFAULT: () => (/* binding */ USD_CURRENCY_DEFAULT)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n\nconst USDC_CURRENCY_DEFAULT = {\n    id: '2b92315d-eab7-5bef-84fa-089a131333f5',\n    name: 'USD Coin',\n    symbol: 'USDC',\n    networks: [\n        {\n            name: 'ethereum-mainnet',\n            display_name: 'Ethereum',\n            chain_id: '1',\n            contract_address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48'\n        },\n        {\n            name: 'polygon-mainnet',\n            display_name: 'Polygon',\n            chain_id: '137',\n            contract_address: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174'\n        }\n    ]\n};\nconst USD_CURRENCY_DEFAULT = {\n    id: 'USD',\n    payment_method_limits: [\n        {\n            id: 'card',\n            min: '10.00',\n            max: '7500.00'\n        },\n        {\n            id: 'ach_bank_account',\n            min: '10.00',\n            max: '25000.00'\n        }\n    ]\n};\nconst defaultState = {\n    providers: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ONRAMP_PROVIDERS,\n    selectedProvider: null,\n    error: null,\n    purchaseCurrency: USDC_CURRENCY_DEFAULT,\n    paymentCurrency: USD_CURRENCY_DEFAULT,\n    purchaseCurrencies: [USDC_CURRENCY_DEFAULT],\n    paymentCurrencies: [],\n    quotesLoading: false\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)(defaultState);\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    setSelectedProvider(provider) {\n        if (provider && provider.name === 'meld') {\n            const activeChain = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n            const currency = activeChain === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.CHAIN.SOLANA ? 'SOL' : 'USDC';\n            const address = activeChain\n                ? (_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.chains.get(activeChain)?.accountState?.address ?? '')\n                : '';\n            const url = new URL(provider.url);\n            url.searchParams.append('publicKey', _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.MELD_PUBLIC_KEY);\n            url.searchParams.append('destinationCurrencyCode', currency);\n            url.searchParams.append('walletAddress', address);\n            url.searchParams.append('externalCustomerId', _OptionsController_js__WEBPACK_IMPORTED_MODULE_5__.OptionsController.state.projectId);\n            state.selectedProvider = { ...provider, url: url.toString() };\n        }\n        else {\n            state.selectedProvider = provider;\n        }\n    },\n    setOnrampProviders(providers) {\n        if (Array.isArray(providers) && providers.every(item => typeof item === 'string')) {\n            const validOnramp = providers;\n            const newProviders = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ONRAMP_PROVIDERS.filter(provider => validOnramp.includes(provider.name));\n            state.providers = newProviders;\n        }\n        else {\n            state.providers = [];\n        }\n    },\n    setPurchaseCurrency(currency) {\n        state.purchaseCurrency = currency;\n    },\n    setPaymentCurrency(currency) {\n        state.paymentCurrency = currency;\n    },\n    setPurchaseAmount(amount) {\n        OnRampController.state.purchaseAmount = amount;\n    },\n    setPaymentAmount(amount) {\n        OnRampController.state.paymentAmount = amount;\n    },\n    async getAvailableCurrencies() {\n        const options = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.getOnrampOptions();\n        state.purchaseCurrencies = options.purchaseCurrencies;\n        state.paymentCurrencies = options.paymentCurrencies;\n        state.paymentCurrency = options.paymentCurrencies[0] || USD_CURRENCY_DEFAULT;\n        state.purchaseCurrency = options.purchaseCurrencies[0] || USDC_CURRENCY_DEFAULT;\n        await _ApiController_js__WEBPACK_IMPORTED_MODULE_7__.ApiController.fetchCurrencyImages(options.paymentCurrencies.map(currency => currency.id));\n        await _ApiController_js__WEBPACK_IMPORTED_MODULE_7__.ApiController.fetchTokenImages(options.purchaseCurrencies.map(currency => currency.symbol));\n    },\n    async getQuote() {\n        state.quotesLoading = true;\n        try {\n            const quote = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_6__.BlockchainApiController.getOnrampQuote({\n                purchaseCurrency: state.purchaseCurrency,\n                paymentCurrency: state.paymentCurrency,\n                amount: state.paymentAmount?.toString() || '0',\n                network: state.purchaseCurrency?.symbol\n            });\n            state.quotesLoading = false;\n            state.purchaseAmount = Number(quote?.purchaseAmount.amount);\n            return quote;\n        }\n        catch (error) {\n            state.error = error.message;\n            state.quotesLoading = false;\n            return null;\n        }\n        finally {\n            state.quotesLoading = false;\n        }\n    },\n    resetState() {\n        state.selectedProvider = null;\n        state.error = null;\n        state.purchaseCurrency = USDC_CURRENCY_DEFAULT;\n        state.paymentCurrency = USD_CURRENCY_DEFAULT;\n        state.purchaseCurrencies = [USDC_CURRENCY_DEFAULT];\n        state.paymentCurrencies = [];\n        state.paymentAmount = undefined;\n        state.purchaseAmount = undefined;\n        state.quotesLoading = false;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst OnRampController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__.withErrorBoundary)(controller);\n//# sourceMappingURL=OnRampController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PblJhbXBDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNLO0FBQ1Q7QUFDeUI7QUFDWjtBQUNmO0FBQ29CO0FBQ2hCO0FBQ0k7QUFDcEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFFQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0NBQWdDLGdFQUFlO0FBQy9DLDZDQUE2QywrREFBYTtBQUMxRDtBQUNBLG1CQUFtQixnRUFBZTtBQUNsQztBQUNBO0FBQ0EsaURBQWlELG9FQUFlO0FBQ2hFO0FBQ0E7QUFDQSwwREFBMEQsb0VBQWlCO0FBQzNFLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscUVBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhCQUE4QixnRkFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFhO0FBQzNCLGNBQWMsNERBQWE7QUFDM0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnRkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLDhFQUFpQjtBQUNqRCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL09uUmFtcENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IE1FTERfUFVCTElDX0tFWSwgT05SQU1QX1BST1ZJREVSUyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgd2l0aEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyIH0gZnJvbSAnLi9BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyIH0gZnJvbSAnLi9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuZXhwb3J0IGNvbnN0IFVTRENfQ1VSUkVOQ1lfREVGQVVMVCA9IHtcbiAgICBpZDogJzJiOTIzMTVkLWVhYjctNWJlZi04NGZhLTA4OWExMzEzMzNmNScsXG4gICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICBuZXR3b3JrczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnZXRoZXJldW0tbWFpbm5ldCcsXG4gICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgICAgICBjaGFpbl9pZDogJzEnLFxuICAgICAgICAgICAgY29udHJhY3RfYWRkcmVzczogJzB4QTBiODY5OTFjNjIxOGIzNmMxZDE5RDRhMmU5RWIwY0UzNjA2ZUI0OCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ3BvbHlnb24tbWFpbm5ldCcsXG4gICAgICAgICAgICBkaXNwbGF5X25hbWU6ICdQb2x5Z29uJyxcbiAgICAgICAgICAgIGNoYWluX2lkOiAnMTM3JyxcbiAgICAgICAgICAgIGNvbnRyYWN0X2FkZHJlc3M6ICcweDI3OTFCY2ExZjJkZTQ2NjFFRDg4QTMwQzk5QTdhOTQ0OUFhODQxNzQnXG4gICAgICAgIH1cbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IFVTRF9DVVJSRU5DWV9ERUZBVUxUID0ge1xuICAgIGlkOiAnVVNEJyxcbiAgICBwYXltZW50X21ldGhvZF9saW1pdHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjYXJkJyxcbiAgICAgICAgICAgIG1pbjogJzEwLjAwJyxcbiAgICAgICAgICAgIG1heDogJzc1MDAuMDAnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnYWNoX2JhbmtfYWNjb3VudCcsXG4gICAgICAgICAgICBtaW46ICcxMC4wMCcsXG4gICAgICAgICAgICBtYXg6ICcyNTAwMC4wMCdcbiAgICAgICAgfVxuICAgIF1cbn07XG5jb25zdCBkZWZhdWx0U3RhdGUgPSB7XG4gICAgcHJvdmlkZXJzOiBPTlJBTVBfUFJPVklERVJTLFxuICAgIHNlbGVjdGVkUHJvdmlkZXI6IG51bGwsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgcHVyY2hhc2VDdXJyZW5jeTogVVNEQ19DVVJSRU5DWV9ERUZBVUxULFxuICAgIHBheW1lbnRDdXJyZW5jeTogVVNEX0NVUlJFTkNZX0RFRkFVTFQsXG4gICAgcHVyY2hhc2VDdXJyZW5jaWVzOiBbVVNEQ19DVVJSRU5DWV9ERUZBVUxUXSxcbiAgICBwYXltZW50Q3VycmVuY2llczogW10sXG4gICAgcXVvdGVzTG9hZGluZzogZmFsc2Vcbn07XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoZGVmYXVsdFN0YXRlKTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc2V0U2VsZWN0ZWRQcm92aWRlcihwcm92aWRlcikge1xuICAgICAgICBpZiAocHJvdmlkZXIgJiYgcHJvdmlkZXIubmFtZSA9PT0gJ21lbGQnKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDaGFpbiA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gYWN0aXZlQ2hhaW4gPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uU09MQU5BID8gJ1NPTCcgOiAnVVNEQyc7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gYWN0aXZlQ2hhaW5cbiAgICAgICAgICAgICAgICA/IChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLmdldChhY3RpdmVDaGFpbik/LmFjY291bnRTdGF0ZT8uYWRkcmVzcyA/PyAnJylcbiAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChwcm92aWRlci51cmwpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3B1YmxpY0tleScsIE1FTERfUFVCTElDX0tFWSk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnZGVzdGluYXRpb25DdXJyZW5jeUNvZGUnLCBjdXJyZW5jeSk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnd2FsbGV0QWRkcmVzcycsIGFkZHJlc3MpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2V4dGVybmFsQ3VzdG9tZXJJZCcsIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnByb2plY3RJZCk7XG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFByb3ZpZGVyID0geyAuLi5wcm92aWRlciwgdXJsOiB1cmwudG9TdHJpbmcoKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUuc2VsZWN0ZWRQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRPbnJhbXBQcm92aWRlcnMocHJvdmlkZXJzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3ZpZGVycykgJiYgcHJvdmlkZXJzLmV2ZXJ5KGl0ZW0gPT4gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsaWRPbnJhbXAgPSBwcm92aWRlcnM7XG4gICAgICAgICAgICBjb25zdCBuZXdQcm92aWRlcnMgPSBPTlJBTVBfUFJPVklERVJTLmZpbHRlcihwcm92aWRlciA9PiB2YWxpZE9ucmFtcC5pbmNsdWRlcyhwcm92aWRlci5uYW1lKSk7XG4gICAgICAgICAgICBzdGF0ZS5wcm92aWRlcnMgPSBuZXdQcm92aWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5wcm92aWRlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0UHVyY2hhc2VDdXJyZW5jeShjdXJyZW5jeSkge1xuICAgICAgICBzdGF0ZS5wdXJjaGFzZUN1cnJlbmN5ID0gY3VycmVuY3k7XG4gICAgfSxcbiAgICBzZXRQYXltZW50Q3VycmVuY3koY3VycmVuY3kpIHtcbiAgICAgICAgc3RhdGUucGF5bWVudEN1cnJlbmN5ID0gY3VycmVuY3k7XG4gICAgfSxcbiAgICBzZXRQdXJjaGFzZUFtb3VudChhbW91bnQpIHtcbiAgICAgICAgT25SYW1wQ29udHJvbGxlci5zdGF0ZS5wdXJjaGFzZUFtb3VudCA9IGFtb3VudDtcbiAgICB9LFxuICAgIHNldFBheW1lbnRBbW91bnQoYW1vdW50KSB7XG4gICAgICAgIE9uUmFtcENvbnRyb2xsZXIuc3RhdGUucGF5bWVudEFtb3VudCA9IGFtb3VudDtcbiAgICB9LFxuICAgIGFzeW5jIGdldEF2YWlsYWJsZUN1cnJlbmNpZXMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRPbnJhbXBPcHRpb25zKCk7XG4gICAgICAgIHN0YXRlLnB1cmNoYXNlQ3VycmVuY2llcyA9IG9wdGlvbnMucHVyY2hhc2VDdXJyZW5jaWVzO1xuICAgICAgICBzdGF0ZS5wYXltZW50Q3VycmVuY2llcyA9IG9wdGlvbnMucGF5bWVudEN1cnJlbmNpZXM7XG4gICAgICAgIHN0YXRlLnBheW1lbnRDdXJyZW5jeSA9IG9wdGlvbnMucGF5bWVudEN1cnJlbmNpZXNbMF0gfHwgVVNEX0NVUlJFTkNZX0RFRkFVTFQ7XG4gICAgICAgIHN0YXRlLnB1cmNoYXNlQ3VycmVuY3kgPSBvcHRpb25zLnB1cmNoYXNlQ3VycmVuY2llc1swXSB8fCBVU0RDX0NVUlJFTkNZX0RFRkFVTFQ7XG4gICAgICAgIGF3YWl0IEFwaUNvbnRyb2xsZXIuZmV0Y2hDdXJyZW5jeUltYWdlcyhvcHRpb25zLnBheW1lbnRDdXJyZW5jaWVzLm1hcChjdXJyZW5jeSA9PiBjdXJyZW5jeS5pZCkpO1xuICAgICAgICBhd2FpdCBBcGlDb250cm9sbGVyLmZldGNoVG9rZW5JbWFnZXMob3B0aW9ucy5wdXJjaGFzZUN1cnJlbmNpZXMubWFwKGN1cnJlbmN5ID0+IGN1cnJlbmN5LnN5bWJvbCkpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0UXVvdGUoKSB7XG4gICAgICAgIHN0YXRlLnF1b3Rlc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcXVvdGUgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZXRPbnJhbXBRdW90ZSh7XG4gICAgICAgICAgICAgICAgcHVyY2hhc2VDdXJyZW5jeTogc3RhdGUucHVyY2hhc2VDdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBwYXltZW50Q3VycmVuY3k6IHN0YXRlLnBheW1lbnRDdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IHN0YXRlLnBheW1lbnRBbW91bnQ/LnRvU3RyaW5nKCkgfHwgJzAnLFxuICAgICAgICAgICAgICAgIG5ldHdvcms6IHN0YXRlLnB1cmNoYXNlQ3VycmVuY3k/LnN5bWJvbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5xdW90ZXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5wdXJjaGFzZUFtb3VudCA9IE51bWJlcihxdW90ZT8ucHVyY2hhc2VBbW91bnQuYW1vdW50KTtcbiAgICAgICAgICAgIHJldHVybiBxdW90ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHN0YXRlLmVycm9yID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgIHN0YXRlLnF1b3Rlc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3RhdGUucXVvdGVzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXNldFN0YXRlKCkge1xuICAgICAgICBzdGF0ZS5zZWxlY3RlZFByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgICBzdGF0ZS5wdXJjaGFzZUN1cnJlbmN5ID0gVVNEQ19DVVJSRU5DWV9ERUZBVUxUO1xuICAgICAgICBzdGF0ZS5wYXltZW50Q3VycmVuY3kgPSBVU0RfQ1VSUkVOQ1lfREVGQVVMVDtcbiAgICAgICAgc3RhdGUucHVyY2hhc2VDdXJyZW5jaWVzID0gW1VTRENfQ1VSUkVOQ1lfREVGQVVMVF07XG4gICAgICAgIHN0YXRlLnBheW1lbnRDdXJyZW5jaWVzID0gW107XG4gICAgICAgIHN0YXRlLnBheW1lbnRBbW91bnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnB1cmNoYXNlQW1vdW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5xdW90ZXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgT25SYW1wQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T25SYW1wQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OnRampController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionsController: () => (/* binding */ OptionsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_OptionsUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/OptionsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\");\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    features: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_FEATURES,\n    projectId: '',\n    sdkType: 'appkit',\n    sdkVersion: 'html-wagmi-undefined',\n    defaultAccountTypes: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,\n    enableNetworkSwitch: true,\n    experimental_preferUniversalLinks: false,\n    remoteFeatures: {},\n    enableMobileFullScreen: false,\n    coinbasePreference: 'all'\n});\n// -- Controller ---------------------------------------- //\nconst OptionsController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    setOptions(options) {\n        Object.assign(state, options);\n    },\n    setRemoteFeatures(remoteFeatures) {\n        if (!remoteFeatures) {\n            return;\n        }\n        const newRemoteFeatures = { ...state.remoteFeatures, ...remoteFeatures };\n        state.remoteFeatures = newRemoteFeatures;\n        if (state.remoteFeatures?.socials) {\n            state.remoteFeatures.socials = _utils_OptionsUtil_js__WEBPACK_IMPORTED_MODULE_3__.OptionsUtil.filterSocialsByPlatform(state.remoteFeatures.socials);\n        }\n        if (state.features?.pay) {\n            state.remoteFeatures.email = false;\n            state.remoteFeatures.socials = false;\n        }\n    },\n    setFeatures(features) {\n        if (!features) {\n            return;\n        }\n        if (!state.features) {\n            state.features = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_FEATURES;\n        }\n        const newFeatures = { ...state.features, ...features };\n        state.features = newFeatures;\n        if (state.features?.pay && state.remoteFeatures) {\n            state.remoteFeatures.email = false;\n            state.remoteFeatures.socials = false;\n        }\n    },\n    setProjectId(projectId) {\n        state.projectId = projectId;\n    },\n    setCustomRpcUrls(customRpcUrls) {\n        state.customRpcUrls = customRpcUrls;\n    },\n    setAllWallets(allWallets) {\n        state.allWallets = allWallets;\n    },\n    setIncludeWalletIds(includeWalletIds) {\n        state.includeWalletIds = includeWalletIds;\n    },\n    setExcludeWalletIds(excludeWalletIds) {\n        state.excludeWalletIds = excludeWalletIds;\n    },\n    setFeaturedWalletIds(featuredWalletIds) {\n        state.featuredWalletIds = featuredWalletIds;\n    },\n    setTokens(tokens) {\n        state.tokens = tokens;\n    },\n    setTermsConditionsUrl(termsConditionsUrl) {\n        state.termsConditionsUrl = termsConditionsUrl;\n    },\n    setPrivacyPolicyUrl(privacyPolicyUrl) {\n        state.privacyPolicyUrl = privacyPolicyUrl;\n    },\n    setCustomWallets(customWallets) {\n        state.customWallets = customWallets;\n    },\n    setIsSiweEnabled(isSiweEnabled) {\n        state.isSiweEnabled = isSiweEnabled;\n    },\n    setIsUniversalProvider(isUniversalProvider) {\n        state.isUniversalProvider = isUniversalProvider;\n    },\n    setSdkVersion(sdkVersion) {\n        state.sdkVersion = sdkVersion;\n    },\n    setMetadata(metadata) {\n        state.metadata = metadata;\n    },\n    setDisableAppend(disableAppend) {\n        state.disableAppend = disableAppend;\n    },\n    setEIP6963Enabled(enableEIP6963) {\n        state.enableEIP6963 = enableEIP6963;\n    },\n    setDebug(debug) {\n        state.debug = debug;\n    },\n    setEnableWalletGuide(enableWalletGuide) {\n        state.enableWalletGuide = enableWalletGuide;\n    },\n    setEnableAuthLogger(enableAuthLogger) {\n        state.enableAuthLogger = enableAuthLogger;\n    },\n    setEnableWallets(enableWallets) {\n        state.enableWallets = enableWallets;\n    },\n    setPreferUniversalLinks(preferUniversalLinks) {\n        state.experimental_preferUniversalLinks = preferUniversalLinks;\n    },\n    setSIWX(siwx) {\n        if (siwx) {\n            for (const [key, isVal] of Object.entries(_utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.SIWX_DEFAULTS)) {\n                /*\n                 * Only writes when siwx[key] is null or undefined\n                 * (use ||= if you only want to check falsy, not recommended here)\n                 */\n                siwx[key] ??= isVal;\n            }\n        }\n        state.siwx = siwx;\n    },\n    setConnectMethodsOrder(connectMethodsOrder) {\n        state.features = {\n            ...state.features,\n            connectMethodsOrder\n        };\n    },\n    setWalletFeaturesOrder(walletFeaturesOrder) {\n        state.features = {\n            ...state.features,\n            walletFeaturesOrder\n        };\n    },\n    setSocialsOrder(socialsOrder) {\n        state.remoteFeatures = {\n            ...state.remoteFeatures,\n            socials: socialsOrder\n        };\n    },\n    setCollapseWallets(collapseWallets) {\n        state.features = {\n            ...state.features,\n            collapseWallets\n        };\n    },\n    setEnableEmbedded(enableEmbedded) {\n        state.enableEmbedded = enableEmbedded;\n    },\n    setAllowUnsupportedChain(allowUnsupportedChain) {\n        state.allowUnsupportedChain = allowUnsupportedChain;\n    },\n    setManualWCControl(manualWCControl) {\n        state.manualWCControl = manualWCControl;\n    },\n    setEnableNetworkSwitch(enableNetworkSwitch) {\n        state.enableNetworkSwitch = enableNetworkSwitch;\n    },\n    setEnableMobileFullScreen(enableMobileFullScreen) {\n        state.enableMobileFullScreen = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.isMobile() && enableMobileFullScreen;\n    },\n    setEnableReconnect(enableReconnect) {\n        state.enableReconnect = enableReconnect;\n    },\n    setCoinbasePreference(coinbasePreference) {\n        state.coinbasePreference = coinbasePreference;\n    },\n    setDefaultAccountTypes(defaultAccountType = {}) {\n        Object.entries(defaultAccountType).forEach(([namespace, accountType]) => {\n            if (accountType) {\n                // @ts-expect-error - Keys are validated by the param type\n                state.defaultAccountTypes[namespace] = accountType;\n            }\n        });\n    },\n    setUniversalProviderConfigOverride(universalProviderConfigOverride) {\n        state.universalProviderConfigOverride = universalProviderConfigOverride;\n    },\n    getUniversalProviderConfigOverride() {\n        return state.universalProviderConfigOverride;\n    },\n    getSnapshot() {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state);\n    }\n};\n//# sourceMappingURL=OptionsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUQ7QUFDYTtBQUNKO0FBQ0U7QUFDTjtBQUN0RDtBQUNBLGNBQWMscURBQUs7QUFDbkIsY0FBYyxrRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0VBQWE7QUFDdEM7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0EsMkNBQTJDLDhEQUFXO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrRUFBYTtBQUMxQztBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzREFBc0Qsa0VBQWE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1Q0FBdUMsb0VBQWM7QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSx3REFBUTtBQUN2QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc25hcHNob3QgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBPcHRpb25zVXRpbCB9IGZyb20gJy4uL3V0aWxzL09wdGlvbnNVdGlsLmpzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgZmVhdHVyZXM6IENvbnN0YW50c1V0aWwuREVGQVVMVF9GRUFUVVJFUyxcbiAgICBwcm9qZWN0SWQ6ICcnLFxuICAgIHNka1R5cGU6ICdhcHBraXQnLFxuICAgIHNka1ZlcnNpb246ICdodG1sLXdhZ21pLXVuZGVmaW5lZCcsXG4gICAgZGVmYXVsdEFjY291bnRUeXBlczogQ29uc3RhbnRzVXRpbC5ERUZBVUxUX0FDQ09VTlRfVFlQRVMsXG4gICAgZW5hYmxlTmV0d29ya1N3aXRjaDogdHJ1ZSxcbiAgICBleHBlcmltZW50YWxfcHJlZmVyVW5pdmVyc2FsTGlua3M6IGZhbHNlLFxuICAgIHJlbW90ZUZlYXR1cmVzOiB7fSxcbiAgICBlbmFibGVNb2JpbGVGdWxsU2NyZWVuOiBmYWxzZSxcbiAgICBjb2luYmFzZVByZWZlcmVuY2U6ICdhbGwnXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IE9wdGlvbnNDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgc2V0UmVtb3RlRmVhdHVyZXMocmVtb3RlRmVhdHVyZXMpIHtcbiAgICAgICAgaWYgKCFyZW1vdGVGZWF0dXJlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1JlbW90ZUZlYXR1cmVzID0geyAuLi5zdGF0ZS5yZW1vdGVGZWF0dXJlcywgLi4ucmVtb3RlRmVhdHVyZXMgfTtcbiAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMgPSBuZXdSZW1vdGVGZWF0dXJlcztcbiAgICAgICAgaWYgKHN0YXRlLnJlbW90ZUZlYXR1cmVzPy5zb2NpYWxzKSB7XG4gICAgICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcy5zb2NpYWxzID0gT3B0aW9uc1V0aWwuZmlsdGVyU29jaWFsc0J5UGxhdGZvcm0oc3RhdGUucmVtb3RlRmVhdHVyZXMuc29jaWFscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZlYXR1cmVzPy5wYXkpIHtcbiAgICAgICAgICAgIHN0YXRlLnJlbW90ZUZlYXR1cmVzLmVtYWlsID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcy5zb2NpYWxzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldEZlYXR1cmVzKGZlYXR1cmVzKSB7XG4gICAgICAgIGlmICghZmVhdHVyZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0YXRlLmZlYXR1cmVzKSB7XG4gICAgICAgICAgICBzdGF0ZS5mZWF0dXJlcyA9IENvbnN0YW50c1V0aWwuREVGQVVMVF9GRUFUVVJFUztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdGZWF0dXJlcyA9IHsgLi4uc3RhdGUuZmVhdHVyZXMsIC4uLmZlYXR1cmVzIH07XG4gICAgICAgIHN0YXRlLmZlYXR1cmVzID0gbmV3RmVhdHVyZXM7XG4gICAgICAgIGlmIChzdGF0ZS5mZWF0dXJlcz8ucGF5ICYmIHN0YXRlLnJlbW90ZUZlYXR1cmVzKSB7XG4gICAgICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcy5lbWFpbCA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUucmVtb3RlRmVhdHVyZXMuc29jaWFscyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRQcm9qZWN0SWQocHJvamVjdElkKSB7XG4gICAgICAgIHN0YXRlLnByb2plY3RJZCA9IHByb2plY3RJZDtcbiAgICB9LFxuICAgIHNldEN1c3RvbVJwY1VybHMoY3VzdG9tUnBjVXJscykge1xuICAgICAgICBzdGF0ZS5jdXN0b21ScGNVcmxzID0gY3VzdG9tUnBjVXJscztcbiAgICB9LFxuICAgIHNldEFsbFdhbGxldHMoYWxsV2FsbGV0cykge1xuICAgICAgICBzdGF0ZS5hbGxXYWxsZXRzID0gYWxsV2FsbGV0cztcbiAgICB9LFxuICAgIHNldEluY2x1ZGVXYWxsZXRJZHMoaW5jbHVkZVdhbGxldElkcykge1xuICAgICAgICBzdGF0ZS5pbmNsdWRlV2FsbGV0SWRzID0gaW5jbHVkZVdhbGxldElkcztcbiAgICB9LFxuICAgIHNldEV4Y2x1ZGVXYWxsZXRJZHMoZXhjbHVkZVdhbGxldElkcykge1xuICAgICAgICBzdGF0ZS5leGNsdWRlV2FsbGV0SWRzID0gZXhjbHVkZVdhbGxldElkcztcbiAgICB9LFxuICAgIHNldEZlYXR1cmVkV2FsbGV0SWRzKGZlYXR1cmVkV2FsbGV0SWRzKSB7XG4gICAgICAgIHN0YXRlLmZlYXR1cmVkV2FsbGV0SWRzID0gZmVhdHVyZWRXYWxsZXRJZHM7XG4gICAgfSxcbiAgICBzZXRUb2tlbnModG9rZW5zKSB7XG4gICAgICAgIHN0YXRlLnRva2VucyA9IHRva2VucztcbiAgICB9LFxuICAgIHNldFRlcm1zQ29uZGl0aW9uc1VybCh0ZXJtc0NvbmRpdGlvbnNVcmwpIHtcbiAgICAgICAgc3RhdGUudGVybXNDb25kaXRpb25zVXJsID0gdGVybXNDb25kaXRpb25zVXJsO1xuICAgIH0sXG4gICAgc2V0UHJpdmFjeVBvbGljeVVybChwcml2YWN5UG9saWN5VXJsKSB7XG4gICAgICAgIHN0YXRlLnByaXZhY3lQb2xpY3lVcmwgPSBwcml2YWN5UG9saWN5VXJsO1xuICAgIH0sXG4gICAgc2V0Q3VzdG9tV2FsbGV0cyhjdXN0b21XYWxsZXRzKSB7XG4gICAgICAgIHN0YXRlLmN1c3RvbVdhbGxldHMgPSBjdXN0b21XYWxsZXRzO1xuICAgIH0sXG4gICAgc2V0SXNTaXdlRW5hYmxlZChpc1Npd2VFbmFibGVkKSB7XG4gICAgICAgIHN0YXRlLmlzU2l3ZUVuYWJsZWQgPSBpc1Npd2VFbmFibGVkO1xuICAgIH0sXG4gICAgc2V0SXNVbml2ZXJzYWxQcm92aWRlcihpc1VuaXZlcnNhbFByb3ZpZGVyKSB7XG4gICAgICAgIHN0YXRlLmlzVW5pdmVyc2FsUHJvdmlkZXIgPSBpc1VuaXZlcnNhbFByb3ZpZGVyO1xuICAgIH0sXG4gICAgc2V0U2RrVmVyc2lvbihzZGtWZXJzaW9uKSB7XG4gICAgICAgIHN0YXRlLnNka1ZlcnNpb24gPSBzZGtWZXJzaW9uO1xuICAgIH0sXG4gICAgc2V0TWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgc3RhdGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICB9LFxuICAgIHNldERpc2FibGVBcHBlbmQoZGlzYWJsZUFwcGVuZCkge1xuICAgICAgICBzdGF0ZS5kaXNhYmxlQXBwZW5kID0gZGlzYWJsZUFwcGVuZDtcbiAgICB9LFxuICAgIHNldEVJUDY5NjNFbmFibGVkKGVuYWJsZUVJUDY5NjMpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlRUlQNjk2MyA9IGVuYWJsZUVJUDY5NjM7XG4gICAgfSxcbiAgICBzZXREZWJ1ZyhkZWJ1Zykge1xuICAgICAgICBzdGF0ZS5kZWJ1ZyA9IGRlYnVnO1xuICAgIH0sXG4gICAgc2V0RW5hYmxlV2FsbGV0R3VpZGUoZW5hYmxlV2FsbGV0R3VpZGUpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlV2FsbGV0R3VpZGUgPSBlbmFibGVXYWxsZXRHdWlkZTtcbiAgICB9LFxuICAgIHNldEVuYWJsZUF1dGhMb2dnZXIoZW5hYmxlQXV0aExvZ2dlcikge1xuICAgICAgICBzdGF0ZS5lbmFibGVBdXRoTG9nZ2VyID0gZW5hYmxlQXV0aExvZ2dlcjtcbiAgICB9LFxuICAgIHNldEVuYWJsZVdhbGxldHMoZW5hYmxlV2FsbGV0cykge1xuICAgICAgICBzdGF0ZS5lbmFibGVXYWxsZXRzID0gZW5hYmxlV2FsbGV0cztcbiAgICB9LFxuICAgIHNldFByZWZlclVuaXZlcnNhbExpbmtzKHByZWZlclVuaXZlcnNhbExpbmtzKSB7XG4gICAgICAgIHN0YXRlLmV4cGVyaW1lbnRhbF9wcmVmZXJVbml2ZXJzYWxMaW5rcyA9IHByZWZlclVuaXZlcnNhbExpbmtzO1xuICAgIH0sXG4gICAgc2V0U0lXWChzaXd4KSB7XG4gICAgICAgIGlmIChzaXd4KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGlzVmFsXSBvZiBPYmplY3QuZW50cmllcyhDb25zdGFudHNVdGlsLlNJV1hfREVGQVVMVFMpKSB7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgKiBPbmx5IHdyaXRlcyB3aGVuIHNpd3hba2V5XSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAqICh1c2UgfHw9IGlmIHlvdSBvbmx5IHdhbnQgdG8gY2hlY2sg4oCcZmFsc3nigJ0sIG5vdCByZWNvbW1lbmRlZCBoZXJlKVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNpd3hba2V5XSA/Pz0gaXNWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuc2l3eCA9IHNpd3g7XG4gICAgfSxcbiAgICBzZXRDb25uZWN0TWV0aG9kc09yZGVyKGNvbm5lY3RNZXRob2RzT3JkZXIpIHtcbiAgICAgICAgc3RhdGUuZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5mZWF0dXJlcyxcbiAgICAgICAgICAgIGNvbm5lY3RNZXRob2RzT3JkZXJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNldFdhbGxldEZlYXR1cmVzT3JkZXIod2FsbGV0RmVhdHVyZXNPcmRlcikge1xuICAgICAgICBzdGF0ZS5mZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLmZlYXR1cmVzLFxuICAgICAgICAgICAgd2FsbGV0RmVhdHVyZXNPcmRlclxuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2V0U29jaWFsc09yZGVyKHNvY2lhbHNPcmRlcikge1xuICAgICAgICBzdGF0ZS5yZW1vdGVGZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnJlbW90ZUZlYXR1cmVzLFxuICAgICAgICAgICAgc29jaWFsczogc29jaWFsc09yZGVyXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXRDb2xsYXBzZVdhbGxldHMoY29sbGFwc2VXYWxsZXRzKSB7XG4gICAgICAgIHN0YXRlLmZlYXR1cmVzID0ge1xuICAgICAgICAgICAgLi4uc3RhdGUuZmVhdHVyZXMsXG4gICAgICAgICAgICBjb2xsYXBzZVdhbGxldHNcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNldEVuYWJsZUVtYmVkZGVkKGVuYWJsZUVtYmVkZGVkKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZUVtYmVkZGVkID0gZW5hYmxlRW1iZWRkZWQ7XG4gICAgfSxcbiAgICBzZXRBbGxvd1Vuc3VwcG9ydGVkQ2hhaW4oYWxsb3dVbnN1cHBvcnRlZENoYWluKSB7XG4gICAgICAgIHN0YXRlLmFsbG93VW5zdXBwb3J0ZWRDaGFpbiA9IGFsbG93VW5zdXBwb3J0ZWRDaGFpbjtcbiAgICB9LFxuICAgIHNldE1hbnVhbFdDQ29udHJvbChtYW51YWxXQ0NvbnRyb2wpIHtcbiAgICAgICAgc3RhdGUubWFudWFsV0NDb250cm9sID0gbWFudWFsV0NDb250cm9sO1xuICAgIH0sXG4gICAgc2V0RW5hYmxlTmV0d29ya1N3aXRjaChlbmFibGVOZXR3b3JrU3dpdGNoKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZU5ldHdvcmtTd2l0Y2ggPSBlbmFibGVOZXR3b3JrU3dpdGNoO1xuICAgIH0sXG4gICAgc2V0RW5hYmxlTW9iaWxlRnVsbFNjcmVlbihlbmFibGVNb2JpbGVGdWxsU2NyZWVuKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZU1vYmlsZUZ1bGxTY3JlZW4gPSBDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpICYmIGVuYWJsZU1vYmlsZUZ1bGxTY3JlZW47XG4gICAgfSxcbiAgICBzZXRFbmFibGVSZWNvbm5lY3QoZW5hYmxlUmVjb25uZWN0KSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZVJlY29ubmVjdCA9IGVuYWJsZVJlY29ubmVjdDtcbiAgICB9LFxuICAgIHNldENvaW5iYXNlUHJlZmVyZW5jZShjb2luYmFzZVByZWZlcmVuY2UpIHtcbiAgICAgICAgc3RhdGUuY29pbmJhc2VQcmVmZXJlbmNlID0gY29pbmJhc2VQcmVmZXJlbmNlO1xuICAgIH0sXG4gICAgc2V0RGVmYXVsdEFjY291bnRUeXBlcyhkZWZhdWx0QWNjb3VudFR5cGUgPSB7fSkge1xuICAgICAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0QWNjb3VudFR5cGUpLmZvckVhY2goKFtuYW1lc3BhY2UsIGFjY291bnRUeXBlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjY291bnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIEtleXMgYXJlIHZhbGlkYXRlZCBieSB0aGUgcGFyYW0gdHlwZVxuICAgICAgICAgICAgICAgIHN0YXRlLmRlZmF1bHRBY2NvdW50VHlwZXNbbmFtZXNwYWNlXSA9IGFjY291bnRUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldFVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUodW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZSkge1xuICAgICAgICBzdGF0ZS51bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlID0gdW5pdmVyc2FsUHJvdmlkZXJDb25maWdPdmVycmlkZTtcbiAgICB9LFxuICAgIGdldFVuaXZlcnNhbFByb3ZpZGVyQ29uZmlnT3ZlcnJpZGUoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS51bml2ZXJzYWxQcm92aWRlckNvbmZpZ092ZXJyaWRlO1xuICAgIH0sXG4gICAgZ2V0U25hcHNob3QoKSB7XG4gICAgICAgIHJldHVybiBzbmFwc2hvdChzdGF0ZSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wdGlvbnNDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js":
/*!*******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js ***!
  \*******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProviderController: () => (/* binding */ ProviderController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n\n\nconst CLEAN_PROVIDERS_STATE = {\n    eip155: undefined,\n    solana: undefined,\n    polkadot: undefined,\n    bip122: undefined,\n    cosmos: undefined,\n    sui: undefined,\n    stacks: undefined,\n    ton: undefined\n};\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    providers: { ...CLEAN_PROVIDERS_STATE },\n    providerIds: { ...CLEAN_PROVIDERS_STATE }\n});\nconst ProviderController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => {\n            callback(state);\n        });\n    },\n    subscribeProviders(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state.providers, () => callback(state.providers));\n    },\n    setProvider(chainNamespace, provider) {\n        if (chainNamespace && provider) {\n            state.providers[chainNamespace] = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(provider);\n        }\n    },\n    getProvider(chainNamespace) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        return state.providers[chainNamespace];\n    },\n    setProviderId(chainNamespace, providerId) {\n        if (providerId) {\n            state.providerIds[chainNamespace] = providerId;\n        }\n    },\n    getProviderId(chainNamespace) {\n        if (!chainNamespace) {\n            return undefined;\n        }\n        return state.providerIds[chainNamespace];\n    },\n    reset() {\n        state.providers = { ...CLEAN_PROVIDERS_STATE };\n        state.providerIds = { ...CLEAN_PROVIDERS_STATE };\n    },\n    resetChain(chainNamespace) {\n        state.providers[chainNamespace] = undefined;\n        state.providerIds[chainNamespace] = undefined;\n    }\n};\n//# sourceMappingURL=ProviderController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Qcm92aWRlckNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ087QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CLGlCQUFpQiwwQkFBMEI7QUFDM0MsbUJBQW1CO0FBQ25CLENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLGVBQWUseURBQVM7QUFDeEI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsZUFBZSx5REFBUztBQUN4QixLQUFLO0FBQ0w7QUFDQTtBQUNBLDhDQUE4QyxtREFBRztBQUNqRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEI7QUFDNUIsOEJBQThCO0FBQzlCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Qcm92aWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHJlZiwgc3Vic2NyaWJlIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmNvbnN0IENMRUFOX1BST1ZJREVSU19TVEFURSA9IHtcbiAgICBlaXAxNTU6IHVuZGVmaW5lZCxcbiAgICBzb2xhbmE6IHVuZGVmaW5lZCxcbiAgICBwb2xrYWRvdDogdW5kZWZpbmVkLFxuICAgIGJpcDEyMjogdW5kZWZpbmVkLFxuICAgIGNvc21vczogdW5kZWZpbmVkLFxuICAgIHN1aTogdW5kZWZpbmVkLFxuICAgIHN0YWNrczogdW5kZWZpbmVkLFxuICAgIHRvbjogdW5kZWZpbmVkXG59O1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgcHJvdmlkZXJzOiB7IC4uLkNMRUFOX1BST1ZJREVSU19TVEFURSB9LFxuICAgIHByb3ZpZGVySWRzOiB7IC4uLkNMRUFOX1BST1ZJREVSU19TVEFURSB9XG59KTtcbmV4cG9ydCBjb25zdCBQcm92aWRlckNvbnRyb2xsZXIgPSB7XG4gICAgc3RhdGUsXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZShzdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHN1YnNjcmliZVByb3ZpZGVycyhjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlKHN0YXRlLnByb3ZpZGVycywgKCkgPT4gY2FsbGJhY2soc3RhdGUucHJvdmlkZXJzKSk7XG4gICAgfSxcbiAgICBzZXRQcm92aWRlcihjaGFpbk5hbWVzcGFjZSwgcHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKGNoYWluTmFtZXNwYWNlICYmIHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBzdGF0ZS5wcm92aWRlcnNbY2hhaW5OYW1lc3BhY2VdID0gcmVmKHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UHJvdmlkZXIoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUucHJvdmlkZXJzW2NoYWluTmFtZXNwYWNlXTtcbiAgICB9LFxuICAgIHNldFByb3ZpZGVySWQoY2hhaW5OYW1lc3BhY2UsIHByb3ZpZGVySWQpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVySWQpIHtcbiAgICAgICAgICAgIHN0YXRlLnByb3ZpZGVySWRzW2NoYWluTmFtZXNwYWNlXSA9IHByb3ZpZGVySWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFByb3ZpZGVySWQoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUucHJvdmlkZXJJZHNbY2hhaW5OYW1lc3BhY2VdO1xuICAgIH0sXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHN0YXRlLnByb3ZpZGVycyA9IHsgLi4uQ0xFQU5fUFJPVklERVJTX1NUQVRFIH07XG4gICAgICAgIHN0YXRlLnByb3ZpZGVySWRzID0geyAuLi5DTEVBTl9QUk9WSURFUlNfU1RBVEUgfTtcbiAgICB9LFxuICAgIHJlc2V0Q2hhaW4oY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgc3RhdGUucHJvdmlkZXJzW2NoYWluTmFtZXNwYWNlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUucHJvdmlkZXJJZHNbY2hhaW5OYW1lc3BhY2VdID0gdW5kZWZpbmVkO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm92aWRlckNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ProviderController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js":
/*!**********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js ***!
  \**********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicStateController: () => (/* binding */ PublicStateController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    loading: false,\n    open: false,\n    selectedNetworkId: undefined,\n    activeChain: undefined,\n    initialized: false,\n    connectingWallet: undefined\n});\n// -- Controller ---------------------------------------- //\nconst PublicStateController = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeOpen(callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, 'open', callback);\n    },\n    set(newState) {\n        Object.assign(state, { ...state, ...newState });\n    }\n};\n//# sourceMappingURL=PublicStateController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9QdWJsaWNTdGF0ZUNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXlEO0FBQ0w7QUFDcEQ7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBWTtBQUMzQixLQUFLO0FBQ0w7QUFDQSwrQkFBK0IsdUJBQXVCO0FBQ3REO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1B1YmxpY1N0YXRlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc3Vic2NyaWJlIGFzIHN1YiB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgb3BlbjogZmFsc2UsXG4gICAgc2VsZWN0ZWROZXR3b3JrSWQ6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmVDaGFpbjogdW5kZWZpbmVkLFxuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICBjb25uZWN0aW5nV2FsbGV0OiB1bmRlZmluZWRcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgUHVibGljU3RhdGVDb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlT3BlbihjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlS2V5KHN0YXRlLCAnb3BlbicsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNldChuZXdTdGF0ZSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKHN0YXRlLCB7IC4uLnN0YXRlLCAuLi5uZXdTdGF0ZSB9KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHVibGljU3RhdGVDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/PublicStateController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js":
/*!*****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js ***!
  \*****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterController: () => (/* binding */ RouterController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ApiController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ModalController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n\n\n\n// -- Constants --------------------------------------------- //\nconst RESTRICTED_VIEWS_BASED_ON_USAGE = [\n    'ConnectingExternal',\n    'ConnectingMultiChain',\n    'ConnectingSocial',\n    'ConnectingFarcaster'\n];\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    view: 'Connect',\n    history: ['Connect'],\n    transactionStack: []\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    pushTransactionStack(action) {\n        state.transactionStack.push(action);\n    },\n    popTransactionStack(status) {\n        const action = state.transactionStack.pop();\n        if (!action) {\n            return;\n        }\n        const { onSuccess, onError, onCancel } = action;\n        switch (status) {\n            case 'success':\n                onSuccess?.();\n                break;\n            case 'error':\n                onError?.();\n                RouterController.goBack();\n                break;\n            case 'cancel':\n                onCancel?.();\n                RouterController.goBack();\n                break;\n            default:\n        }\n    },\n    push(view, data) {\n        let finalView = view;\n        let finalData = data;\n        if (_ApiController_js__WEBPACK_IMPORTED_MODULE_2__.ApiController.state.plan.hasExceededUsageLimit &&\n            RESTRICTED_VIEWS_BASED_ON_USAGE.includes(view)) {\n            finalView = 'UsageExceeded';\n            finalData = undefined;\n        }\n        if (finalView !== state.view) {\n            state.view = finalView;\n            state.history.push(finalView);\n            state.data = finalData;\n        }\n    },\n    reset(view, data) {\n        state.view = view;\n        state.history = [view];\n        state.data = data;\n    },\n    replace(view, data) {\n        const lastView = state.history.at(-1);\n        const isSameView = lastView === view;\n        if (!isSameView) {\n            state.view = view;\n            state.history[state.history.length - 1] = view;\n            state.data = data;\n        }\n    },\n    goBack() {\n        const isConnected = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipAddress;\n        const isFarcasterView = RouterController.state.view === 'ConnectingFarcaster';\n        const shouldReload = !isConnected && isFarcasterView;\n        if (state.history.length > 1) {\n            state.history.pop();\n            const [last] = state.history.slice(-1);\n            if (last) {\n                const isConnectView = last === 'Connect';\n                if (isConnected && isConnectView) {\n                    state.view = 'Account';\n                }\n                else {\n                    state.view = last;\n                }\n            }\n        }\n        else {\n            _ModalController_js__WEBPACK_IMPORTED_MODULE_4__.ModalController.close();\n        }\n        if (state.data?.wallet) {\n            state.data.wallet = undefined;\n        }\n        if (state.data?.redirectView) {\n            state.data.redirectView = undefined;\n        }\n        // Reloading the iframe contentwindow and doing the view animation in the modal causes a small freeze in the transition. Doing these separately fixes that.\n        setTimeout(() => {\n            if (shouldReload) {\n                _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.setAccountProp('farcasterUrl', undefined, _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n                const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectorController.getAuthConnector();\n                authConnector?.provider?.reload();\n                const optionsState = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(_OptionsController_js__WEBPACK_IMPORTED_MODULE_6__.OptionsController.state);\n                authConnector?.provider?.syncDappData?.({\n                    metadata: optionsState.metadata,\n                    sdkVersion: optionsState.sdkVersion,\n                    projectId: optionsState.projectId,\n                    sdkType: optionsState.sdkType\n                });\n            }\n        }, 100);\n    },\n    goBackToIndex(historyIndex) {\n        if (state.history.length > 1) {\n            state.history = state.history.slice(0, historyIndex + 1);\n            const [last] = state.history.slice(-1);\n            if (last) {\n                state.view = last;\n            }\n        }\n    },\n    goBackOrCloseModal() {\n        if (RouterController.state.history.length > 1) {\n            RouterController.goBack();\n        }\n        else {\n            _ModalController_js__WEBPACK_IMPORTED_MODULE_4__.ModalController.close();\n        }\n    }\n};\n// Export the controller wrapped with our error boundary\nconst RouterController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_7__.withErrorBoundary)(controller);\n//# sourceMappingURL=RouterController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFpRDtBQUNhO0FBQ0k7QUFDZjtBQUNJO0FBQ1E7QUFDUjtBQUNJO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQkFBK0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGdFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRUFBZSwyQ0FBMkMsZ0VBQWU7QUFDekYsc0NBQXNDLHdFQUFtQjtBQUN6RDtBQUNBLHFDQUFxQyx3REFBUSxDQUFDLG9FQUFpQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLDhFQUFpQjtBQUNqRCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHNuYXBzaG90IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4vQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE1vZGFsQ29udHJvbGxlciB9IGZyb20gJy4vTW9kYWxDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG4vLyAtLSBDb25zdGFudHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBSRVNUUklDVEVEX1ZJRVdTX0JBU0VEX09OX1VTQUdFID0gW1xuICAgICdDb25uZWN0aW5nRXh0ZXJuYWwnLFxuICAgICdDb25uZWN0aW5nTXVsdGlDaGFpbicsXG4gICAgJ0Nvbm5lY3RpbmdTb2NpYWwnLFxuICAgICdDb25uZWN0aW5nRmFyY2FzdGVyJ1xuXTtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgdmlldzogJ0Nvbm5lY3QnLFxuICAgIGhpc3Rvcnk6IFsnQ29ubmVjdCddLFxuICAgIHRyYW5zYWN0aW9uU3RhY2s6IFtdXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHB1c2hUcmFuc2FjdGlvblN0YWNrKGFjdGlvbikge1xuICAgICAgICBzdGF0ZS50cmFuc2FjdGlvblN0YWNrLnB1c2goYWN0aW9uKTtcbiAgICB9LFxuICAgIHBvcFRyYW5zYWN0aW9uU3RhY2soc3RhdHVzKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHN0YXRlLnRyYW5zYWN0aW9uU3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBvblN1Y2Nlc3MsIG9uRXJyb3IsIG9uQ2FuY2VsIH0gPSBhY3Rpb247XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3M/LigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgIG9uRXJyb3I/LigpO1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjYW5jZWwnOlxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPy4oKTtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcHVzaCh2aWV3LCBkYXRhKSB7XG4gICAgICAgIGxldCBmaW5hbFZpZXcgPSB2aWV3O1xuICAgICAgICBsZXQgZmluYWxEYXRhID0gZGF0YTtcbiAgICAgICAgaWYgKEFwaUNvbnRyb2xsZXIuc3RhdGUucGxhbi5oYXNFeGNlZWRlZFVzYWdlTGltaXQgJiZcbiAgICAgICAgICAgIFJFU1RSSUNURURfVklFV1NfQkFTRURfT05fVVNBR0UuaW5jbHVkZXModmlldykpIHtcbiAgICAgICAgICAgIGZpbmFsVmlldyA9ICdVc2FnZUV4Y2VlZGVkJztcbiAgICAgICAgICAgIGZpbmFsRGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluYWxWaWV3ICE9PSBzdGF0ZS52aWV3KSB7XG4gICAgICAgICAgICBzdGF0ZS52aWV3ID0gZmluYWxWaWV3O1xuICAgICAgICAgICAgc3RhdGUuaGlzdG9yeS5wdXNoKGZpbmFsVmlldyk7XG4gICAgICAgICAgICBzdGF0ZS5kYXRhID0gZmluYWxEYXRhO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXNldCh2aWV3LCBkYXRhKSB7XG4gICAgICAgIHN0YXRlLnZpZXcgPSB2aWV3O1xuICAgICAgICBzdGF0ZS5oaXN0b3J5ID0gW3ZpZXddO1xuICAgICAgICBzdGF0ZS5kYXRhID0gZGF0YTtcbiAgICB9LFxuICAgIHJlcGxhY2UodmlldywgZGF0YSkge1xuICAgICAgICBjb25zdCBsYXN0VmlldyA9IHN0YXRlLmhpc3RvcnkuYXQoLTEpO1xuICAgICAgICBjb25zdCBpc1NhbWVWaWV3ID0gbGFzdFZpZXcgPT09IHZpZXc7XG4gICAgICAgIGlmICghaXNTYW1lVmlldykge1xuICAgICAgICAgICAgc3RhdGUudmlldyA9IHZpZXc7XG4gICAgICAgICAgICBzdGF0ZS5oaXN0b3J5W3N0YXRlLmhpc3RvcnkubGVuZ3RoIC0gMV0gPSB2aWV3O1xuICAgICAgICAgICAgc3RhdGUuZGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdvQmFjaygpIHtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGlzRmFyY2FzdGVyVmlldyA9IFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyA9PT0gJ0Nvbm5lY3RpbmdGYXJjYXN0ZXInO1xuICAgICAgICBjb25zdCBzaG91bGRSZWxvYWQgPSAhaXNDb25uZWN0ZWQgJiYgaXNGYXJjYXN0ZXJWaWV3O1xuICAgICAgICBpZiAoc3RhdGUuaGlzdG9yeS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBzdGF0ZS5oaXN0b3J5LnBvcCgpO1xuICAgICAgICAgICAgY29uc3QgW2xhc3RdID0gc3RhdGUuaGlzdG9yeS5zbGljZSgtMSk7XG4gICAgICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29ubmVjdFZpZXcgPSBsYXN0ID09PSAnQ29ubmVjdCc7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29ubmVjdGVkICYmIGlzQ29ubmVjdFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmlldyA9ICdBY2NvdW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnZpZXcgPSBsYXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5kYXRhPy53YWxsZXQpIHtcbiAgICAgICAgICAgIHN0YXRlLmRhdGEud2FsbGV0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5kYXRhPy5yZWRpcmVjdFZpZXcpIHtcbiAgICAgICAgICAgIHN0YXRlLmRhdGEucmVkaXJlY3RWaWV3ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbG9hZGluZyB0aGUgaWZyYW1lIGNvbnRlbnR3aW5kb3cgYW5kIGRvaW5nIHRoZSB2aWV3IGFuaW1hdGlvbiBpbiB0aGUgbW9kYWwgY2F1c2VzIGEgc21hbGwgZnJlZXplIGluIHRoZSB0cmFuc2l0aW9uLiBEb2luZyB0aGVzZSBzZXBhcmF0ZWx5IGZpeGVzIHRoYXQuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlbG9hZCkge1xuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgnZmFyY2FzdGVyVXJsJywgdW5kZWZpbmVkLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgICAgICAgICBhdXRoQ29ubmVjdG9yPy5wcm92aWRlcj8ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uc1N0YXRlID0gc25hcHNob3QoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUpO1xuICAgICAgICAgICAgICAgIGF1dGhDb25uZWN0b3I/LnByb3ZpZGVyPy5zeW5jRGFwcERhdGE/Lih7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBvcHRpb25zU3RhdGUubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHNka1ZlcnNpb246IG9wdGlvbnNTdGF0ZS5zZGtWZXJzaW9uLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IG9wdGlvbnNTdGF0ZS5wcm9qZWN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHNka1R5cGU6IG9wdGlvbnNTdGF0ZS5zZGtUeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfSxcbiAgICBnb0JhY2tUb0luZGV4KGhpc3RvcnlJbmRleCkge1xuICAgICAgICBpZiAoc3RhdGUuaGlzdG9yeS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBzdGF0ZS5oaXN0b3J5ID0gc3RhdGUuaGlzdG9yeS5zbGljZSgwLCBoaXN0b3J5SW5kZXggKyAxKTtcbiAgICAgICAgICAgIGNvbnN0IFtsYXN0XSA9IHN0YXRlLmhpc3Rvcnkuc2xpY2UoLTEpO1xuICAgICAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52aWV3ID0gbGFzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ29CYWNrT3JDbG9zZU1vZGFsKCkge1xuICAgICAgICBpZiAoUm91dGVyQ29udHJvbGxlci5zdGF0ZS5oaXN0b3J5Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IFJvdXRlckNvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdXRlckNvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js":
/*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js ***!
  \***************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SendController: () => (/* binding */ SendController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ErrorUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ContractUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/SwapApiUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    tokenBalances: [],\n    loading: false\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    setToken(token) {\n        if (token) {\n            state.token = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.ref)(token);\n        }\n    },\n    setTokenAmount(sendTokenAmount) {\n        state.sendTokenAmount = sendTokenAmount;\n    },\n    setReceiverAddress(receiverAddress) {\n        state.receiverAddress = receiverAddress;\n    },\n    setReceiverProfileImageUrl(receiverProfileImageUrl) {\n        state.receiverProfileImageUrl = receiverProfileImageUrl;\n    },\n    setReceiverProfileName(receiverProfileName) {\n        state.receiverProfileName = receiverProfileName;\n    },\n    setNetworkBalanceInUsd(networkBalanceInUSD) {\n        state.networkBalanceInUSD = networkBalanceInUSD;\n    },\n    setLoading(loading) {\n        state.loading = loading;\n    },\n    getSdkEventProperties(error) {\n        return {\n            message: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(error),\n            isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)(_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain) ===\n                _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n            token: state.token?.symbol || '',\n            amount: state.sendTokenAmount ?? 0,\n            network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n        };\n    },\n    async sendToken() {\n        try {\n            SendController.setLoading(true);\n            switch (_ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.chainNamespace) {\n                case 'eip155':\n                    await SendController.sendEvmToken();\n                    return;\n                case 'solana':\n                    await SendController.sendSolanaToken();\n                    return;\n                default:\n                    throw new Error('Unsupported chain');\n            }\n        }\n        catch (err) {\n            if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ErrorUtil.isUserRejectedRequestError(err)) {\n                throw new _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.UserRejectedRequestError(err);\n            }\n            throw err;\n        }\n        finally {\n            SendController.setLoading(false);\n        }\n    },\n    async sendEvmToken() {\n        const activeChainNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain;\n        if (!activeChainNamespace) {\n            throw new Error('SendController:sendEvmToken - activeChainNamespace is required');\n        }\n        const activeAccountType = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)(activeChainNamespace);\n        if (!SendController.state.sendTokenAmount || !SendController.state.receiverAddress) {\n            throw new Error('An amount and receiver address are required');\n        }\n        if (!SendController.state.token) {\n            throw new Error('A token is required');\n        }\n        if (SendController.state.token?.address) {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_INITIATED',\n                properties: {\n                    isSmartAccount: activeAccountType === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token.address,\n                    amount: SendController.state.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n                }\n            });\n            const { hash } = await SendController.sendERC20Token({\n                receiverAddress: SendController.state.receiverAddress,\n                tokenAddress: SendController.state.token.address,\n                sendTokenAmount: SendController.state.sendTokenAmount,\n                decimals: SendController.state.token.quantity.decimals\n            });\n            if (hash) {\n                state.hash = hash;\n            }\n        }\n        else {\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_INITIATED',\n                properties: {\n                    isSmartAccount: activeAccountType === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token.symbol || '',\n                    amount: SendController.state.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || ''\n                }\n            });\n            const { hash } = await SendController.sendNativeToken({\n                receiverAddress: SendController.state.receiverAddress,\n                sendTokenAmount: SendController.state.sendTokenAmount,\n                decimals: SendController.state.token.quantity.decimals\n            });\n            if (hash) {\n                state.hash = hash;\n            }\n        }\n    },\n    async fetchTokenBalance(onError) {\n        state.loading = true;\n        const namespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeChain;\n        const chainId = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const chain = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.chainNamespace;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData(namespace)?.caipAddress ??\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipAddress;\n        const address = caipAddress ? _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(caipAddress) : undefined;\n        if (state.lastRetry &&\n            !_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isAllowedRetry(state.lastRetry, 30 * _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.ONE_SEC_MS)) {\n            state.loading = false;\n            return [];\n        }\n        try {\n            if (address && chainId && chain) {\n                const balances = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_9__.BalanceUtil.getMyTokensWithBalance();\n                state.tokenBalances = balances;\n                state.lastRetry = undefined;\n                return balances;\n            }\n        }\n        catch (error) {\n            state.lastRetry = Date.now();\n            onError?.(error);\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_10__.SnackController.showError('Token Balance Unavailable');\n        }\n        finally {\n            state.loading = false;\n        }\n        return [];\n    },\n    fetchNetworkBalance() {\n        if (state.tokenBalances.length === 0) {\n            return;\n        }\n        const networkTokenBalances = _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.mapBalancesToSwapTokens(state.tokenBalances);\n        if (!networkTokenBalances) {\n            return;\n        }\n        const networkToken = networkTokenBalances.find(token => token.address === (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getActiveNetworkTokenAddress)());\n        if (!networkToken) {\n            return;\n        }\n        state.networkBalanceInUSD = networkToken\n            ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString()\n            : '0';\n    },\n    async sendNativeToken(params) {\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({});\n        const to = params.receiverAddress;\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n        const value = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));\n        const data = '0x';\n        const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.sendTransaction({\n            chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ConstantsUtil.CHAIN.EVM,\n            to,\n            address,\n            data,\n            value: value ?? BigInt(0)\n        });\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEND_SUCCESS',\n            properties: {\n                isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)('eip155') === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                token: SendController.state.token?.symbol || '',\n                amount: params.sendTokenAmount,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                hash: hash || ''\n            }\n        });\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController._getClient()?.updateBalance('eip155');\n        SendController.resetSend();\n        return { hash };\n    },\n    async sendERC20Token(params) {\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({\n            onSuccess() {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.replace('Account');\n            }\n        });\n        const amount = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.parseUnits(params.sendTokenAmount.toString(), Number(params.decimals));\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.getAccountData()?.address;\n        if (address && params.sendTokenAmount && params.receiverAddress && params.tokenAddress) {\n            const tokenAddress = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(params.tokenAddress);\n            if (!tokenAddress) {\n                throw new Error('SendController:sendERC20Token - tokenAddress is required');\n            }\n            const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.writeContract({\n                fromAddress: address,\n                tokenAddress,\n                args: [params.receiverAddress, amount ?? BigInt(0)],\n                method: 'transfer',\n                abi: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_16__.ContractUtil.getERC20Abi(tokenAddress),\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_15__.ConstantsUtil.CHAIN.EVM\n            });\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SEND_SUCCESS',\n                properties: {\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_3__.getPreferredAccountType)('eip155') === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_5__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n                    token: SendController.state.token?.symbol || '',\n                    amount: params.sendTokenAmount,\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    hash: hash || ''\n                }\n            });\n            SendController.resetSend();\n            return { hash };\n        }\n        return { hash: undefined };\n    },\n    async sendSolanaToken() {\n        if (!SendController.state.sendTokenAmount || !SendController.state.receiverAddress) {\n            throw new Error('An amount and receiver address are required');\n        }\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.pushTransactionStack({\n            onSuccess() {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_13__.RouterController.replace('Account');\n            }\n        });\n        let tokenMint = undefined;\n        if (SendController.state.token &&\n            SendController.state.token.address !== _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS) {\n            if (_utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isCaipAddress(SendController.state.token.address)) {\n                tokenMint = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.getPlainAddress(SendController.state.token.address);\n            }\n            else {\n                tokenMint = SendController.state.token.address;\n            }\n        }\n        const hash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController.sendTransaction({\n            chainNamespace: 'solana',\n            tokenMint,\n            to: SendController.state.receiverAddress,\n            value: SendController.state.sendTokenAmount\n        });\n        if (hash) {\n            state.hash = hash;\n        }\n        _ConnectionController_js__WEBPACK_IMPORTED_MODULE_14__.ConnectionController._getClient()?.updateBalance('solana');\n        _EventsController_js__WEBPACK_IMPORTED_MODULE_7__.EventsController.sendEvent({\n            type: 'track',\n            event: 'SEND_SUCCESS',\n            properties: {\n                isSmartAccount: false,\n                token: SendController.state.token?.symbol || '',\n                amount: SendController.state.sendTokenAmount,\n                network: _ChainController_js__WEBPACK_IMPORTED_MODULE_4__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                hash: hash || ''\n            }\n        });\n        SendController.resetSend();\n    },\n    resetSend() {\n        state.token = undefined;\n        state.sendTokenAmount = undefined;\n        state.receiverAddress = undefined;\n        state.receiverProfileImageUrl = undefined;\n        state.receiverProfileName = undefined;\n        state.loading = false;\n        state.tokenBalances = [];\n    }\n};\n// Export the controller wrapped with our error boundary\nconst SendController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_17__.withErrorBoundary)(controller);\n//# sourceMappingURL=SendController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TZW5kQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThEO0FBQ0E7QUFDK0Q7QUFDekU7QUFDYztBQUNaO0FBQ2tEO0FBQzlDO0FBQ0U7QUFDTjtBQUNZO0FBQ1g7QUFDVTtBQUNSO0FBQ0E7QUFDRjtBQUN2RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQUc7QUFDbEIsS0FBSztBQUNMO0FBQ0EsZUFBZSxrRUFBTTtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQixtREFBRztBQUM3QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EscUJBQXFCLG9FQUFjO0FBQ25DLDRCQUE0QixzRkFBdUIsQ0FBQyxnRUFBZTtBQUNuRSxnQkFBZ0IsNEVBQW9CO0FBQ3BDO0FBQ0E7QUFDQSxxQkFBcUIsZ0VBQWU7QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdFQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQVM7QUFDekIsMEJBQTBCLDBFQUF3QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsZ0VBQWU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNGQUF1QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCw0RUFBb0I7QUFDOUU7QUFDQTtBQUNBLDZCQUE2QixnRUFBZTtBQUM1QztBQUNBLGFBQWE7QUFDYixvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDRFQUFvQjtBQUM5RTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0EsYUFBYTtBQUNiLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMEJBQTBCLGdFQUFlO0FBQ3pDLHdCQUF3QixnRUFBZTtBQUN2QyxzQkFBc0IsZ0VBQWU7QUFDckMsNEJBQTRCLGdFQUFlO0FBQzNDLFlBQVksZ0VBQWU7QUFDM0Isc0NBQXNDLG9FQUFjO0FBQ3BEO0FBQ0EsYUFBYSxvRUFBYyxzQ0FBc0Msa0VBQWE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw4REFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLCtEQUFXO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRiwyRkFBNEI7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZEQUFVO0FBQ3hCO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSxtRUFBZ0Isd0JBQXdCO0FBQ2hEO0FBQ0Esd0JBQXdCLGdFQUFlO0FBQ3ZDLHNCQUFzQiwyRUFBb0I7QUFDMUM7QUFDQSwyQkFBMkIsMkVBQW9CO0FBQy9DLDRCQUE0QixnRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxrRUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNGQUF1QixlQUFlLDRFQUFvQjtBQUMxRjtBQUNBO0FBQ0EseUJBQXlCLGdFQUFlO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwyRUFBb0I7QUFDNUI7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0EsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDO0FBQ0EsU0FBUztBQUNULHVCQUF1QiwyRUFBb0I7QUFDM0Msd0JBQXdCLGdFQUFlO0FBQ3ZDO0FBQ0EsaUNBQWlDLG9FQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyRUFBb0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0RBQVk7QUFDakMsZ0NBQWdDLGdFQUFtQjtBQUNuRCxhQUFhO0FBQ2IsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNGQUF1QixlQUFlLDRFQUFvQjtBQUM5RjtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBZ0I7QUFDeEI7QUFDQSxnQkFBZ0IsbUVBQWdCO0FBQ2hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtREFBbUQsa0VBQWE7QUFDaEUsZ0JBQWdCLG9FQUFjO0FBQzlCLDRCQUE0QixvRUFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJFQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJFQUFvQjtBQUM1QixRQUFRLGtFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0VBQWU7QUFDeEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLCtFQUFpQjtBQUMvQyIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1NlbmRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCByZWYsIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVLZXkgYXMgc3ViS2V5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEvdXRpbHMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsLCBFcnJvclV0aWwsIE51bWJlclV0aWwsIFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvciB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbnRyYWN0VXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHsgQmFsYW5jZVV0aWwgfSBmcm9tICcuLi91dGlscy9CYWxhbmNlVXRpbC5qcyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzLCBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4uL3V0aWxzL0NoYWluQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuLi91dGlscy9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBTd2FwQXBpVXRpbCB9IGZyb20gJy4uL3V0aWxzL1N3YXBBcGlVdGlsLmpzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4vUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTbmFja0NvbnRyb2xsZXIgfSBmcm9tICcuL1NuYWNrQ29udHJvbGxlci5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHRva2VuQmFsYW5jZXM6IFtdLFxuICAgIGxvYWRpbmc6IGZhbHNlXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc2V0VG9rZW4odG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbiA9IHJlZih0b2tlbik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFRva2VuQW1vdW50KHNlbmRUb2tlbkFtb3VudCkge1xuICAgICAgICBzdGF0ZS5zZW5kVG9rZW5BbW91bnQgPSBzZW5kVG9rZW5BbW91bnQ7XG4gICAgfSxcbiAgICBzZXRSZWNlaXZlckFkZHJlc3MocmVjZWl2ZXJBZGRyZXNzKSB7XG4gICAgICAgIHN0YXRlLnJlY2VpdmVyQWRkcmVzcyA9IHJlY2VpdmVyQWRkcmVzcztcbiAgICB9LFxuICAgIHNldFJlY2VpdmVyUHJvZmlsZUltYWdlVXJsKHJlY2VpdmVyUHJvZmlsZUltYWdlVXJsKSB7XG4gICAgICAgIHN0YXRlLnJlY2VpdmVyUHJvZmlsZUltYWdlVXJsID0gcmVjZWl2ZXJQcm9maWxlSW1hZ2VVcmw7XG4gICAgfSxcbiAgICBzZXRSZWNlaXZlclByb2ZpbGVOYW1lKHJlY2VpdmVyUHJvZmlsZU5hbWUpIHtcbiAgICAgICAgc3RhdGUucmVjZWl2ZXJQcm9maWxlTmFtZSA9IHJlY2VpdmVyUHJvZmlsZU5hbWU7XG4gICAgfSxcbiAgICBzZXROZXR3b3JrQmFsYW5jZUluVXNkKG5ldHdvcmtCYWxhbmNlSW5VU0QpIHtcbiAgICAgICAgc3RhdGUubmV0d29ya0JhbGFuY2VJblVTRCA9IG5ldHdvcmtCYWxhbmNlSW5VU0Q7XG4gICAgfSxcbiAgICBzZXRMb2FkaW5nKGxvYWRpbmcpIHtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IGxvYWRpbmc7XG4gICAgfSxcbiAgICBnZXRTZGtFdmVudFByb3BlcnRpZXMoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IENvcmVIZWxwZXJVdGlsLnBhcnNlRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbikgPT09XG4gICAgICAgICAgICAgICAgVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgdG9rZW46IHN0YXRlLnRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICBhbW91bnQ6IHN0YXRlLnNlbmRUb2tlbkFtb3VudCA/PyAwLFxuICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBhc3luYyBzZW5kVG9rZW4oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTZW5kQ29udHJvbGxlci5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc3dpdGNoIChDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZWlwMTU1JzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgU2VuZENvbnRyb2xsZXIuc2VuZEV2bVRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlICdzb2xhbmEnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBTZW5kQ29udHJvbGxlci5zZW5kU29sYW5hVG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgY2hhaW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoRXJyb3JVdGlsLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBTZW5kQ29udHJvbGxlci5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2VuZEV2bVRva2VuKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVDaGFpbk5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgaWYgKCFhY3RpdmVDaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZW5kQ29udHJvbGxlcjpzZW5kRXZtVG9rZW4gLSBhY3RpdmVDaGFpbk5hbWVzcGFjZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdGl2ZUFjY291bnRUeXBlID0gZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoYWN0aXZlQ2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICBpZiAoIVNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCB8fCAhU2VuZENvbnRyb2xsZXIuc3RhdGUucmVjZWl2ZXJBZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGFtb3VudCBhbmQgcmVjZWl2ZXIgYWRkcmVzcyBhcmUgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIVNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgdG9rZW4gaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4/LmFkZHJlc3MpIHtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU0VORF9JTklUSUFURUQnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGFjdGl2ZUFjY291bnRUeXBlID09PSBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlQsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbi5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IFNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB7IGhhc2ggfSA9IGF3YWl0IFNlbmRDb250cm9sbGVyLnNlbmRFUkMyMFRva2VuKHtcbiAgICAgICAgICAgICAgICByZWNlaXZlckFkZHJlc3M6IFNlbmRDb250cm9sbGVyLnN0YXRlLnJlY2VpdmVyQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0b2tlbkFkZHJlc3M6IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgc2VuZFRva2VuQW1vdW50OiBTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLnF1YW50aXR5LmRlY2ltYWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaGFzaCA9IGhhc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1NFTkRfSU5JVElBVEVEJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBhY3RpdmVBY2NvdW50VHlwZSA9PT0gVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uc3ltYm9sIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IFNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB7IGhhc2ggfSA9IGF3YWl0IFNlbmRDb250cm9sbGVyLnNlbmROYXRpdmVUb2tlbih7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXJBZGRyZXNzOiBTZW5kQ29udHJvbGxlci5zdGF0ZS5yZWNlaXZlckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgc2VuZFRva2VuQW1vdW50OiBTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLnF1YW50aXR5LmRlY2ltYWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaGFzaCA9IGhhc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVG9rZW5CYWxhbmNlKG9uRXJyb3IpIHtcbiAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgY29uc3QgY2hhaW4gPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNoYWluTmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YShuYW1lc3BhY2UpPy5jYWlwQWRkcmVzcyA/P1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBBZGRyZXNzO1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gY2FpcEFkZHJlc3MgPyBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MoY2FpcEFkZHJlc3MpIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RhdGUubGFzdFJldHJ5ICYmXG4gICAgICAgICAgICAhQ29yZUhlbHBlclV0aWwuaXNBbGxvd2VkUmV0cnkoc3RhdGUubGFzdFJldHJ5LCAzMCAqIENvbnN0YW50c1V0aWwuT05FX1NFQ19NUykpIHtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGFkZHJlc3MgJiYgY2hhaW5JZCAmJiBjaGFpbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VzID0gYXdhaXQgQmFsYW5jZVV0aWwuZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZSgpO1xuICAgICAgICAgICAgICAgIHN0YXRlLnRva2VuQmFsYW5jZXMgPSBiYWxhbmNlcztcbiAgICAgICAgICAgICAgICBzdGF0ZS5sYXN0UmV0cnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc3RhdGUubGFzdFJldHJ5ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIG9uRXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdUb2tlbiBCYWxhbmNlIFVuYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgZmV0Y2hOZXR3b3JrQmFsYW5jZSgpIHtcbiAgICAgICAgaWYgKHN0YXRlLnRva2VuQmFsYW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV0d29ya1Rva2VuQmFsYW5jZXMgPSBTd2FwQXBpVXRpbC5tYXBCYWxhbmNlc1RvU3dhcFRva2VucyhzdGF0ZS50b2tlbkJhbGFuY2VzKTtcbiAgICAgICAgaWYgKCFuZXR3b3JrVG9rZW5CYWxhbmNlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ldHdvcmtUb2tlbiA9IG5ldHdvcmtUb2tlbkJhbGFuY2VzLmZpbmQodG9rZW4gPT4gdG9rZW4uYWRkcmVzcyA9PT0gZ2V0QWN0aXZlTmV0d29ya1Rva2VuQWRkcmVzcygpKTtcbiAgICAgICAgaWYgKCFuZXR3b3JrVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5uZXR3b3JrQmFsYW5jZUluVVNEID0gbmV0d29ya1Rva2VuXG4gICAgICAgICAgICA/IE51bWJlclV0aWwubXVsdGlwbHkobmV0d29ya1Rva2VuLnF1YW50aXR5Lm51bWVyaWMsIG5ldHdvcmtUb2tlbi5wcmljZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgOiAnMCc7XG4gICAgfSxcbiAgICBhc3luYyBzZW5kTmF0aXZlVG9rZW4ocGFyYW1zKSB7XG4gICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaFRyYW5zYWN0aW9uU3RhY2soe30pO1xuICAgICAgICBjb25zdCB0byA9IHBhcmFtcy5yZWNlaXZlckFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEoKT8uYWRkcmVzcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBDb25uZWN0aW9uQ29udHJvbGxlci5wYXJzZVVuaXRzKHBhcmFtcy5zZW5kVG9rZW5BbW91bnQudG9TdHJpbmcoKSwgTnVtYmVyKHBhcmFtcy5kZWNpbWFscykpO1xuICAgICAgICBjb25zdCBkYXRhID0gJzB4JztcbiAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0sXG4gICAgICAgICAgICB0byxcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlID8/IEJpZ0ludCgwKVxuICAgICAgICB9KTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnU0VORF9TVUNDRVNTJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoJ2VpcDE1NScpID09PSBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlQsXG4gICAgICAgICAgICAgICAgdG9rZW46IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJhbXMuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJyxcbiAgICAgICAgICAgICAgICBoYXNoOiBoYXNoIHx8ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5fZ2V0Q2xpZW50KCk/LnVwZGF0ZUJhbGFuY2UoJ2VpcDE1NScpO1xuICAgICAgICBTZW5kQ29udHJvbGxlci5yZXNldFNlbmQoKTtcbiAgICAgICAgcmV0dXJuIHsgaGFzaCB9O1xuICAgIH0sXG4gICAgYXN5bmMgc2VuZEVSQzIwVG9rZW4ocGFyYW1zKSB7XG4gICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaFRyYW5zYWN0aW9uU3RhY2soe1xuICAgICAgICAgICAgb25TdWNjZXNzKCkge1xuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnQWNjb3VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIucGFyc2VVbml0cyhwYXJhbXMuc2VuZFRva2VuQW1vdW50LnRvU3RyaW5nKCksIE51bWJlcihwYXJhbXMuZGVjaW1hbHMpKTtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzO1xuICAgICAgICBpZiAoYWRkcmVzcyAmJiBwYXJhbXMuc2VuZFRva2VuQW1vdW50ICYmIHBhcmFtcy5yZWNlaXZlckFkZHJlc3MgJiYgcGFyYW1zLnRva2VuQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5BZGRyZXNzID0gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKHBhcmFtcy50b2tlbkFkZHJlc3MpO1xuICAgICAgICAgICAgaWYgKCF0b2tlbkFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbmRDb250cm9sbGVyOnNlbmRFUkMyMFRva2VuIC0gdG9rZW5BZGRyZXNzIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIud3JpdGVDb250cmFjdCh7XG4gICAgICAgICAgICAgICAgZnJvbUFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgdG9rZW5BZGRyZXNzLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtwYXJhbXMucmVjZWl2ZXJBZGRyZXNzLCBhbW91bnQgPz8gQmlnSW50KDApXSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICd0cmFuc2ZlcicsXG4gICAgICAgICAgICAgICAgYWJpOiBDb250cmFjdFV0aWwuZ2V0RVJDMjBBYmkodG9rZW5BZGRyZXNzKSxcbiAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTRU5EX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKCdlaXAxNTUnKSA9PT0gVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5ULFxuICAgICAgICAgICAgICAgICAgICB0b2tlbjogU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBwYXJhbXMuc2VuZFRva2VuQW1vdW50LFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2ggfHwgJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFNlbmRDb250cm9sbGVyLnJlc2V0U2VuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHsgaGFzaCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGhhc2g6IHVuZGVmaW5lZCB9O1xuICAgIH0sXG4gICAgYXN5bmMgc2VuZFNvbGFuYVRva2VuKCkge1xuICAgICAgICBpZiAoIVNlbmRDb250cm9sbGVyLnN0YXRlLnNlbmRUb2tlbkFtb3VudCB8fCAhU2VuZENvbnRyb2xsZXIuc3RhdGUucmVjZWl2ZXJBZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIGFtb3VudCBhbmQgcmVjZWl2ZXIgYWRkcmVzcyBhcmUgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHtcbiAgICAgICAgICAgIG9uU3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UoJ0FjY291bnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0b2tlbk1pbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChTZW5kQ29udHJvbGxlci5zdGF0ZS50b2tlbiAmJlxuICAgICAgICAgICAgU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uYWRkcmVzcyAhPT0gQ29uc3RhbnRzVXRpbC5TT0xBTkFfTkFUSVZFX1RPS0VOX0FERFJFU1MpIHtcbiAgICAgICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0NhaXBBZGRyZXNzKFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLmFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5NaW50ID0gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuLmFkZHJlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5NaW50ID0gU2VuZENvbnRyb2xsZXIuc3RhdGUudG9rZW4uYWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiAnc29sYW5hJyxcbiAgICAgICAgICAgIHRva2VuTWludCxcbiAgICAgICAgICAgIHRvOiBTZW5kQ29udHJvbGxlci5zdGF0ZS5yZWNlaXZlckFkZHJlc3MsXG4gICAgICAgICAgICB2YWx1ZTogU2VuZENvbnRyb2xsZXIuc3RhdGUuc2VuZFRva2VuQW1vdW50XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaGFzaCkge1xuICAgICAgICAgICAgc3RhdGUuaGFzaCA9IGhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuX2dldENsaWVudCgpPy51cGRhdGVCYWxhbmNlKCdzb2xhbmEnKTtcbiAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgIGV2ZW50OiAnU0VORF9TVUNDRVNTJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdG9rZW46IFNlbmRDb250cm9sbGVyLnN0YXRlLnRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBTZW5kQ29udHJvbGxlci5zdGF0ZS5zZW5kVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgICAgIGhhc2g6IGhhc2ggfHwgJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFNlbmRDb250cm9sbGVyLnJlc2V0U2VuZCgpO1xuICAgIH0sXG4gICAgcmVzZXRTZW5kKCkge1xuICAgICAgICBzdGF0ZS50b2tlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RhdGUuc2VuZFRva2VuQW1vdW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5yZWNlaXZlckFkZHJlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLnJlY2VpdmVyUHJvZmlsZUltYWdlVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5yZWNlaXZlclByb2ZpbGVOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnRva2VuQmFsYW5jZXMgPSBbXTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBTZW5kQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VuZENvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SendController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SnackController: () => (/* binding */ SnackController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n// -- Constants ----------------------------------------- //\nconst DEFAULT_STATE = Object.freeze({\n    message: '',\n    variant: 'success',\n    svg: undefined,\n    open: false,\n    autoClose: true\n});\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    ...DEFAULT_STATE\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    showLoading(message, options = {}) {\n        this._showMessage({ message, variant: 'loading', ...options });\n    },\n    showSuccess(message) {\n        this._showMessage({ message, variant: 'success' });\n    },\n    showSvg(message, svg) {\n        this._showMessage({ message, svg });\n    },\n    showError(message) {\n        const errorMessage = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(message);\n        this._showMessage({ message: errorMessage, variant: 'error' });\n    },\n    hide() {\n        state.message = DEFAULT_STATE.message;\n        state.variant = DEFAULT_STATE.variant;\n        state.svg = DEFAULT_STATE.svg;\n        state.open = DEFAULT_STATE.open;\n        state.autoClose = DEFAULT_STATE.autoClose;\n    },\n    _showMessage({ message, svg, variant = 'success', autoClose = DEFAULT_STATE.autoClose }) {\n        if (state.open) {\n            state.open = false;\n            setTimeout(() => {\n                state.message = message;\n                state.variant = variant;\n                state.svg = svg;\n                state.open = true;\n                state.autoClose = autoClose;\n            }, 150);\n        }\n        else {\n            state.message = message;\n            state.variant = variant;\n            state.svg = svg;\n            state.open = true;\n            state.autoClose = autoClose;\n        }\n    }\n};\nconst SnackController = controller;\n//# sourceMappingURL=SnackController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9TbmFja0NvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUN1QjtBQUNGO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsY0FBYyxxREFBSztBQUNuQjtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMLHFDQUFxQztBQUNyQyw0QkFBNEIseUNBQXlDO0FBQ3JFLEtBQUs7QUFDTDtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUMsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLG9FQUFjO0FBQzNDLDRCQUE0Qix5Q0FBeUM7QUFDckUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsd0VBQXdFO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvU25hY2tDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5IH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuLy8gLS0gQ29uc3RhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBERUZBVUxUX1NUQVRFID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgbWVzc2FnZTogJycsXG4gICAgdmFyaWFudDogJ3N1Y2Nlc3MnLFxuICAgIHN2ZzogdW5kZWZpbmVkLFxuICAgIG9wZW46IGZhbHNlLFxuICAgIGF1dG9DbG9zZTogdHJ1ZVxufSk7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIC4uLkRFRkFVTFRfU1RBVEVcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBzdWJLZXkoc3RhdGUsIGtleSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgc2hvd0xvYWRpbmcobWVzc2FnZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX3Nob3dNZXNzYWdlKHsgbWVzc2FnZSwgdmFyaWFudDogJ2xvYWRpbmcnLCAuLi5vcHRpb25zIH0pO1xuICAgIH0sXG4gICAgc2hvd1N1Y2Nlc3MobWVzc2FnZSkge1xuICAgICAgICB0aGlzLl9zaG93TWVzc2FnZSh7IG1lc3NhZ2UsIHZhcmlhbnQ6ICdzdWNjZXNzJyB9KTtcbiAgICB9LFxuICAgIHNob3dTdmcobWVzc2FnZSwgc3ZnKSB7XG4gICAgICAgIHRoaXMuX3Nob3dNZXNzYWdlKHsgbWVzc2FnZSwgc3ZnIH0pO1xuICAgIH0sXG4gICAgc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gQ29yZUhlbHBlclV0aWwucGFyc2VFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5fc2hvd01lc3NhZ2UoeyBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsIHZhcmlhbnQ6ICdlcnJvcicgfSk7XG4gICAgfSxcbiAgICBoaWRlKCkge1xuICAgICAgICBzdGF0ZS5tZXNzYWdlID0gREVGQVVMVF9TVEFURS5tZXNzYWdlO1xuICAgICAgICBzdGF0ZS52YXJpYW50ID0gREVGQVVMVF9TVEFURS52YXJpYW50O1xuICAgICAgICBzdGF0ZS5zdmcgPSBERUZBVUxUX1NUQVRFLnN2ZztcbiAgICAgICAgc3RhdGUub3BlbiA9IERFRkFVTFRfU1RBVEUub3BlbjtcbiAgICAgICAgc3RhdGUuYXV0b0Nsb3NlID0gREVGQVVMVF9TVEFURS5hdXRvQ2xvc2U7XG4gICAgfSxcbiAgICBfc2hvd01lc3NhZ2UoeyBtZXNzYWdlLCBzdmcsIHZhcmlhbnQgPSAnc3VjY2VzcycsIGF1dG9DbG9zZSA9IERFRkFVTFRfU1RBVEUuYXV0b0Nsb3NlIH0pIHtcbiAgICAgICAgaWYgKHN0YXRlLm9wZW4pIHtcbiAgICAgICAgICAgIHN0YXRlLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIHN0YXRlLnZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICAgICAgICAgIHN0YXRlLnN2ZyA9IHN2ZztcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hdXRvQ2xvc2UgPSBhdXRvQ2xvc2U7XG4gICAgICAgICAgICB9LCAxNTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBzdGF0ZS52YXJpYW50ID0gdmFyaWFudDtcbiAgICAgICAgICAgIHN0YXRlLnN2ZyA9IHN2ZztcbiAgICAgICAgICAgIHN0YXRlLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgc3RhdGUuYXV0b0Nsb3NlID0gYXV0b0Nsb3NlO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBTbmFja0NvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U25hY2tDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SwapController.js":
/*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SwapController.js ***!
  \***************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INITIAL_GAS_LIMIT: () => (/* binding */ INITIAL_GAS_LIMIT),\n/* harmony export */   SwapController: () => (/* binding */ SwapController),\n/* harmony export */   TO_AMOUNT_DECIMALS: () => (/* binding */ TO_AMOUNT_DECIMALS)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/SwapApiUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\");\n/* harmony import */ var _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/SwapCalculationUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _AlertController_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AlertController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AlertController.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _RouterController_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ---------------------------------------- //\nconst INITIAL_GAS_LIMIT = 150000;\nconst TO_AMOUNT_DECIMALS = 6;\nclass TransactionError extends Error {\n    constructor(message, displayMessage) {\n        super(message);\n        this.name = 'TransactionError';\n        this.displayMessage = displayMessage;\n    }\n}\n// -- State --------------------------------------------- //\nconst initialState = {\n    // Loading states\n    initializing: false,\n    initialized: false,\n    loadingPrices: false,\n    loadingQuote: false,\n    loadingApprovalTransaction: false,\n    loadingBuildTransaction: false,\n    loadingTransaction: false,\n    // Control states\n    switchingTokens: false,\n    // Error states\n    fetchError: false,\n    // Approval & Swap transaction states\n    approvalTransaction: undefined,\n    swapTransaction: undefined,\n    transactionError: undefined,\n    // Input values\n    sourceToken: undefined,\n    sourceTokenAmount: '',\n    sourceTokenPriceInUSD: 0,\n    toToken: undefined,\n    toTokenAmount: '',\n    toTokenPriceInUSD: 0,\n    networkPrice: '0',\n    networkBalanceInUSD: '0',\n    networkTokenSymbol: '',\n    inputError: undefined,\n    // Request values\n    slippage: _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE,\n    // Tokens\n    tokens: undefined,\n    popularTokens: undefined,\n    suggestedTokens: undefined,\n    foundTokens: undefined,\n    myTokensWithBalance: undefined,\n    tokensPriceMap: {},\n    // Calculations\n    gasFee: '0',\n    gasPriceInUSD: 0,\n    priceImpact: undefined,\n    maxSlippage: undefined,\n    providerFee: undefined\n};\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.proxy)({ ...initialState });\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_1__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_2__.subscribeKey)(state, key, callback);\n    },\n    getParams() {\n        const namespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain;\n        const caipAddress = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData(namespace)?.caipAddress ??\n            _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipAddress;\n        const address = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPlainAddress(caipAddress);\n        const networkAddress = (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getActiveNetworkTokenAddress)();\n        const connectorId = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectorController.getConnectorId(_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeChain);\n        if (!address) {\n            throw new Error('No address found to swap the tokens from.');\n        }\n        const invalidToToken = !state.toToken?.address || !state.toToken?.decimals;\n        const invalidSourceToken = !state.sourceToken?.address ||\n            !state.sourceToken?.decimals ||\n            !_reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(state.sourceTokenAmount).gt(0);\n        const invalidSourceTokenAmount = !state.sourceTokenAmount;\n        return {\n            networkAddress,\n            fromAddress: address,\n            fromCaipAddress: caipAddress,\n            sourceTokenAddress: state.sourceToken?.address,\n            toTokenAddress: state.toToken?.address,\n            toTokenAmount: state.toTokenAmount,\n            toTokenDecimals: state.toToken?.decimals,\n            sourceTokenAmount: state.sourceTokenAmount,\n            sourceTokenDecimals: state.sourceToken?.decimals,\n            invalidToToken,\n            invalidSourceToken,\n            invalidSourceTokenAmount,\n            availableToSwap: caipAddress && !invalidToToken && !invalidSourceToken && !invalidSourceTokenAmount,\n            isAuthConnector: connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CONNECTOR_ID.AUTH\n        };\n    },\n    async setSourceToken(sourceToken) {\n        if (!sourceToken) {\n            state.sourceToken = sourceToken;\n            state.sourceTokenAmount = '';\n            state.sourceTokenPriceInUSD = 0;\n            return;\n        }\n        state.sourceToken = sourceToken;\n        await SwapController.setTokenPrice(sourceToken.address, 'sourceToken');\n    },\n    setSourceTokenAmount(amount) {\n        state.sourceTokenAmount = amount;\n    },\n    async setToToken(toToken) {\n        if (!toToken) {\n            state.toToken = toToken;\n            state.toTokenAmount = '';\n            state.toTokenPriceInUSD = 0;\n            return;\n        }\n        state.toToken = toToken;\n        await SwapController.setTokenPrice(toToken.address, 'toToken');\n    },\n    setToTokenAmount(amount) {\n        state.toTokenAmount = amount ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.toFixed(amount, TO_AMOUNT_DECIMALS) : '';\n    },\n    async setTokenPrice(address, target) {\n        let price = state.tokensPriceMap[address] || 0;\n        if (!price) {\n            state.loadingPrices = true;\n            price = await SwapController.getAddressPrice(address);\n        }\n        if (target === 'sourceToken') {\n            state.sourceTokenPriceInUSD = price;\n        }\n        else if (target === 'toToken') {\n            state.toTokenPriceInUSD = price;\n        }\n        if (state.loadingPrices) {\n            state.loadingPrices = false;\n        }\n        if (SwapController.getParams().availableToSwap && !state.switchingTokens) {\n            SwapController.swapTokens();\n        }\n    },\n    async switchTokens() {\n        if (state.initializing || !state.initialized || state.switchingTokens) {\n            return;\n        }\n        state.switchingTokens = true;\n        try {\n            const newSourceToken = state.toToken ? { ...state.toToken } : undefined;\n            const newToToken = state.sourceToken ? { ...state.sourceToken } : undefined;\n            const newSourceTokenAmount = newSourceToken && state.toTokenAmount === '' ? '1' : state.toTokenAmount;\n            SwapController.setSourceTokenAmount(newSourceTokenAmount);\n            SwapController.setToTokenAmount('');\n            await SwapController.setSourceToken(newSourceToken);\n            await SwapController.setToToken(newToToken);\n            state.switchingTokens = false;\n            SwapController.swapTokens();\n        }\n        catch (error) {\n            state.switchingTokens = false;\n            throw error;\n        }\n    },\n    resetState() {\n        state.myTokensWithBalance = initialState.myTokensWithBalance;\n        state.tokensPriceMap = initialState.tokensPriceMap;\n        state.initialized = initialState.initialized;\n        state.initializing = initialState.initializing;\n        state.switchingTokens = initialState.switchingTokens;\n        state.sourceToken = initialState.sourceToken;\n        state.sourceTokenAmount = initialState.sourceTokenAmount;\n        state.sourceTokenPriceInUSD = initialState.sourceTokenPriceInUSD;\n        state.toToken = initialState.toToken;\n        state.toTokenAmount = initialState.toTokenAmount;\n        state.toTokenPriceInUSD = initialState.toTokenPriceInUSD;\n        state.networkPrice = initialState.networkPrice;\n        state.networkTokenSymbol = initialState.networkTokenSymbol;\n        state.networkBalanceInUSD = initialState.networkBalanceInUSD;\n        state.inputError = initialState.inputError;\n    },\n    resetValues() {\n        const { networkAddress } = SwapController.getParams();\n        const networkToken = state.tokens?.find(token => token.address === networkAddress);\n        SwapController.setSourceToken(networkToken);\n        SwapController.setToToken(undefined);\n    },\n    getApprovalLoadingState() {\n        return state.loadingApprovalTransaction;\n    },\n    clearError() {\n        state.transactionError = undefined;\n    },\n    async initializeState() {\n        if (state.initializing) {\n            return;\n        }\n        state.initializing = true;\n        if (!state.initialized) {\n            try {\n                await SwapController.fetchTokens();\n                state.initialized = true;\n            }\n            catch (error) {\n                state.initialized = false;\n                _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to initialize swap');\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            }\n        }\n        state.initializing = false;\n    },\n    async fetchTokens() {\n        const { networkAddress } = SwapController.getParams();\n        await SwapController.getNetworkTokenPrice();\n        await SwapController.getMyTokensWithBalance();\n        const networkToken = state.myTokensWithBalance?.find(token => token.address === networkAddress);\n        if (networkToken) {\n            state.networkTokenSymbol = networkToken.symbol;\n            SwapController.setSourceToken(networkToken);\n            SwapController.setSourceTokenAmount('0');\n        }\n    },\n    async getTokenList() {\n        const activeCaipNetworkId = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        if (state.caipNetworkId === activeCaipNetworkId && state.tokens) {\n            return;\n        }\n        try {\n            state.tokensLoading = true;\n            const tokens = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.getTokenList(activeCaipNetworkId);\n            state.tokens = tokens;\n            state.caipNetworkId = activeCaipNetworkId;\n            state.popularTokens = tokens.sort((aTokenInfo, bTokenInfo) => {\n                if (aTokenInfo.symbol < bTokenInfo.symbol) {\n                    return -1;\n                }\n                if (aTokenInfo.symbol > bTokenInfo.symbol) {\n                    return 1;\n                }\n                return 0;\n            });\n            const suggestedTokensByChain = (activeCaipNetworkId &&\n                _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.SUGGESTED_TOKENS_BY_CHAIN?.[activeCaipNetworkId]) ||\n                [];\n            const suggestedTokenObjects = suggestedTokensByChain\n                .map(symbol => tokens.find(t => t.symbol === symbol))\n                .filter((t) => Boolean(t));\n            const allSuggestedTokens = _utils_ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.SWAP_SUGGESTED_TOKENS || [];\n            const allSuggestedTokenObjects = allSuggestedTokens\n                .map(symbol => tokens.find(t => t.symbol === symbol))\n                .filter((t) => Boolean(t))\n                .filter(t => !suggestedTokenObjects.some(ct => ct.address === t.address));\n            state.suggestedTokens = [...suggestedTokenObjects, ...allSuggestedTokenObjects];\n        }\n        catch (error) {\n            state.tokens = [];\n            state.popularTokens = [];\n            state.suggestedTokens = [];\n        }\n        finally {\n            state.tokensLoading = false;\n        }\n    },\n    async getAddressPrice(address) {\n        const existPrice = state.tokensPriceMap[address];\n        if (existPrice) {\n            return existPrice;\n        }\n        const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.fetchTokenPrice({\n            addresses: [address]\n        });\n        const fungibles = response?.fungibles || [];\n        const allTokens = [...(state.tokens || []), ...(state.myTokensWithBalance || [])];\n        const symbol = allTokens?.find(token => token.address === address)?.symbol;\n        const price = fungibles.find(p => p.symbol.toLowerCase() === symbol?.toLowerCase())?.price || 0;\n        const priceAsFloat = parseFloat(price.toString());\n        state.tokensPriceMap[address] = priceAsFloat;\n        return priceAsFloat;\n    },\n    async getNetworkTokenPrice() {\n        const { networkAddress } = SwapController.getParams();\n        const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.fetchTokenPrice({\n            addresses: [networkAddress]\n        }).catch(() => {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to fetch network token price');\n            return { fungibles: [] };\n        });\n        const token = response.fungibles?.[0];\n        const price = token?.price.toString() || '0';\n        state.tokensPriceMap[networkAddress] = parseFloat(price);\n        state.networkTokenSymbol = token?.symbol || '';\n        state.networkPrice = price;\n    },\n    async getMyTokensWithBalance(forceUpdate) {\n        const balances = await _utils_BalanceUtil_js__WEBPACK_IMPORTED_MODULE_13__.BalanceUtil.getMyTokensWithBalance({\n            forceUpdate,\n            caipNetwork: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork,\n            address: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData()?.address\n        });\n        const swapBalances = _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.mapBalancesToSwapTokens(balances);\n        if (!swapBalances) {\n            return;\n        }\n        await SwapController.getInitialGasPrice();\n        SwapController.setBalances(swapBalances);\n    },\n    setBalances(balances) {\n        const { networkAddress } = SwapController.getParams();\n        const caipNetwork = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork;\n        if (!caipNetwork) {\n            return;\n        }\n        const networkToken = balances.find(token => token.address === networkAddress);\n        balances.forEach(token => {\n            state.tokensPriceMap[token.address] = token.price || 0;\n        });\n        state.myTokensWithBalance = balances.filter(token => token.address.startsWith(caipNetwork.caipNetworkId));\n        state.networkBalanceInUSD = networkToken\n            ? _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.multiply(networkToken.quantity.numeric, networkToken.price).toString()\n            : '0';\n    },\n    async getInitialGasPrice() {\n        const res = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.fetchGasPrice();\n        if (!res) {\n            return { gasPrice: null, gasPriceInUSD: null };\n        }\n        switch (_ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state?.activeCaipNetwork?.chainNamespace) {\n            case _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.SOLANA:\n                state.gasFee = res.standard ?? '0';\n                state.gasPriceInUSD = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.multiply(res.standard, state.networkPrice)\n                    .div(1e9)\n                    .toNumber();\n                return {\n                    gasPrice: BigInt(state.gasFee),\n                    gasPriceInUSD: Number(state.gasPriceInUSD)\n                };\n            case _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM:\n            default:\n                // eslint-disable-next-line no-case-declarations\n                const value = res.standard ?? '0';\n                // eslint-disable-next-line no-case-declarations\n                const gasFee = BigInt(value);\n                // eslint-disable-next-line no-case-declarations\n                const gasLimit = BigInt(INITIAL_GAS_LIMIT);\n                // eslint-disable-next-line no-case-declarations\n                const gasPrice = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, gasLimit, gasFee);\n                state.gasFee = value;\n                state.gasPriceInUSD = gasPrice;\n                return { gasPrice: gasFee, gasPriceInUSD: gasPrice };\n        }\n    },\n    // -- Swap -------------------------------------- //\n    async swapTokens() {\n        const address = _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.getAccountData()?.address;\n        const sourceToken = state.sourceToken;\n        const toToken = state.toToken;\n        const haveSourceTokenAmount = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(state.sourceTokenAmount).gt(0);\n        if (!haveSourceTokenAmount) {\n            SwapController.setToTokenAmount('');\n        }\n        if (!toToken || !sourceToken || state.loadingPrices || !haveSourceTokenAmount || !address) {\n            return;\n        }\n        state.loadingQuote = true;\n        const amountDecimal = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(state.sourceTokenAmount)\n            .times(10 ** sourceToken.decimals)\n            .round(0)\n            .toFixed(0);\n        try {\n            const quoteResponse = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.fetchSwapQuote({\n                userAddress: address,\n                from: sourceToken.address,\n                to: toToken.address,\n                gasPrice: state.gasFee,\n                amount: amountDecimal.toString()\n            });\n            state.loadingQuote = false;\n            const quoteToAmount = quoteResponse?.quotes?.[0]?.toAmount;\n            if (!quoteToAmount) {\n                _AlertController_js__WEBPACK_IMPORTED_MODULE_15__.AlertController.open({\n                    displayMessage: 'Incorrect amount',\n                    debugMessage: 'Please enter a valid amount'\n                }, 'error');\n                return;\n            }\n            const toTokenAmount = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.bigNumber(quoteToAmount)\n                .div(10 ** toToken.decimals)\n                .toString();\n            SwapController.setToTokenAmount(toTokenAmount);\n            const isInsufficientToken = SwapController.hasInsufficientToken(state.sourceTokenAmount, sourceToken.address);\n            if (isInsufficientToken) {\n                state.inputError = 'Insufficient balance';\n            }\n            else {\n                state.inputError = undefined;\n                SwapController.setTransactionDetails();\n            }\n        }\n        catch (error) {\n            const response = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.handleSwapError(error);\n            state.loadingQuote = false;\n            state.inputError = response || 'Insufficient balance';\n        }\n    },\n    // -- Create Transactions -------------------------------------- //\n    async getTransaction() {\n        const { fromCaipAddress, availableToSwap } = SwapController.getParams();\n        const sourceToken = state.sourceToken;\n        const toToken = state.toToken;\n        if (!fromCaipAddress || !availableToSwap || !sourceToken || !toToken || state.loadingQuote) {\n            return undefined;\n        }\n        try {\n            state.loadingBuildTransaction = true;\n            const hasAllowance = await _utils_SwapApiUtil_js__WEBPACK_IMPORTED_MODULE_11__.SwapApiUtil.fetchSwapAllowance({\n                userAddress: fromCaipAddress,\n                tokenAddress: sourceToken.address,\n                sourceTokenAmount: state.sourceTokenAmount,\n                sourceTokenDecimals: sourceToken.decimals\n            });\n            let transaction = undefined;\n            if (hasAllowance) {\n                transaction = await SwapController.createSwapTransaction();\n            }\n            else {\n                transaction = await SwapController.createAllowanceTransaction();\n            }\n            state.loadingBuildTransaction = false;\n            state.fetchError = false;\n            return transaction;\n        }\n        catch (error) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to check allowance');\n            state.loadingBuildTransaction = false;\n            state.approvalTransaction = undefined;\n            state.swapTransaction = undefined;\n            state.fetchError = true;\n            return undefined;\n        }\n    },\n    async createAllowanceTransaction() {\n        const { fromCaipAddress, sourceTokenAddress, toTokenAddress } = SwapController.getParams();\n        if (!fromCaipAddress || !toTokenAddress) {\n            return undefined;\n        }\n        if (!sourceTokenAddress) {\n            throw new Error('createAllowanceTransaction - No source token address found.');\n        }\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.generateApproveCalldata({\n                from: sourceTokenAddress,\n                to: toTokenAddress,\n                userAddress: fromCaipAddress\n            });\n            const address = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPlainAddress(response.tx.from);\n            if (!address) {\n                throw new Error('SwapController:createAllowanceTransaction - address is required');\n            }\n            const transaction = {\n                data: response.tx.data,\n                to: address,\n                gasPrice: BigInt(response.tx.eip155.gasPrice),\n                value: BigInt(response.tx.value),\n                toAmount: state.toTokenAmount\n            };\n            state.swapTransaction = undefined;\n            state.approvalTransaction = {\n                data: transaction.data,\n                to: transaction.to,\n                gasPrice: transaction.gasPrice,\n                value: transaction.value,\n                toAmount: transaction.toAmount\n            };\n            return {\n                data: transaction.data,\n                to: transaction.to,\n                gasPrice: transaction.gasPrice,\n                value: transaction.value,\n                toAmount: transaction.toAmount\n            };\n        }\n        catch (error) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to create approval transaction');\n            state.approvalTransaction = undefined;\n            state.swapTransaction = undefined;\n            state.fetchError = true;\n            return undefined;\n        }\n    },\n    async createSwapTransaction() {\n        const { networkAddress, fromCaipAddress, sourceTokenAmount } = SwapController.getParams();\n        const sourceToken = state.sourceToken;\n        const toToken = state.toToken;\n        if (!fromCaipAddress || !sourceTokenAmount || !sourceToken || !toToken) {\n            return undefined;\n        }\n        const amount = _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionController.parseUnits(sourceTokenAmount, sourceToken.decimals)?.toString();\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_12__.BlockchainApiController.generateSwapCalldata({\n                userAddress: fromCaipAddress,\n                from: sourceToken.address,\n                to: toToken.address,\n                amount: amount,\n                disableEstimate: true\n            });\n            const isSourceTokenIsNetworkToken = sourceToken.address === networkAddress;\n            const gas = BigInt(response.tx.eip155.gas);\n            const gasPrice = BigInt(response.tx.eip155.gasPrice);\n            const address = _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_4__.CoreHelperUtil.getPlainAddress(response.tx.to);\n            if (!address) {\n                throw new Error('SwapController:createSwapTransaction - address is required');\n            }\n            const transaction = {\n                data: response.tx.data,\n                to: address,\n                gas,\n                gasPrice,\n                value: isSourceTokenIsNetworkToken ? BigInt(amount ?? '0') : BigInt('0'),\n                toAmount: state.toTokenAmount\n            };\n            state.gasPriceInUSD = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, gas, gasPrice);\n            state.approvalTransaction = undefined;\n            state.swapTransaction = transaction;\n            return transaction;\n        }\n        catch (error) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.goBack();\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError('Failed to create transaction');\n            state.approvalTransaction = undefined;\n            state.swapTransaction = undefined;\n            state.fetchError = true;\n            return undefined;\n        }\n    },\n    onEmbeddedWalletApprovalSuccess() {\n        _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading('Approve limit increase in your wallet');\n        _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('SwapPreview');\n    },\n    // -- Send Transactions --------------------------------- //\n    async sendTransactionForApproval(data) {\n        const { fromAddress, isAuthConnector } = SwapController.getParams();\n        state.loadingApprovalTransaction = true;\n        const approveLimitMessage = `Approve limit increase in your wallet`;\n        if (isAuthConnector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.pushTransactionStack({\n                onSuccess: SwapController.onEmbeddedWalletApprovalSuccess\n            });\n        }\n        else {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading(approveLimitMessage);\n        }\n        try {\n            await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionController.sendTransaction({\n                address: fromAddress,\n                to: data.to,\n                data: data.data,\n                value: data.value,\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM\n            });\n            await SwapController.swapTokens();\n            await SwapController.getTransaction();\n            state.approvalTransaction = undefined;\n            state.loadingApprovalTransaction = false;\n        }\n        catch (err) {\n            const error = err;\n            state.transactionError = error?.displayMessage;\n            state.loadingApprovalTransaction = false;\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError(error?.displayMessage || 'Transaction error');\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_17__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SWAP_APPROVAL_ERROR',\n                properties: {\n                    message: error?.displayMessage || error?.message || 'Unknown',\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    swapFromToken: SwapController.state.sourceToken?.symbol || '',\n                    swapToToken: SwapController.state.toToken?.symbol || '',\n                    swapFromAmount: SwapController.state.sourceTokenAmount || '',\n                    swapToAmount: SwapController.state.toTokenAmount || '',\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n        }\n    },\n    async sendTransactionForSwap(data) {\n        if (!data) {\n            return undefined;\n        }\n        const { fromAddress, toTokenAmount, isAuthConnector } = SwapController.getParams();\n        state.loadingTransaction = true;\n        const snackbarPendingMessage = `Swapping ${state.sourceToken?.symbol} to ${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.formatNumberToLocalString(toTokenAmount, 3)} ${state.toToken?.symbol}`;\n        const snackbarSuccessMessage = `Swapped ${state.sourceToken?.symbol} to ${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.NumberUtil.formatNumberToLocalString(toTokenAmount, 3)} ${state.toToken?.symbol}`;\n        if (isAuthConnector) {\n            _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.pushTransactionStack({\n                onSuccess() {\n                    _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('Account');\n                    _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading(snackbarPendingMessage);\n                    controller.resetState();\n                }\n            });\n        }\n        else {\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showLoading('Confirm transaction in your wallet');\n        }\n        try {\n            const forceUpdateAddresses = [state.sourceToken?.address, state.toToken?.address].join(',');\n            const transactionHash = await _ConnectionController_js__WEBPACK_IMPORTED_MODULE_16__.ConnectionController.sendTransaction({\n                address: fromAddress,\n                to: data.to,\n                data: data.data,\n                value: data.value,\n                chainNamespace: _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM\n            });\n            state.loadingTransaction = false;\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showSuccess(snackbarSuccessMessage);\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_17__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SWAP_SUCCESS',\n                properties: {\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    swapFromToken: SwapController.state.sourceToken?.symbol || '',\n                    swapToToken: SwapController.state.toToken?.symbol || '',\n                    swapFromAmount: SwapController.state.sourceTokenAmount || '',\n                    swapToAmount: SwapController.state.toTokenAmount || '',\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            controller.resetState();\n            if (!isAuthConnector) {\n                _RouterController_js__WEBPACK_IMPORTED_MODULE_10__.RouterController.replace('Account');\n            }\n            controller.getMyTokensWithBalance(forceUpdateAddresses);\n            return transactionHash;\n        }\n        catch (err) {\n            const error = err;\n            state.transactionError = error?.displayMessage;\n            state.loadingTransaction = false;\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_9__.SnackController.showError(error?.displayMessage || 'Transaction error');\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_17__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SWAP_ERROR',\n                properties: {\n                    message: error?.displayMessage || error?.message || 'Unknown',\n                    network: _ChainController_js__WEBPACK_IMPORTED_MODULE_3__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n                    swapFromToken: SwapController.state.sourceToken?.symbol || '',\n                    swapToToken: SwapController.state.toToken?.symbol || '',\n                    swapFromAmount: SwapController.state.sourceTokenAmount || '',\n                    swapToAmount: SwapController.state.toTokenAmount || '',\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CHAIN.EVM) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_18__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            return undefined;\n        }\n    },\n    // -- Checks -------------------------------------------- //\n    hasInsufficientToken(sourceTokenAmount, sourceTokenAddress) {\n        const isInsufficientSourceTokenForSwap = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.isInsufficientSourceTokenForSwap(sourceTokenAmount, sourceTokenAddress, state.myTokensWithBalance);\n        return isInsufficientSourceTokenForSwap;\n    },\n    // -- Calculations -------------------------------------- //\n    setTransactionDetails() {\n        const { toTokenAddress, toTokenDecimals } = SwapController.getParams();\n        if (!toTokenAddress || !toTokenDecimals) {\n            return;\n        }\n        state.gasPriceInUSD = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getGasPriceInUSD(state.networkPrice, BigInt(state.gasFee), BigInt(INITIAL_GAS_LIMIT));\n        state.priceImpact = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getPriceImpact({\n            sourceTokenAmount: state.sourceTokenAmount,\n            sourceTokenPriceInUSD: state.sourceTokenPriceInUSD,\n            toTokenPriceInUSD: state.toTokenPriceInUSD,\n            toTokenAmount: state.toTokenAmount\n        });\n        state.maxSlippage = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getMaxSlippage(state.slippage, state.toTokenAmount);\n        state.providerFee = _utils_SwapCalculationUtil_js__WEBPACK_IMPORTED_MODULE_14__.SwapCalculationUtil.getProviderFee(state.sourceTokenAmount);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst SwapController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_19__.withErrorBoundary)(controller);\n//# sourceMappingURL=SwapController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Td2FwQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNLO0FBQ1o7QUFDMEI7QUFDVjtBQUNaO0FBQ2tEO0FBQzlDO0FBQ0U7QUFDTjtBQUNnQjtBQUNKO0FBQ1g7QUFDZ0I7QUFDaEI7QUFDVTtBQUNGO0FBQ047QUFDQTtBQUNGO0FBQ3ZEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLLEdBQUcsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBLDBCQUEwQixnRUFBZTtBQUN6Qyw0QkFBNEIsZ0VBQWU7QUFDM0MsWUFBWSxnRUFBZTtBQUMzQix3QkFBd0Isb0VBQWM7QUFDdEMsK0JBQStCLDJGQUE0QjtBQUMzRCw0QkFBNEIsd0VBQW1CLGdCQUFnQixnRUFBZTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDREQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywrREFBbUI7QUFDaEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsdUNBQXVDLDREQUFVO0FBQ2pELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELG1CQUFtQjtBQUN4RSxxREFBcUQsdUJBQXVCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQWU7QUFDL0IsZ0JBQWdCLG1FQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MsZ0VBQWU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrREFBVztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdCQUFnQixrRUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxrRUFBYTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQywrQkFBK0IsaUZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNULFlBQVksZ0VBQWU7QUFDM0IscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0JBQStCLCtEQUFXO0FBQzFDO0FBQ0EseUJBQXlCLGdFQUFlO0FBQ3hDLHFCQUFxQixnRUFBZTtBQUNwQyxTQUFTO0FBQ1QsNkJBQTZCLCtEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDLDRCQUE0QixnRUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGNBQWMsNERBQVU7QUFDeEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSwwQkFBMEIsK0RBQVc7QUFDckM7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxnQkFBZ0IsZ0VBQWU7QUFDL0IsaUJBQWlCLCtEQUFtQjtBQUNwQztBQUNBLHNDQUFzQyw0REFBVTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0RBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0VBQW1CO0FBQ3BEO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixnRUFBZTtBQUN2QztBQUNBO0FBQ0Esc0NBQXNDLDREQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDREQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGlGQUF1QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpRUFBZTtBQUMvQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQVU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsK0RBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsbUNBQW1DO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLCtEQUFXO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQWdCO0FBQzVCLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLHNEQUFzRDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxpRkFBdUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDRCQUE0QixvRUFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFnQjtBQUM1QixZQUFZLGdFQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IscURBQXFEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkVBQW9CO0FBQzNDO0FBQ0EsbUNBQW1DLGlGQUF1QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRUFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLCtFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtRUFBZ0I7QUFDNUIsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSxnRUFBZTtBQUN2QixRQUFRLG1FQUFnQjtBQUN4QixLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQiwrQkFBK0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtRUFBZ0I7QUFDNUI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBLGtCQUFrQiwyRUFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQW1CO0FBQ25ELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFlO0FBQzNCLFlBQVksbUVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNGQUF1QixDQUFDLCtEQUFtQjtBQUMvRSx3QkFBd0IsNkVBQW9CO0FBQzVDO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhDQUE4QztBQUM5RDtBQUNBLG1EQUFtRCwyQkFBMkIsS0FBSyw0REFBVSw4Q0FBOEMsRUFBRSxzQkFBc0I7QUFDbkssa0RBQWtELDJCQUEyQixLQUFLLDREQUFVLDhDQUE4QyxFQUFFLHNCQUFzQjtBQUNsSztBQUNBLFlBQVksbUVBQWdCO0FBQzVCO0FBQ0Esb0JBQW9CLG1FQUFnQjtBQUNwQyxvQkFBb0IsZ0VBQWU7QUFDbkM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsMkVBQW9CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtEQUFtQjtBQUNuRCxhQUFhO0FBQ2I7QUFDQSxZQUFZLGdFQUFlO0FBQzNCLFlBQVksbUVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnRUFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxzRkFBdUIsQ0FBQywrREFBbUI7QUFDL0Usd0JBQXdCLDZFQUFvQjtBQUM1QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBZTtBQUMzQixZQUFZLG1FQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnRUFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxzRkFBdUIsQ0FBQywrREFBbUI7QUFDL0Usd0JBQXdCLDZFQUFvQjtBQUM1QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpREFBaUQsK0VBQW1CO0FBQ3BFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0Isa0NBQWtDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrRUFBbUI7QUFDakQsNEJBQTRCLCtFQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw0QkFBNEIsK0VBQW1CO0FBQy9DLDRCQUE0QiwrRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLCtFQUFpQjtBQUMvQyIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1N3YXBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IE51bWJlclV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBXM21GcmFtZVJwY0NvbnN0YW50cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtd2FsbGV0L3V0aWxzJztcbmltcG9ydCB7IEJhbGFuY2VVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQmFsYW5jZVV0aWwuanMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlTmV0d29ya1Rva2VuQWRkcmVzcywgZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUgfSBmcm9tICcuLi91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi4vdXRpbHMvQ29yZUhlbHBlclV0aWwuanMnO1xuaW1wb3J0IHsgU3dhcEFwaVV0aWwgfSBmcm9tICcuLi91dGlscy9Td2FwQXBpVXRpbC5qcyc7XG5pbXBvcnQgeyBTd2FwQ2FsY3VsYXRpb25VdGlsIH0gZnJvbSAnLi4vdXRpbHMvU3dhcENhbGN1bGF0aW9uVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEFsZXJ0Q29udHJvbGxlciB9IGZyb20gJy4vQWxlcnRDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyIH0gZnJvbSAnLi9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi9TbmFja0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gQ29uc3RhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBJTklUSUFMX0dBU19MSU1JVCA9IDE1MDAwMDtcbmV4cG9ydCBjb25zdCBUT19BTU9VTlRfREVDSU1BTFMgPSA2O1xuY2xhc3MgVHJhbnNhY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBkaXNwbGF5TWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RyYW5zYWN0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmRpc3BsYXlNZXNzYWdlID0gZGlzcGxheU1lc3NhZ2U7XG4gICAgfVxufVxuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gICAgLy8gTG9hZGluZyBzdGF0ZXNcbiAgICBpbml0aWFsaXppbmc6IGZhbHNlLFxuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICBsb2FkaW5nUHJpY2VzOiBmYWxzZSxcbiAgICBsb2FkaW5nUXVvdGU6IGZhbHNlLFxuICAgIGxvYWRpbmdBcHByb3ZhbFRyYW5zYWN0aW9uOiBmYWxzZSxcbiAgICBsb2FkaW5nQnVpbGRUcmFuc2FjdGlvbjogZmFsc2UsXG4gICAgbG9hZGluZ1RyYW5zYWN0aW9uOiBmYWxzZSxcbiAgICAvLyBDb250cm9sIHN0YXRlc1xuICAgIHN3aXRjaGluZ1Rva2VuczogZmFsc2UsXG4gICAgLy8gRXJyb3Igc3RhdGVzXG4gICAgZmV0Y2hFcnJvcjogZmFsc2UsXG4gICAgLy8gQXBwcm92YWwgJiBTd2FwIHRyYW5zYWN0aW9uIHN0YXRlc1xuICAgIGFwcHJvdmFsVHJhbnNhY3Rpb246IHVuZGVmaW5lZCxcbiAgICBzd2FwVHJhbnNhY3Rpb246IHVuZGVmaW5lZCxcbiAgICB0cmFuc2FjdGlvbkVycm9yOiB1bmRlZmluZWQsXG4gICAgLy8gSW5wdXQgdmFsdWVzXG4gICAgc291cmNlVG9rZW46IHVuZGVmaW5lZCxcbiAgICBzb3VyY2VUb2tlbkFtb3VudDogJycsXG4gICAgc291cmNlVG9rZW5QcmljZUluVVNEOiAwLFxuICAgIHRvVG9rZW46IHVuZGVmaW5lZCxcbiAgICB0b1Rva2VuQW1vdW50OiAnJyxcbiAgICB0b1Rva2VuUHJpY2VJblVTRDogMCxcbiAgICBuZXR3b3JrUHJpY2U6ICcwJyxcbiAgICBuZXR3b3JrQmFsYW5jZUluVVNEOiAnMCcsXG4gICAgbmV0d29ya1Rva2VuU3ltYm9sOiAnJyxcbiAgICBpbnB1dEVycm9yOiB1bmRlZmluZWQsXG4gICAgLy8gUmVxdWVzdCB2YWx1ZXNcbiAgICBzbGlwcGFnZTogQ29uc3RhbnRzVXRpbC5DT05WRVJUX1NMSVBQQUdFX1RPTEVSQU5DRSxcbiAgICAvLyBUb2tlbnNcbiAgICB0b2tlbnM6IHVuZGVmaW5lZCxcbiAgICBwb3B1bGFyVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgc3VnZ2VzdGVkVG9rZW5zOiB1bmRlZmluZWQsXG4gICAgZm91bmRUb2tlbnM6IHVuZGVmaW5lZCxcbiAgICBteVRva2Vuc1dpdGhCYWxhbmNlOiB1bmRlZmluZWQsXG4gICAgdG9rZW5zUHJpY2VNYXA6IHt9LFxuICAgIC8vIENhbGN1bGF0aW9uc1xuICAgIGdhc0ZlZTogJzAnLFxuICAgIGdhc1ByaWNlSW5VU0Q6IDAsXG4gICAgcHJpY2VJbXBhY3Q6IHVuZGVmaW5lZCxcbiAgICBtYXhTbGlwcGFnZTogdW5kZWZpbmVkLFxuICAgIHByb3ZpZGVyRmVlOiB1bmRlZmluZWRcbn07XG5jb25zdCBzdGF0ZSA9IHByb3h5KHsgLi4uaW5pdGlhbFN0YXRlIH0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBnZXRQYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbjtcbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmFtZXNwYWNlKT8uY2FpcEFkZHJlc3MgPz9cbiAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwQWRkcmVzcztcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhjYWlwQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtBZGRyZXNzID0gZ2V0QWN0aXZlTmV0d29ya1Rva2VuQWRkcmVzcygpO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQoQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluKTtcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFkZHJlc3MgZm91bmQgdG8gc3dhcCB0aGUgdG9rZW5zIGZyb20uJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW52YWxpZFRvVG9rZW4gPSAhc3RhdGUudG9Ub2tlbj8uYWRkcmVzcyB8fCAhc3RhdGUudG9Ub2tlbj8uZGVjaW1hbHM7XG4gICAgICAgIGNvbnN0IGludmFsaWRTb3VyY2VUb2tlbiA9ICFzdGF0ZS5zb3VyY2VUb2tlbj8uYWRkcmVzcyB8fFxuICAgICAgICAgICAgIXN0YXRlLnNvdXJjZVRva2VuPy5kZWNpbWFscyB8fFxuICAgICAgICAgICAgIU51bWJlclV0aWwuYmlnTnVtYmVyKHN0YXRlLnNvdXJjZVRva2VuQW1vdW50KS5ndCgwKTtcbiAgICAgICAgY29uc3QgaW52YWxpZFNvdXJjZVRva2VuQW1vdW50ID0gIXN0YXRlLnNvdXJjZVRva2VuQW1vdW50O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV0d29ya0FkZHJlc3MsXG4gICAgICAgICAgICBmcm9tQWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIGZyb21DYWlwQWRkcmVzczogY2FpcEFkZHJlc3MsXG4gICAgICAgICAgICBzb3VyY2VUb2tlbkFkZHJlc3M6IHN0YXRlLnNvdXJjZVRva2VuPy5hZGRyZXNzLFxuICAgICAgICAgICAgdG9Ub2tlbkFkZHJlc3M6IHN0YXRlLnRvVG9rZW4/LmFkZHJlc3MsXG4gICAgICAgICAgICB0b1Rva2VuQW1vdW50OiBzdGF0ZS50b1Rva2VuQW1vdW50LFxuICAgICAgICAgICAgdG9Ub2tlbkRlY2ltYWxzOiBzdGF0ZS50b1Rva2VuPy5kZWNpbWFscyxcbiAgICAgICAgICAgIHNvdXJjZVRva2VuQW1vdW50OiBzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCxcbiAgICAgICAgICAgIHNvdXJjZVRva2VuRGVjaW1hbHM6IHN0YXRlLnNvdXJjZVRva2VuPy5kZWNpbWFscyxcbiAgICAgICAgICAgIGludmFsaWRUb1Rva2VuLFxuICAgICAgICAgICAgaW52YWxpZFNvdXJjZVRva2VuLFxuICAgICAgICAgICAgaW52YWxpZFNvdXJjZVRva2VuQW1vdW50LFxuICAgICAgICAgICAgYXZhaWxhYmxlVG9Td2FwOiBjYWlwQWRkcmVzcyAmJiAhaW52YWxpZFRvVG9rZW4gJiYgIWludmFsaWRTb3VyY2VUb2tlbiAmJiAhaW52YWxpZFNvdXJjZVRva2VuQW1vdW50LFxuICAgICAgICAgICAgaXNBdXRoQ29ubmVjdG9yOiBjb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgc2V0U291cmNlVG9rZW4oc291cmNlVG9rZW4pIHtcbiAgICAgICAgaWYgKCFzb3VyY2VUb2tlbikge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlVG9rZW4gPSBzb3VyY2VUb2tlbjtcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZVRva2VuQW1vdW50ID0gJyc7XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VUb2tlblByaWNlSW5VU0QgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnNvdXJjZVRva2VuID0gc291cmNlVG9rZW47XG4gICAgICAgIGF3YWl0IFN3YXBDb250cm9sbGVyLnNldFRva2VuUHJpY2Uoc291cmNlVG9rZW4uYWRkcmVzcywgJ3NvdXJjZVRva2VuJyk7XG4gICAgfSxcbiAgICBzZXRTb3VyY2VUb2tlbkFtb3VudChhbW91bnQpIHtcbiAgICAgICAgc3RhdGUuc291cmNlVG9rZW5BbW91bnQgPSBhbW91bnQ7XG4gICAgfSxcbiAgICBhc3luYyBzZXRUb1Rva2VuKHRvVG9rZW4pIHtcbiAgICAgICAgaWYgKCF0b1Rva2VuKSB7XG4gICAgICAgICAgICBzdGF0ZS50b1Rva2VuID0gdG9Ub2tlbjtcbiAgICAgICAgICAgIHN0YXRlLnRvVG9rZW5BbW91bnQgPSAnJztcbiAgICAgICAgICAgIHN0YXRlLnRvVG9rZW5QcmljZUluVVNEID0gMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS50b1Rva2VuID0gdG9Ub2tlbjtcbiAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuc2V0VG9rZW5QcmljZSh0b1Rva2VuLmFkZHJlc3MsICd0b1Rva2VuJyk7XG4gICAgfSxcbiAgICBzZXRUb1Rva2VuQW1vdW50KGFtb3VudCkge1xuICAgICAgICBzdGF0ZS50b1Rva2VuQW1vdW50ID0gYW1vdW50ID8gTnVtYmVyVXRpbC50b0ZpeGVkKGFtb3VudCwgVE9fQU1PVU5UX0RFQ0lNQUxTKSA6ICcnO1xuICAgIH0sXG4gICAgYXN5bmMgc2V0VG9rZW5QcmljZShhZGRyZXNzLCB0YXJnZXQpIHtcbiAgICAgICAgbGV0IHByaWNlID0gc3RhdGUudG9rZW5zUHJpY2VNYXBbYWRkcmVzc10gfHwgMDtcbiAgICAgICAgaWYgKCFwcmljZSkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ1ByaWNlcyA9IHRydWU7XG4gICAgICAgICAgICBwcmljZSA9IGF3YWl0IFN3YXBDb250cm9sbGVyLmdldEFkZHJlc3NQcmljZShhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0ID09PSAnc291cmNlVG9rZW4nKSB7XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VUb2tlblByaWNlSW5VU0QgPSBwcmljZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YXJnZXQgPT09ICd0b1Rva2VuJykge1xuICAgICAgICAgICAgc3RhdGUudG9Ub2tlblByaWNlSW5VU0QgPSBwcmljZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUubG9hZGluZ1ByaWNlcykge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ1ByaWNlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKS5hdmFpbGFibGVUb1N3YXAgJiYgIXN0YXRlLnN3aXRjaGluZ1Rva2Vucykge1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc3dhcFRva2VucygpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzd2l0Y2hUb2tlbnMoKSB7XG4gICAgICAgIGlmIChzdGF0ZS5pbml0aWFsaXppbmcgfHwgIXN0YXRlLmluaXRpYWxpemVkIHx8IHN0YXRlLnN3aXRjaGluZ1Rva2Vucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnN3aXRjaGluZ1Rva2VucyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXdTb3VyY2VUb2tlbiA9IHN0YXRlLnRvVG9rZW4gPyB7IC4uLnN0YXRlLnRvVG9rZW4gfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RvVG9rZW4gPSBzdGF0ZS5zb3VyY2VUb2tlbiA/IHsgLi4uc3RhdGUuc291cmNlVG9rZW4gfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NvdXJjZVRva2VuQW1vdW50ID0gbmV3U291cmNlVG9rZW4gJiYgc3RhdGUudG9Ub2tlbkFtb3VudCA9PT0gJycgPyAnMScgOiBzdGF0ZS50b1Rva2VuQW1vdW50O1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0U291cmNlVG9rZW5BbW91bnQobmV3U291cmNlVG9rZW5BbW91bnQpO1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0VG9Ub2tlbkFtb3VudCgnJyk7XG4gICAgICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5zZXRTb3VyY2VUb2tlbihuZXdTb3VyY2VUb2tlbik7XG4gICAgICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5zZXRUb1Rva2VuKG5ld1RvVG9rZW4pO1xuICAgICAgICAgICAgc3RhdGUuc3dpdGNoaW5nVG9rZW5zID0gZmFsc2U7XG4gICAgICAgICAgICBTd2FwQ29udHJvbGxlci5zd2FwVG9rZW5zKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBzdGF0ZS5zd2l0Y2hpbmdUb2tlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXNldFN0YXRlKCkge1xuICAgICAgICBzdGF0ZS5teVRva2Vuc1dpdGhCYWxhbmNlID0gaW5pdGlhbFN0YXRlLm15VG9rZW5zV2l0aEJhbGFuY2U7XG4gICAgICAgIHN0YXRlLnRva2Vuc1ByaWNlTWFwID0gaW5pdGlhbFN0YXRlLnRva2Vuc1ByaWNlTWFwO1xuICAgICAgICBzdGF0ZS5pbml0aWFsaXplZCA9IGluaXRpYWxTdGF0ZS5pbml0aWFsaXplZDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbGl6aW5nID0gaW5pdGlhbFN0YXRlLmluaXRpYWxpemluZztcbiAgICAgICAgc3RhdGUuc3dpdGNoaW5nVG9rZW5zID0gaW5pdGlhbFN0YXRlLnN3aXRjaGluZ1Rva2VucztcbiAgICAgICAgc3RhdGUuc291cmNlVG9rZW4gPSBpbml0aWFsU3RhdGUuc291cmNlVG9rZW47XG4gICAgICAgIHN0YXRlLnNvdXJjZVRva2VuQW1vdW50ID0gaW5pdGlhbFN0YXRlLnNvdXJjZVRva2VuQW1vdW50O1xuICAgICAgICBzdGF0ZS5zb3VyY2VUb2tlblByaWNlSW5VU0QgPSBpbml0aWFsU3RhdGUuc291cmNlVG9rZW5QcmljZUluVVNEO1xuICAgICAgICBzdGF0ZS50b1Rva2VuID0gaW5pdGlhbFN0YXRlLnRvVG9rZW47XG4gICAgICAgIHN0YXRlLnRvVG9rZW5BbW91bnQgPSBpbml0aWFsU3RhdGUudG9Ub2tlbkFtb3VudDtcbiAgICAgICAgc3RhdGUudG9Ub2tlblByaWNlSW5VU0QgPSBpbml0aWFsU3RhdGUudG9Ub2tlblByaWNlSW5VU0Q7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtQcmljZSA9IGluaXRpYWxTdGF0ZS5uZXR3b3JrUHJpY2U7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtUb2tlblN5bWJvbCA9IGluaXRpYWxTdGF0ZS5uZXR3b3JrVG9rZW5TeW1ib2w7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtCYWxhbmNlSW5VU0QgPSBpbml0aWFsU3RhdGUubmV0d29ya0JhbGFuY2VJblVTRDtcbiAgICAgICAgc3RhdGUuaW5wdXRFcnJvciA9IGluaXRpYWxTdGF0ZS5pbnB1dEVycm9yO1xuICAgIH0sXG4gICAgcmVzZXRWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgbmV0d29ya0FkZHJlc3MgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBjb25zdCBuZXR3b3JrVG9rZW4gPSBzdGF0ZS50b2tlbnM/LmZpbmQodG9rZW4gPT4gdG9rZW4uYWRkcmVzcyA9PT0gbmV0d29ya0FkZHJlc3MpO1xuICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRTb3VyY2VUb2tlbihuZXR3b3JrVG9rZW4pO1xuICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRUb1Rva2VuKHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBnZXRBcHByb3ZhbExvYWRpbmdTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmxvYWRpbmdBcHByb3ZhbFRyYW5zYWN0aW9uO1xuICAgIH0sXG4gICAgY2xlYXJFcnJvcigpIHtcbiAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25FcnJvciA9IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGFzeW5jIGluaXRpYWxpemVTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHN0YXRlLmluaXRpYWxpemluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmluaXRpYWxpemluZyA9IHRydWU7XG4gICAgICAgIGlmICghc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgU3dhcENvbnRyb2xsZXIuZmV0Y2hUb2tlbnMoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIHN3YXAnKTtcbiAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLmdvQmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hUb2tlbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgbmV0d29ya0FkZHJlc3MgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5nZXROZXR3b3JrVG9rZW5QcmljZSgpO1xuICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKCk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtUb2tlbiA9IHN0YXRlLm15VG9rZW5zV2l0aEJhbGFuY2U/LmZpbmQodG9rZW4gPT4gdG9rZW4uYWRkcmVzcyA9PT0gbmV0d29ya0FkZHJlc3MpO1xuICAgICAgICBpZiAobmV0d29ya1Rva2VuKSB7XG4gICAgICAgICAgICBzdGF0ZS5uZXR3b3JrVG9rZW5TeW1ib2wgPSBuZXR3b3JrVG9rZW4uc3ltYm9sO1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0U291cmNlVG9rZW4obmV0d29ya1Rva2VuKTtcbiAgICAgICAgICAgIFN3YXBDb250cm9sbGVyLnNldFNvdXJjZVRva2VuQW1vdW50KCcwJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGdldFRva2VuTGlzdCgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlQ2FpcE5ldHdvcmtJZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZDtcbiAgICAgICAgaWYgKHN0YXRlLmNhaXBOZXR3b3JrSWQgPT09IGFjdGl2ZUNhaXBOZXR3b3JrSWQgJiYgc3RhdGUudG9rZW5zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLnRva2Vuc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgU3dhcEFwaVV0aWwuZ2V0VG9rZW5MaXN0KGFjdGl2ZUNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgc3RhdGUudG9rZW5zID0gdG9rZW5zO1xuICAgICAgICAgICAgc3RhdGUuY2FpcE5ldHdvcmtJZCA9IGFjdGl2ZUNhaXBOZXR3b3JrSWQ7XG4gICAgICAgICAgICBzdGF0ZS5wb3B1bGFyVG9rZW5zID0gdG9rZW5zLnNvcnQoKGFUb2tlbkluZm8sIGJUb2tlbkluZm8pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYVRva2VuSW5mby5zeW1ib2wgPCBiVG9rZW5JbmZvLnN5bWJvbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhVG9rZW5JbmZvLnN5bWJvbCA+IGJUb2tlbkluZm8uc3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGVkVG9rZW5zQnlDaGFpbiA9IChhY3RpdmVDYWlwTmV0d29ya0lkICYmXG4gICAgICAgICAgICAgICAgQ29uc3RhbnRzVXRpbC5TVUdHRVNURURfVE9LRU5TX0JZX0NIQUlOPy5bYWN0aXZlQ2FpcE5ldHdvcmtJZF0pIHx8XG4gICAgICAgICAgICAgICAgW107XG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0ZWRUb2tlbk9iamVjdHMgPSBzdWdnZXN0ZWRUb2tlbnNCeUNoYWluXG4gICAgICAgICAgICAgICAgLm1hcChzeW1ib2wgPT4gdG9rZW5zLmZpbmQodCA9PiB0LnN5bWJvbCA9PT0gc3ltYm9sKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh0KSA9PiBCb29sZWFuKHQpKTtcbiAgICAgICAgICAgIGNvbnN0IGFsbFN1Z2dlc3RlZFRva2VucyA9IENvbnN0YW50c1V0aWwuU1dBUF9TVUdHRVNURURfVE9LRU5TIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgYWxsU3VnZ2VzdGVkVG9rZW5PYmplY3RzID0gYWxsU3VnZ2VzdGVkVG9rZW5zXG4gICAgICAgICAgICAgICAgLm1hcChzeW1ib2wgPT4gdG9rZW5zLmZpbmQodCA9PiB0LnN5bWJvbCA9PT0gc3ltYm9sKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh0KSA9PiBCb29sZWFuKHQpKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIodCA9PiAhc3VnZ2VzdGVkVG9rZW5PYmplY3RzLnNvbWUoY3QgPT4gY3QuYWRkcmVzcyA9PT0gdC5hZGRyZXNzKSk7XG4gICAgICAgICAgICBzdGF0ZS5zdWdnZXN0ZWRUb2tlbnMgPSBbLi4uc3VnZ2VzdGVkVG9rZW5PYmplY3RzLCAuLi5hbGxTdWdnZXN0ZWRUb2tlbk9iamVjdHNdO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5zID0gW107XG4gICAgICAgICAgICBzdGF0ZS5wb3B1bGFyVG9rZW5zID0gW107XG4gICAgICAgICAgICBzdGF0ZS5zdWdnZXN0ZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN0YXRlLnRva2Vuc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0QWRkcmVzc1ByaWNlKGFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgZXhpc3RQcmljZSA9IHN0YXRlLnRva2Vuc1ByaWNlTWFwW2FkZHJlc3NdO1xuICAgICAgICBpZiAoZXhpc3RQcmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4aXN0UHJpY2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5mZXRjaFRva2VuUHJpY2Uoe1xuICAgICAgICAgICAgYWRkcmVzc2VzOiBbYWRkcmVzc11cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZ1bmdpYmxlcyA9IHJlc3BvbnNlPy5mdW5naWJsZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGFsbFRva2VucyA9IFsuLi4oc3RhdGUudG9rZW5zIHx8IFtdKSwgLi4uKHN0YXRlLm15VG9rZW5zV2l0aEJhbGFuY2UgfHwgW10pXTtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gYWxsVG9rZW5zPy5maW5kKHRva2VuID0+IHRva2VuLmFkZHJlc3MgPT09IGFkZHJlc3MpPy5zeW1ib2w7XG4gICAgICAgIGNvbnN0IHByaWNlID0gZnVuZ2libGVzLmZpbmQocCA9PiBwLnN5bWJvbC50b0xvd2VyQ2FzZSgpID09PSBzeW1ib2w/LnRvTG93ZXJDYXNlKCkpPy5wcmljZSB8fCAwO1xuICAgICAgICBjb25zdCBwcmljZUFzRmxvYXQgPSBwYXJzZUZsb2F0KHByaWNlLnRvU3RyaW5nKCkpO1xuICAgICAgICBzdGF0ZS50b2tlbnNQcmljZU1hcFthZGRyZXNzXSA9IHByaWNlQXNGbG9hdDtcbiAgICAgICAgcmV0dXJuIHByaWNlQXNGbG9hdDtcbiAgICB9LFxuICAgIGFzeW5jIGdldE5ldHdvcmtUb2tlblByaWNlKCkge1xuICAgICAgICBjb25zdCB7IG5ldHdvcmtBZGRyZXNzIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5mZXRjaFRva2VuUHJpY2Uoe1xuICAgICAgICAgICAgYWRkcmVzc2VzOiBbbmV0d29ya0FkZHJlc3NdXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBuZXR3b3JrIHRva2VuIHByaWNlJyk7XG4gICAgICAgICAgICByZXR1cm4geyBmdW5naWJsZXM6IFtdIH07XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlc3BvbnNlLmZ1bmdpYmxlcz8uWzBdO1xuICAgICAgICBjb25zdCBwcmljZSA9IHRva2VuPy5wcmljZS50b1N0cmluZygpIHx8ICcwJztcbiAgICAgICAgc3RhdGUudG9rZW5zUHJpY2VNYXBbbmV0d29ya0FkZHJlc3NdID0gcGFyc2VGbG9hdChwcmljZSk7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtUb2tlblN5bWJvbCA9IHRva2VuPy5zeW1ib2wgfHwgJyc7XG4gICAgICAgIHN0YXRlLm5ldHdvcmtQcmljZSA9IHByaWNlO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZShmb3JjZVVwZGF0ZSkge1xuICAgICAgICBjb25zdCBiYWxhbmNlcyA9IGF3YWl0IEJhbGFuY2VVdGlsLmdldE15VG9rZW5zV2l0aEJhbGFuY2Uoe1xuICAgICAgICAgICAgZm9yY2VVcGRhdGUsXG4gICAgICAgICAgICBjYWlwTmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrLFxuICAgICAgICAgICAgYWRkcmVzczogQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmFkZHJlc3NcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN3YXBCYWxhbmNlcyA9IFN3YXBBcGlVdGlsLm1hcEJhbGFuY2VzVG9Td2FwVG9rZW5zKGJhbGFuY2VzKTtcbiAgICAgICAgaWYgKCFzd2FwQmFsYW5jZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5nZXRJbml0aWFsR2FzUHJpY2UoKTtcbiAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0QmFsYW5jZXMoc3dhcEJhbGFuY2VzKTtcbiAgICB9LFxuICAgIHNldEJhbGFuY2VzKGJhbGFuY2VzKSB7XG4gICAgICAgIGNvbnN0IHsgbmV0d29ya0FkZHJlc3MgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBjb25zdCBjYWlwTmV0d29yayA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaztcbiAgICAgICAgaWYgKCFjYWlwTmV0d29yaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ldHdvcmtUb2tlbiA9IGJhbGFuY2VzLmZpbmQodG9rZW4gPT4gdG9rZW4uYWRkcmVzcyA9PT0gbmV0d29ya0FkZHJlc3MpO1xuICAgICAgICBiYWxhbmNlcy5mb3JFYWNoKHRva2VuID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnRva2Vuc1ByaWNlTWFwW3Rva2VuLmFkZHJlc3NdID0gdG9rZW4ucHJpY2UgfHwgMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlLm15VG9rZW5zV2l0aEJhbGFuY2UgPSBiYWxhbmNlcy5maWx0ZXIodG9rZW4gPT4gdG9rZW4uYWRkcmVzcy5zdGFydHNXaXRoKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpKTtcbiAgICAgICAgc3RhdGUubmV0d29ya0JhbGFuY2VJblVTRCA9IG5ldHdvcmtUb2tlblxuICAgICAgICAgICAgPyBOdW1iZXJVdGlsLm11bHRpcGx5KG5ldHdvcmtUb2tlbi5xdWFudGl0eS5udW1lcmljLCBuZXR3b3JrVG9rZW4ucHJpY2UpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogJzAnO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0SW5pdGlhbEdhc1ByaWNlKCkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBTd2FwQXBpVXRpbC5mZXRjaEdhc1ByaWNlKCk7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICByZXR1cm4geyBnYXNQcmljZTogbnVsbCwgZ2FzUHJpY2VJblVTRDogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoQ2hhaW5Db250cm9sbGVyLnN0YXRlPy5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIGNhc2UgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkE6XG4gICAgICAgICAgICAgICAgc3RhdGUuZ2FzRmVlID0gcmVzLnN0YW5kYXJkID8/ICcwJztcbiAgICAgICAgICAgICAgICBzdGF0ZS5nYXNQcmljZUluVVNEID0gTnVtYmVyVXRpbC5tdWx0aXBseShyZXMuc3RhbmRhcmQsIHN0YXRlLm5ldHdvcmtQcmljZSlcbiAgICAgICAgICAgICAgICAgICAgLmRpdigxZTkpXG4gICAgICAgICAgICAgICAgICAgIC50b051bWJlcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGdhc1ByaWNlOiBCaWdJbnQoc3RhdGUuZ2FzRmVlKSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzUHJpY2VJblVTRDogTnVtYmVyKHN0YXRlLmdhc1ByaWNlSW5VU0QpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk06XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzLnN0YW5kYXJkID8/ICcwJztcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICAgICAgICBjb25zdCBnYXNGZWUgPSBCaWdJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhc0xpbWl0ID0gQmlnSW50KElOSVRJQUxfR0FTX0xJTUlUKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY2FzZS1kZWNsYXJhdGlvbnNcbiAgICAgICAgICAgICAgICBjb25zdCBnYXNQcmljZSA9IFN3YXBDYWxjdWxhdGlvblV0aWwuZ2V0R2FzUHJpY2VJblVTRChzdGF0ZS5uZXR3b3JrUHJpY2UsIGdhc0xpbWl0LCBnYXNGZWUpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmdhc0ZlZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmdhc1ByaWNlSW5VU0QgPSBnYXNQcmljZTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBnYXNQcmljZTogZ2FzRmVlLCBnYXNQcmljZUluVVNEOiBnYXNQcmljZSB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyAtLSBTd2FwIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgYXN5bmMgc3dhcFRva2VucygpIHtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzO1xuICAgICAgICBjb25zdCBzb3VyY2VUb2tlbiA9IHN0YXRlLnNvdXJjZVRva2VuO1xuICAgICAgICBjb25zdCB0b1Rva2VuID0gc3RhdGUudG9Ub2tlbjtcbiAgICAgICAgY29uc3QgaGF2ZVNvdXJjZVRva2VuQW1vdW50ID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIoc3RhdGUuc291cmNlVG9rZW5BbW91bnQpLmd0KDApO1xuICAgICAgICBpZiAoIWhhdmVTb3VyY2VUb2tlbkFtb3VudCkge1xuICAgICAgICAgICAgU3dhcENvbnRyb2xsZXIuc2V0VG9Ub2tlbkFtb3VudCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b1Rva2VuIHx8ICFzb3VyY2VUb2tlbiB8fCBzdGF0ZS5sb2FkaW5nUHJpY2VzIHx8ICFoYXZlU291cmNlVG9rZW5BbW91bnQgfHwgIWFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sb2FkaW5nUXVvdGUgPSB0cnVlO1xuICAgICAgICBjb25zdCBhbW91bnREZWNpbWFsID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIoc3RhdGUuc291cmNlVG9rZW5BbW91bnQpXG4gICAgICAgICAgICAudGltZXMoMTAgKiogc291cmNlVG9rZW4uZGVjaW1hbHMpXG4gICAgICAgICAgICAucm91bmQoMClcbiAgICAgICAgICAgIC50b0ZpeGVkKDApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcXVvdGVSZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmZldGNoU3dhcFF1b3RlKHtcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBmcm9tOiBzb3VyY2VUb2tlbi5hZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRvOiB0b1Rva2VuLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZ2FzUHJpY2U6IHN0YXRlLmdhc0ZlZSxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudERlY2ltYWwudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nUXVvdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHF1b3RlVG9BbW91bnQgPSBxdW90ZVJlc3BvbnNlPy5xdW90ZXM/LlswXT8udG9BbW91bnQ7XG4gICAgICAgICAgICBpZiAoIXF1b3RlVG9BbW91bnQpIHtcbiAgICAgICAgICAgICAgICBBbGVydENvbnRyb2xsZXIub3Blbih7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiAnSW5jb3JyZWN0IGFtb3VudCcsXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGFtb3VudCdcbiAgICAgICAgICAgICAgICB9LCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b1Rva2VuQW1vdW50ID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIocXVvdGVUb0Ftb3VudClcbiAgICAgICAgICAgICAgICAuZGl2KDEwICoqIHRvVG9rZW4uZGVjaW1hbHMpXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBTd2FwQ29udHJvbGxlci5zZXRUb1Rva2VuQW1vdW50KHRvVG9rZW5BbW91bnQpO1xuICAgICAgICAgICAgY29uc3QgaXNJbnN1ZmZpY2llbnRUb2tlbiA9IFN3YXBDb250cm9sbGVyLmhhc0luc3VmZmljaWVudFRva2VuKHN0YXRlLnNvdXJjZVRva2VuQW1vdW50LCBzb3VyY2VUb2tlbi5hZGRyZXNzKTtcbiAgICAgICAgICAgIGlmIChpc0luc3VmZmljaWVudFRva2VuKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuaW5wdXRFcnJvciA9ICdJbnN1ZmZpY2llbnQgYmFsYW5jZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pbnB1dEVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIFN3YXBDb250cm9sbGVyLnNldFRyYW5zYWN0aW9uRGV0YWlscygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBTd2FwQXBpVXRpbC5oYW5kbGVTd2FwRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ1F1b3RlID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5pbnB1dEVycm9yID0gcmVzcG9uc2UgfHwgJ0luc3VmZmljaWVudCBiYWxhbmNlJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gLS0gQ3JlYXRlIFRyYW5zYWN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIGFzeW5jIGdldFRyYW5zYWN0aW9uKCkge1xuICAgICAgICBjb25zdCB7IGZyb21DYWlwQWRkcmVzcywgYXZhaWxhYmxlVG9Td2FwIH0gPSBTd2FwQ29udHJvbGxlci5nZXRQYXJhbXMoKTtcbiAgICAgICAgY29uc3Qgc291cmNlVG9rZW4gPSBzdGF0ZS5zb3VyY2VUb2tlbjtcbiAgICAgICAgY29uc3QgdG9Ub2tlbiA9IHN0YXRlLnRvVG9rZW47XG4gICAgICAgIGlmICghZnJvbUNhaXBBZGRyZXNzIHx8ICFhdmFpbGFibGVUb1N3YXAgfHwgIXNvdXJjZVRva2VuIHx8ICF0b1Rva2VuIHx8IHN0YXRlLmxvYWRpbmdRdW90ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ0J1aWxkVHJhbnNhY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgaGFzQWxsb3dhbmNlID0gYXdhaXQgU3dhcEFwaVV0aWwuZmV0Y2hTd2FwQWxsb3dhbmNlKHtcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzczogZnJvbUNhaXBBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRva2VuQWRkcmVzczogc291cmNlVG9rZW4uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBzb3VyY2VUb2tlbkFtb3VudDogc3RhdGUuc291cmNlVG9rZW5BbW91bnQsXG4gICAgICAgICAgICAgICAgc291cmNlVG9rZW5EZWNpbWFsczogc291cmNlVG9rZW4uZGVjaW1hbHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGhhc0FsbG93YW5jZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uID0gYXdhaXQgU3dhcENvbnRyb2xsZXIuY3JlYXRlU3dhcFRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbiA9IGF3YWl0IFN3YXBDb250cm9sbGVyLmNyZWF0ZUFsbG93YW5jZVRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nQnVpbGRUcmFuc2FjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUuZmV0Y2hFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5nb0JhY2soKTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBhbGxvd2FuY2UnKTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdCdWlsZFRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5hcHByb3ZhbFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuc3dhcFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuZmV0Y2hFcnJvciA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBjcmVhdGVBbGxvd2FuY2VUcmFuc2FjdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBmcm9tQ2FpcEFkZHJlc3MsIHNvdXJjZVRva2VuQWRkcmVzcywgdG9Ub2tlbkFkZHJlc3MgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBpZiAoIWZyb21DYWlwQWRkcmVzcyB8fCAhdG9Ub2tlbkFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzb3VyY2VUb2tlbkFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlQWxsb3dhbmNlVHJhbnNhY3Rpb24gLSBObyBzb3VyY2UgdG9rZW4gYWRkcmVzcyBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBCbG9ja2NoYWluQXBpQ29udHJvbGxlci5nZW5lcmF0ZUFwcHJvdmVDYWxsZGF0YSh7XG4gICAgICAgICAgICAgICAgZnJvbTogc291cmNlVG9rZW5BZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRvOiB0b1Rva2VuQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzczogZnJvbUNhaXBBZGRyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBDb3JlSGVscGVyVXRpbC5nZXRQbGFpbkFkZHJlc3MocmVzcG9uc2UudHguZnJvbSk7XG4gICAgICAgICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N3YXBDb250cm9sbGVyOmNyZWF0ZUFsbG93YW5jZVRyYW5zYWN0aW9uIC0gYWRkcmVzcyBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgZGF0YTogcmVzcG9uc2UudHguZGF0YSxcbiAgICAgICAgICAgICAgICB0bzogYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBnYXNQcmljZTogQmlnSW50KHJlc3BvbnNlLnR4LmVpcDE1NS5nYXNQcmljZSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IEJpZ0ludChyZXNwb25zZS50eC52YWx1ZSksXG4gICAgICAgICAgICAgICAgdG9BbW91bnQ6IHN0YXRlLnRvVG9rZW5BbW91bnRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZS5zd2FwVHJhbnNhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5hcHByb3ZhbFRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IHRyYW5zYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICAgICAgdG86IHRyYW5zYWN0aW9uLnRvLFxuICAgICAgICAgICAgICAgIGdhc1ByaWNlOiB0cmFuc2FjdGlvbi5nYXNQcmljZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJhbnNhY3Rpb24udmFsdWUsXG4gICAgICAgICAgICAgICAgdG9BbW91bnQ6IHRyYW5zYWN0aW9uLnRvQW1vdW50XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB0cmFuc2FjdGlvbi5kYXRhLFxuICAgICAgICAgICAgICAgIHRvOiB0cmFuc2FjdGlvbi50byxcbiAgICAgICAgICAgICAgICBnYXNQcmljZTogdHJhbnNhY3Rpb24uZ2FzUHJpY2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRyYW5zYWN0aW9uLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRvQW1vdW50OiB0cmFuc2FjdGlvbi50b0Ftb3VudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGFwcHJvdmFsIHRyYW5zYWN0aW9uJyk7XG4gICAgICAgICAgICBzdGF0ZS5hcHByb3ZhbFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuc3dhcFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuZmV0Y2hFcnJvciA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBjcmVhdGVTd2FwVHJhbnNhY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgbmV0d29ya0FkZHJlc3MsIGZyb21DYWlwQWRkcmVzcywgc291cmNlVG9rZW5BbW91bnQgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBjb25zdCBzb3VyY2VUb2tlbiA9IHN0YXRlLnNvdXJjZVRva2VuO1xuICAgICAgICBjb25zdCB0b1Rva2VuID0gc3RhdGUudG9Ub2tlbjtcbiAgICAgICAgaWYgKCFmcm9tQ2FpcEFkZHJlc3MgfHwgIXNvdXJjZVRva2VuQW1vdW50IHx8ICFzb3VyY2VUb2tlbiB8fCAhdG9Ub2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbW91bnQgPSBDb25uZWN0aW9uQ29udHJvbGxlci5wYXJzZVVuaXRzKHNvdXJjZVRva2VuQW1vdW50LCBzb3VyY2VUb2tlbi5kZWNpbWFscyk/LnRvU3RyaW5nKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdlbmVyYXRlU3dhcENhbGxkYXRhKHtcbiAgICAgICAgICAgICAgICB1c2VyQWRkcmVzczogZnJvbUNhaXBBZGRyZXNzLFxuICAgICAgICAgICAgICAgIGZyb206IHNvdXJjZVRva2VuLmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgdG86IHRvVG9rZW4uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlRXN0aW1hdGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaXNTb3VyY2VUb2tlbklzTmV0d29ya1Rva2VuID0gc291cmNlVG9rZW4uYWRkcmVzcyA9PT0gbmV0d29ya0FkZHJlc3M7XG4gICAgICAgICAgICBjb25zdCBnYXMgPSBCaWdJbnQocmVzcG9uc2UudHguZWlwMTU1Lmdhcyk7XG4gICAgICAgICAgICBjb25zdCBnYXNQcmljZSA9IEJpZ0ludChyZXNwb25zZS50eC5laXAxNTUuZ2FzUHJpY2UpO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhyZXNwb25zZS50eC50byk7XG4gICAgICAgICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N3YXBDb250cm9sbGVyOmNyZWF0ZVN3YXBUcmFuc2FjdGlvbiAtIGFkZHJlc3MgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLnR4LmRhdGEsXG4gICAgICAgICAgICAgICAgdG86IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZ2FzLFxuICAgICAgICAgICAgICAgIGdhc1ByaWNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBpc1NvdXJjZVRva2VuSXNOZXR3b3JrVG9rZW4gPyBCaWdJbnQoYW1vdW50ID8/ICcwJykgOiBCaWdJbnQoJzAnKSxcbiAgICAgICAgICAgICAgICB0b0Ftb3VudDogc3RhdGUudG9Ub2tlbkFtb3VudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLmdhc1ByaWNlSW5VU0QgPSBTd2FwQ2FsY3VsYXRpb25VdGlsLmdldEdhc1ByaWNlSW5VU0Qoc3RhdGUubmV0d29ya1ByaWNlLCBnYXMsIGdhc1ByaWNlKTtcbiAgICAgICAgICAgIHN0YXRlLmFwcHJvdmFsVHJhbnNhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzdGF0ZS5zd2FwVHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuZ29CYWNrKCk7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0Vycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHRyYW5zYWN0aW9uJyk7XG4gICAgICAgICAgICBzdGF0ZS5hcHByb3ZhbFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuc3dhcFRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgc3RhdGUuZmV0Y2hFcnJvciA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkVtYmVkZGVkV2FsbGV0QXBwcm92YWxTdWNjZXNzKCkge1xuICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0xvYWRpbmcoJ0FwcHJvdmUgbGltaXQgaW5jcmVhc2UgaW4geW91ciB3YWxsZXQnKTtcbiAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdTd2FwUHJldmlldycpO1xuICAgIH0sXG4gICAgLy8gLS0gU2VuZCBUcmFuc2FjdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG4gICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uRm9yQXBwcm92YWwoZGF0YSkge1xuICAgICAgICBjb25zdCB7IGZyb21BZGRyZXNzLCBpc0F1dGhDb25uZWN0b3IgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBzdGF0ZS5sb2FkaW5nQXBwcm92YWxUcmFuc2FjdGlvbiA9IHRydWU7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVMaW1pdE1lc3NhZ2UgPSBgQXBwcm92ZSBsaW1pdCBpbmNyZWFzZSBpbiB5b3VyIHdhbGxldGA7XG4gICAgICAgIGlmIChpc0F1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaFRyYW5zYWN0aW9uU3RhY2soe1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogU3dhcENvbnRyb2xsZXIub25FbWJlZGRlZFdhbGxldEFwcHJvdmFsU3VjY2Vzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0xvYWRpbmcoYXBwcm92ZUxpbWl0TWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgYWRkcmVzczogZnJvbUFkZHJlc3MsXG4gICAgICAgICAgICAgICAgdG86IGRhdGEudG8sXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YS5kYXRhLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkYXRhLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNoYWluTmFtZXNwYWNlOiBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5zd2FwVG9rZW5zKCk7XG4gICAgICAgICAgICBhd2FpdCBTd2FwQ29udHJvbGxlci5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgc3RhdGUuYXBwcm92YWxUcmFuc2FjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmdBcHByb3ZhbFRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlcnI7XG4gICAgICAgICAgICBzdGF0ZS50cmFuc2FjdGlvbkVycm9yID0gZXJyb3I/LmRpc3BsYXlNZXNzYWdlO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ0FwcHJvdmFsVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoZXJyb3I/LmRpc3BsYXlNZXNzYWdlIHx8ICdUcmFuc2FjdGlvbiBlcnJvcicpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTV0FQX0FQUFJPVkFMX0VSUk9SJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yPy5kaXNwbGF5TWVzc2FnZSB8fCBlcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcEZyb21Ub2tlbjogU3dhcENvbnRyb2xsZXIuc3RhdGUuc291cmNlVG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcFRvVG9rZW46IFN3YXBDb250cm9sbGVyLnN0YXRlLnRvVG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcEZyb21BbW91bnQ6IFN3YXBDb250cm9sbGVyLnN0YXRlLnNvdXJjZVRva2VuQW1vdW50IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBzd2FwVG9BbW91bnQ6IFN3YXBDb250cm9sbGVyLnN0YXRlLnRvVG9rZW5BbW91bnQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uRm9yU3dhcChkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGZyb21BZGRyZXNzLCB0b1Rva2VuQW1vdW50LCBpc0F1dGhDb25uZWN0b3IgfSA9IFN3YXBDb250cm9sbGVyLmdldFBhcmFtcygpO1xuICAgICAgICBzdGF0ZS5sb2FkaW5nVHJhbnNhY3Rpb24gPSB0cnVlO1xuICAgICAgICBjb25zdCBzbmFja2JhclBlbmRpbmdNZXNzYWdlID0gYFN3YXBwaW5nICR7c3RhdGUuc291cmNlVG9rZW4/LnN5bWJvbH0gdG8gJHtOdW1iZXJVdGlsLmZvcm1hdE51bWJlclRvTG9jYWxTdHJpbmcodG9Ub2tlbkFtb3VudCwgMyl9ICR7c3RhdGUudG9Ub2tlbj8uc3ltYm9sfWA7XG4gICAgICAgIGNvbnN0IHNuYWNrYmFyU3VjY2Vzc01lc3NhZ2UgPSBgU3dhcHBlZCAke3N0YXRlLnNvdXJjZVRva2VuPy5zeW1ib2x9IHRvICR7TnVtYmVyVXRpbC5mb3JtYXROdW1iZXJUb0xvY2FsU3RyaW5nKHRvVG9rZW5BbW91bnQsIDMpfSAke3N0YXRlLnRvVG9rZW4/LnN5bWJvbH1gO1xuICAgICAgICBpZiAoaXNBdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucmVwbGFjZSgnQWNjb3VudCcpO1xuICAgICAgICAgICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0xvYWRpbmcoc25hY2tiYXJQZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIucmVzZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dMb2FkaW5nKCdDb25maXJtIHRyYW5zYWN0aW9uIGluIHlvdXIgd2FsbGV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZvcmNlVXBkYXRlQWRkcmVzc2VzID0gW3N0YXRlLnNvdXJjZVRva2VuPy5hZGRyZXNzLCBzdGF0ZS50b1Rva2VuPy5hZGRyZXNzXS5qb2luKCcsJyk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkhhc2ggPSBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5zZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IGZyb21BZGRyZXNzLFxuICAgICAgICAgICAgICAgIHRvOiBkYXRhLnRvLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGF0YS52YWx1ZSxcbiAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZTogQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUubG9hZGluZ1RyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd1N1Y2Nlc3Moc25hY2tiYXJTdWNjZXNzTWVzc2FnZSk7XG4gICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICBldmVudDogJ1NXQVBfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBGcm9tVG9rZW46IFN3YXBDb250cm9sbGVyLnN0YXRlLnNvdXJjZVRva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBUb1Rva2VuOiBTd2FwQ29udHJvbGxlci5zdGF0ZS50b1Rva2VuPy5zeW1ib2wgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBGcm9tQW1vdW50OiBTd2FwQ29udHJvbGxlci5zdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcFRvQW1vdW50OiBTd2FwQ29udHJvbGxlci5zdGF0ZS50b1Rva2VuQW1vdW50IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBpc1NtYXJ0QWNjb3VudDogZ2V0UHJlZmVycmVkQWNjb3VudFR5cGUoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgVzNtRnJhbWVScGNDb25zdGFudHMuQUNDT1VOVF9UWVBFUy5TTUFSVF9BQ0NPVU5UXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250cm9sbGVyLnJlc2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGlmICghaXNBdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKCdBY2NvdW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250cm9sbGVyLmdldE15VG9rZW5zV2l0aEJhbGFuY2UoZm9yY2VVcGRhdGVBZGRyZXNzZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uSGFzaDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGVycjtcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zYWN0aW9uRXJyb3IgPSBlcnJvcj8uZGlzcGxheU1lc3NhZ2U7XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoZXJyb3I/LmRpc3BsYXlNZXNzYWdlIHx8ICdUcmFuc2FjdGlvbiBlcnJvcicpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTV0FQX0VSUk9SJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yPy5kaXNwbGF5TWVzc2FnZSB8fCBlcnJvcj8ubWVzc2FnZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2FpcE5ldHdvcmtJZCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcEZyb21Ub2tlbjogU3dhcENvbnRyb2xsZXIuc3RhdGUuc291cmNlVG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcFRvVG9rZW46IFN3YXBDb250cm9sbGVyLnN0YXRlLnRvVG9rZW4/LnN5bWJvbCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3dhcEZyb21BbW91bnQ6IFN3YXBDb250cm9sbGVyLnN0YXRlLnNvdXJjZVRva2VuQW1vdW50IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBzd2FwVG9BbW91bnQ6IFN3YXBDb250cm9sbGVyLnN0YXRlLnRvVG9rZW5BbW91bnQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIC0tIENoZWNrcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuICAgIGhhc0luc3VmZmljaWVudFRva2VuKHNvdXJjZVRva2VuQW1vdW50LCBzb3VyY2VUb2tlbkFkZHJlc3MpIHtcbiAgICAgICAgY29uc3QgaXNJbnN1ZmZpY2llbnRTb3VyY2VUb2tlbkZvclN3YXAgPSBTd2FwQ2FsY3VsYXRpb25VdGlsLmlzSW5zdWZmaWNpZW50U291cmNlVG9rZW5Gb3JTd2FwKHNvdXJjZVRva2VuQW1vdW50LCBzb3VyY2VUb2tlbkFkZHJlc3MsIHN0YXRlLm15VG9rZW5zV2l0aEJhbGFuY2UpO1xuICAgICAgICByZXR1cm4gaXNJbnN1ZmZpY2llbnRTb3VyY2VUb2tlbkZvclN3YXA7XG4gICAgfSxcbiAgICAvLyAtLSBDYWxjdWxhdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbiAgICBzZXRUcmFuc2FjdGlvbkRldGFpbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgdG9Ub2tlbkFkZHJlc3MsIHRvVG9rZW5EZWNpbWFscyB9ID0gU3dhcENvbnRyb2xsZXIuZ2V0UGFyYW1zKCk7XG4gICAgICAgIGlmICghdG9Ub2tlbkFkZHJlc3MgfHwgIXRvVG9rZW5EZWNpbWFscykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmdhc1ByaWNlSW5VU0QgPSBTd2FwQ2FsY3VsYXRpb25VdGlsLmdldEdhc1ByaWNlSW5VU0Qoc3RhdGUubmV0d29ya1ByaWNlLCBCaWdJbnQoc3RhdGUuZ2FzRmVlKSwgQmlnSW50KElOSVRJQUxfR0FTX0xJTUlUKSk7XG4gICAgICAgIHN0YXRlLnByaWNlSW1wYWN0ID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRQcmljZUltcGFjdCh7XG4gICAgICAgICAgICBzb3VyY2VUb2tlbkFtb3VudDogc3RhdGUuc291cmNlVG9rZW5BbW91bnQsXG4gICAgICAgICAgICBzb3VyY2VUb2tlblByaWNlSW5VU0Q6IHN0YXRlLnNvdXJjZVRva2VuUHJpY2VJblVTRCxcbiAgICAgICAgICAgIHRvVG9rZW5QcmljZUluVVNEOiBzdGF0ZS50b1Rva2VuUHJpY2VJblVTRCxcbiAgICAgICAgICAgIHRvVG9rZW5BbW91bnQ6IHN0YXRlLnRvVG9rZW5BbW91bnRcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlLm1heFNsaXBwYWdlID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRNYXhTbGlwcGFnZShzdGF0ZS5zbGlwcGFnZSwgc3RhdGUudG9Ub2tlbkFtb3VudCk7XG4gICAgICAgIHN0YXRlLnByb3ZpZGVyRmVlID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRQcm92aWRlckZlZShzdGF0ZS5zb3VyY2VUb2tlbkFtb3VudCk7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgU3dhcENvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN3YXBDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SwapController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelemetryController: () => (/* binding */ TelemetryController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/FetchUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\n// -- Constants ----------------------------------------- //\nconst DEFAULT_STATE = Object.freeze({\n    enabled: true,\n    events: []\n});\nconst api = new _utils_FetchUtil_js__WEBPACK_IMPORTED_MODULE_0__.FetchUtil({ baseUrl: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.getAnalyticsUrl(), clientId: null });\n// Rate limiting constants\nconst MAX_ERRORS_PER_MINUTE = 5;\nconst ONE_MINUTE_MS = 60 * 1000;\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_2__.proxy)({\n    ...DEFAULT_STATE\n});\n// -- Controller ---------------------------------------- //\nconst TelemetryController = {\n    state,\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_3__.subscribeKey)(state, key, callback);\n    },\n    async sendError(error, category) {\n        if (!state.enabled) {\n            return;\n        }\n        // Check rate limiting using events array\n        const now = Date.now();\n        const recentErrors = state.events.filter(event => {\n            const eventTime = new Date(event.properties.timestamp || '').getTime();\n            return now - eventTime < ONE_MINUTE_MS;\n        });\n        if (recentErrors.length >= MAX_ERRORS_PER_MINUTE) {\n            // Exit silently\n            return;\n        }\n        const errorEvent = {\n            type: 'error',\n            event: category,\n            properties: {\n                errorType: error.name,\n                errorMessage: error.message,\n                stackTrace: error.stack,\n                timestamp: new Date().toISOString()\n            }\n        };\n        state.events.push(errorEvent);\n        try {\n            if (typeof window === 'undefined') {\n                return;\n            }\n            const { projectId, sdkType, sdkVersion } = _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state;\n            await api.post({\n                path: '/e',\n                params: {\n                    projectId,\n                    st: sdkType,\n                    sv: sdkVersion || 'html-wagmi-4.2.2'\n                },\n                body: {\n                    eventId: _utils_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.getUUID(),\n                    url: window.location.href,\n                    domain: window.location.hostname,\n                    timestamp: new Date().toISOString(),\n                    props: {\n                        type: 'error',\n                        event: category,\n                        errorType: error.name,\n                        errorMessage: error.message,\n                        stackTrace: error.stack\n                    }\n                }\n            });\n        }\n        catch {\n            // Do nothing\n        }\n    },\n    enable() {\n        state.enabled = true;\n    },\n    disable() {\n        state.enabled = false;\n    },\n    clearEvents() {\n        state.events = [];\n    }\n};\n//# sourceMappingURL=TelemetryController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UZWxlbWV0cnlDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QztBQUN1QjtBQUNGO0FBQ1Y7QUFDUztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsMERBQVMsR0FBRyxTQUFTLG9FQUFjLG9DQUFvQztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtFQUFNO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDLEVBQUUsb0VBQWlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDZCQUE2QixvRUFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvY29udHJvbGxlcnMvVGVsZW1ldHJ5Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhJztcbmltcG9ydCB7IHN1YnNjcmliZUtleSBhcyBzdWJLZXkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYS91dGlscyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4uL3V0aWxzL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IEZldGNoVXRpbCB9IGZyb20gJy4uL3V0aWxzL0ZldGNoVXRpbC5qcyc7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4vT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuLy8gLS0gQ29uc3RhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBERUZBVUxUX1NUQVRFID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBldmVudHM6IFtdXG59KTtcbmNvbnN0IGFwaSA9IG5ldyBGZXRjaFV0aWwoeyBiYXNlVXJsOiBDb3JlSGVscGVyVXRpbC5nZXRBbmFseXRpY3NVcmwoKSwgY2xpZW50SWQ6IG51bGwgfSk7XG4vLyBSYXRlIGxpbWl0aW5nIGNvbnN0YW50c1xuY29uc3QgTUFYX0VSUk9SU19QRVJfTUlOVVRFID0gNTtcbmNvbnN0IE9ORV9NSU5VVEVfTVMgPSA2MCAqIDEwMDA7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIC4uLkRFRkFVTFRfU1RBVEVcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgVGVsZW1ldHJ5Q29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmVLZXkoa2V5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViS2V5KHN0YXRlLCBrZXksIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGFzeW5jIHNlbmRFcnJvcihlcnJvciwgY2F0ZWdvcnkpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgcmF0ZSBsaW1pdGluZyB1c2luZyBldmVudHMgYXJyYXlcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcmVjZW50RXJyb3JzID0gc3RhdGUuZXZlbnRzLmZpbHRlcihldmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBldmVudFRpbWUgPSBuZXcgRGF0ZShldmVudC5wcm9wZXJ0aWVzLnRpbWVzdGFtcCB8fCAnJykuZ2V0VGltZSgpO1xuICAgICAgICAgICAgcmV0dXJuIG5vdyAtIGV2ZW50VGltZSA8IE9ORV9NSU5VVEVfTVM7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVjZW50RXJyb3JzLmxlbmd0aCA+PSBNQVhfRVJST1JTX1BFUl9NSU5VVEUpIHtcbiAgICAgICAgICAgIC8vIEV4aXQgc2lsZW50bHlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvckV2ZW50ID0ge1xuICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGV2ZW50OiBjYXRlZ29yeSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICBlcnJvclR5cGU6IGVycm9yLm5hbWUsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHN0YWNrVHJhY2U6IGVycm9yLnN0YWNrLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN0YXRlLmV2ZW50cy5wdXNoKGVycm9yRXZlbnQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBwcm9qZWN0SWQsIHNka1R5cGUsIHNka1ZlcnNpb24gfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICAgICAgYXdhaXQgYXBpLnBvc3Qoe1xuICAgICAgICAgICAgICAgIHBhdGg6ICcvZScsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgICAgICAgICAgICAgc3Q6IHNka1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHN2OiBzZGtWZXJzaW9uIHx8ICdodG1sLXdhZ21pLTQuMi4yJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICBldmVudElkOiBDb3JlSGVscGVyVXRpbC5nZXRVVUlEKCksXG4gICAgICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbjogd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudDogY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclR5cGU6IGVycm9yLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja1RyYWNlOiBlcnJvci5zdGFja1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICB9XG4gICAgfSxcbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHN0YXRlLmVuYWJsZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgc3RhdGUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH0sXG4gICAgY2xlYXJFdmVudHMoKSB7XG4gICAgICAgIHN0YXRlLmV2ZW50cyA9IFtdO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZWxlbWV0cnlDb250cm9sbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeController: () => (/* binding */ ThemeController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ThemeUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    themeMode: 'dark',\n    themeVariables: {},\n    w3mThemeVariables: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setThemeMode(themeMode) {\n        state.themeMode = themeMode;\n        try {\n            const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getAuthConnector();\n            if (authConnector) {\n                const themeVariables = controller.getSnapshot().themeVariables;\n                authConnector.provider.syncTheme({\n                    themeMode,\n                    themeVariables,\n                    w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.getW3mThemeVariables)(themeVariables, themeMode)\n                });\n            }\n        }\n        catch {\n            // eslint-disable-next-line no-console\n            console.info('Unable to sync theme to auth connector');\n        }\n    },\n    setThemeVariables(themeVariables) {\n        state.themeVariables = { ...state.themeVariables, ...themeVariables };\n        try {\n            const authConnector = _ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getAuthConnector();\n            if (authConnector) {\n                const themeVariablesSnapshot = controller.getSnapshot().themeVariables;\n                authConnector.provider.syncTheme({\n                    themeVariables: themeVariablesSnapshot,\n                    w3mThemeVariables: (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.getW3mThemeVariables)(state.themeVariables, state.themeMode)\n                });\n            }\n        }\n        catch {\n            // eslint-disable-next-line no-console\n            console.info('Unable to sync theme to auth connector');\n        }\n    },\n    getSnapshot() {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.snapshot)(state);\n    }\n};\n// Export the controller wrapped with our error boundary\nconst ThemeController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_3__.withErrorBoundary)(controller);\n//# sourceMappingURL=ThemeController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UaGVtZUNvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUU7QUFDUDtBQUNNO0FBQ0g7QUFDL0Q7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBRztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDBFQUFvQjtBQUMzRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0Esa0NBQWtDLHdFQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwRUFBb0I7QUFDM0QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsd0RBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLDhFQUFpQjtBQUNoRCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1RoZW1lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm94eSwgc25hcHNob3QsIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBnZXRXM21UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHRoZW1lTW9kZTogJ2RhcmsnLFxuICAgIHRoZW1lVmFyaWFibGVzOiB7fSxcbiAgICB3M21UaGVtZVZhcmlhYmxlczogdW5kZWZpbmVkXG59KTtcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgY29udHJvbGxlciA9IHtcbiAgICBzdGF0ZSxcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YihzdGF0ZSwgKCkgPT4gY2FsbGJhY2soc3RhdGUpKTtcbiAgICB9LFxuICAgIHNldFRoZW1lTW9kZSh0aGVtZU1vZGUpIHtcbiAgICAgICAgc3RhdGUudGhlbWVNb2RlID0gdGhlbWVNb2RlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICAgICAgaWYgKGF1dGhDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGVtZVZhcmlhYmxlcyA9IGNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZVZhcmlhYmxlcztcbiAgICAgICAgICAgICAgICBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLnN5bmNUaGVtZSh7XG4gICAgICAgICAgICAgICAgICAgIHRoZW1lTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWVWYXJpYWJsZXMsXG4gICAgICAgICAgICAgICAgICAgIHczbVRoZW1lVmFyaWFibGVzOiBnZXRXM21UaGVtZVZhcmlhYmxlcyh0aGVtZVZhcmlhYmxlcywgdGhlbWVNb2RlKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzeW5jIHRoZW1lIHRvIGF1dGggY29ubmVjdG9yJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldFRoZW1lVmFyaWFibGVzKHRoZW1lVmFyaWFibGVzKSB7XG4gICAgICAgIHN0YXRlLnRoZW1lVmFyaWFibGVzID0geyAuLi5zdGF0ZS50aGVtZVZhcmlhYmxlcywgLi4udGhlbWVWYXJpYWJsZXMgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgICAgIGlmIChhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhlbWVWYXJpYWJsZXNTbmFwc2hvdCA9IGNvbnRyb2xsZXIuZ2V0U25hcHNob3QoKS50aGVtZVZhcmlhYmxlcztcbiAgICAgICAgICAgICAgICBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLnN5bmNUaGVtZSh7XG4gICAgICAgICAgICAgICAgICAgIHRoZW1lVmFyaWFibGVzOiB0aGVtZVZhcmlhYmxlc1NuYXBzaG90LFxuICAgICAgICAgICAgICAgICAgICB3M21UaGVtZVZhcmlhYmxlczogZ2V0VzNtVGhlbWVWYXJpYWJsZXMoc3RhdGUudGhlbWVWYXJpYWJsZXMsIHN0YXRlLnRoZW1lTW9kZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc3luYyB0aGVtZSB0byBhdXRoIGNvbm5lY3RvcicpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRTbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90KHN0YXRlKTtcbiAgICB9XG59O1xuLy8gRXhwb3J0IHRoZSBjb250cm9sbGVyIHdyYXBwZWQgd2l0aCBvdXIgZXJyb3IgYm91bmRhcnlcbmV4cG9ydCBjb25zdCBUaGVtZUNvbnRyb2xsZXIgPSB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRoZW1lQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ThemeController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TooltipController.js":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TooltipController.js ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TooltipController: () => (/* binding */ TooltipController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! valtio/vanilla/utils */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla/utils.mjs\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    message: '',\n    open: false,\n    triggerRect: {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0\n    },\n    variant: 'shade'\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    subscribeKey(key, callback) {\n        return (0,valtio_vanilla_utils__WEBPACK_IMPORTED_MODULE_1__.subscribeKey)(state, key, callback);\n    },\n    showTooltip({ message, triggerRect, variant }) {\n        state.open = true;\n        state.message = message;\n        state.triggerRect = triggerRect;\n        state.variant = variant;\n    },\n    hide() {\n        state.open = false;\n        state.message = '';\n        state.triggerRect = {\n            width: 0,\n            height: 0,\n            top: 0,\n            left: 0\n        };\n    }\n};\n// Export the controller wrapped with our error boundary\nconst TooltipController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_2__.withErrorBoundary)(controller);\n//# sourceMappingURL=TooltipController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9Ub29sdGlwQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEO0FBQ0s7QUFDSTtBQUNsRTtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLGVBQWUsa0VBQU07QUFDckIsS0FBSztBQUNMLGtCQUFrQiwrQkFBK0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLDhFQUFpQjtBQUNsRCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1Rvb2x0aXBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3h5LCBzdWJzY3JpYmUgYXMgc3ViIH0gZnJvbSAndmFsdGlvL3ZhbmlsbGEnO1xuaW1wb3J0IHsgc3Vic2NyaWJlS2V5IGFzIHN1YktleSB9IGZyb20gJ3ZhbHRpby92YW5pbGxhL3V0aWxzJztcbmltcG9ydCB7IHdpdGhFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vdXRpbHMvd2l0aEVycm9yQm91bmRhcnkuanMnO1xuLy8gLS0gU3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBzdGF0ZSA9IHByb3h5KHtcbiAgICBtZXNzYWdlOiAnJyxcbiAgICBvcGVuOiBmYWxzZSxcbiAgICB0cmlnZ2VyUmVjdDoge1xuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDBcbiAgICB9LFxuICAgIHZhcmlhbnQ6ICdzaGFkZSdcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlS2V5KGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHN1YktleShzdGF0ZSwga2V5LCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBzaG93VG9vbHRpcCh7IG1lc3NhZ2UsIHRyaWdnZXJSZWN0LCB2YXJpYW50IH0pIHtcbiAgICAgICAgc3RhdGUub3BlbiA9IHRydWU7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICBzdGF0ZS50cmlnZ2VyUmVjdCA9IHRyaWdnZXJSZWN0O1xuICAgICAgICBzdGF0ZS52YXJpYW50ID0gdmFyaWFudDtcbiAgICB9LFxuICAgIGhpZGUoKSB7XG4gICAgICAgIHN0YXRlLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgc3RhdGUubWVzc2FnZSA9ICcnO1xuICAgICAgICBzdGF0ZS50cmlnZ2VyUmVjdCA9IHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyBFeHBvcnQgdGhlIGNvbnRyb2xsZXIgd3JhcHBlZCB3aXRoIG91ciBlcnJvciBib3VuZGFyeVxuZXhwb3J0IGNvbnN0IFRvb2x0aXBDb250cm9sbGVyID0gd2l0aEVycm9yQm91bmRhcnkoY29udHJvbGxlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub29sdGlwQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TooltipController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js":
/*!***********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js ***!
  \***********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionsController: () => (/* binding */ TransactionsController)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/withErrorBoundary.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\");\n/* harmony import */ var _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _EventsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n\n\n\n\n\n\n\n\n\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    transactions: [],\n    transactionsByYear: {},\n    lastNetworkInView: undefined,\n    loading: false,\n    empty: false,\n    next: undefined\n});\n// -- Controller ---------------------------------------- //\nconst controller = {\n    state,\n    subscribe(callback) {\n        return (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.subscribe)(state, () => callback(state));\n    },\n    setLastNetworkInView(lastNetworkInView) {\n        state.lastNetworkInView = lastNetworkInView;\n    },\n    async fetchTransactions(accountAddress) {\n        if (!accountAddress) {\n            throw new Error(\"Transactions can't be fetched without an accountAddress\");\n        }\n        state.loading = true;\n        try {\n            const response = await _BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_1__.BlockchainApiController.fetchTransactions({\n                account: accountAddress,\n                cursor: state.next,\n                chainId: _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId\n            });\n            const nonSpamTransactions = TransactionsController.filterSpamTransactions(response.data);\n            const sameChainTransactions = TransactionsController.filterByConnectedChain(nonSpamTransactions);\n            const filteredTransactions = [...state.transactions, ...sameChainTransactions];\n            state.loading = false;\n            state.transactions = filteredTransactions;\n            state.transactionsByYear = TransactionsController.groupTransactionsByYearAndMonth(state.transactionsByYear, sameChainTransactions);\n            state.empty = filteredTransactions.length === 0;\n            state.next = response.next ? response.next : undefined;\n        }\n        catch (error) {\n            const activeChainNamespace = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n            _EventsController_js__WEBPACK_IMPORTED_MODULE_3__.EventsController.sendEvent({\n                type: 'track',\n                event: 'ERROR_FETCH_TRANSACTIONS',\n                properties: {\n                    address: accountAddress,\n                    projectId: _OptionsController_js__WEBPACK_IMPORTED_MODULE_4__.OptionsController.state.projectId,\n                    cursor: state.next,\n                    isSmartAccount: (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_5__.getPreferredAccountType)(activeChainNamespace) ===\n                        _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_6__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT\n                }\n            });\n            _SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Failed to fetch transactions');\n            state.loading = false;\n            state.empty = true;\n            state.next = undefined;\n        }\n    },\n    groupTransactionsByYearAndMonth(transactionsMap = {}, transactions = []) {\n        const grouped = transactionsMap;\n        transactions.forEach(transaction => {\n            const year = new Date(transaction.metadata.minedAt).getFullYear();\n            const month = new Date(transaction.metadata.minedAt).getMonth();\n            const yearTransactions = grouped[year] ?? {};\n            const monthTransactions = yearTransactions[month] ?? [];\n            // If there's a transaction with the same id, remove the old one\n            const newMonthTransactions = monthTransactions.filter(tx => tx.id !== transaction.id);\n            grouped[year] = {\n                ...yearTransactions,\n                [month]: [...newMonthTransactions, transaction].sort((a, b) => new Date(b.metadata.minedAt).getTime() - new Date(a.metadata.minedAt).getTime())\n            };\n        });\n        return grouped;\n    },\n    filterSpamTransactions(transactions) {\n        return transactions.filter(transaction => {\n            const isAllSpam = transaction.transfers?.every(transfer => transfer.nft_info?.flags.is_spam === true);\n            return !isAllSpam;\n        });\n    },\n    filterByConnectedChain(transactions) {\n        const chainId = _ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId;\n        const filteredTransactions = transactions.filter(transaction => transaction.metadata.chain === chainId);\n        return filteredTransactions;\n    },\n    clearCursor() {\n        state.next = undefined;\n    },\n    resetTransactions() {\n        state.transactions = [];\n        state.transactionsByYear = {};\n        state.lastNetworkInView = undefined;\n        state.loading = false;\n        state.empty = false;\n        state.next = undefined;\n    }\n};\n// Export the controller wrapped with our error boundary\nconst TransactionsController = (0,_utils_withErrorBoundary_js__WEBPACK_IMPORTED_MODULE_8__.withErrorBoundary)(controller, 'API_ERROR');\n//# sourceMappingURL=TransactionsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVycy9UcmFuc2FjdGlvbnNDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDUztBQUNRO0FBQ1I7QUFDSztBQUNoQjtBQUNFO0FBQ0U7QUFDSjtBQUN2RDtBQUNBLGNBQWMscURBQUs7QUFDbkI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUFHO0FBQ2xCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnRkFBdUI7QUFDMUQ7QUFDQTtBQUNBLHlCQUF5QixnRUFBZTtBQUN4QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0VBQWU7QUFDeEQsWUFBWSxrRUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isb0VBQWlCO0FBQ2hEO0FBQ0Esb0NBQW9DLHNGQUF1QjtBQUMzRCx3QkFBd0IsNEVBQW9CO0FBQzVDO0FBQ0EsYUFBYTtBQUNiLFlBQVksZ0VBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsZ0VBQWU7QUFDdkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sK0JBQStCLDhFQUFpQjtBQUN2RCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2NvbnRyb2xsZXJzL1RyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHksIHN1YnNjcmliZSBhcyBzdWIgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBXM21GcmFtZVJwY0NvbnN0YW50cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtd2FsbGV0L3V0aWxzJztcbmltcG9ydCB7IGdldFByZWZlcnJlZEFjY291bnRUeXBlIH0gZnJvbSAnLi4vdXRpbHMvQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzJztcbmltcG9ydCB7IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyIH0gZnJvbSAnLi9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFdmVudHNDb250cm9sbGVyIH0gZnJvbSAnLi9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBTbmFja0NvbnRyb2xsZXIgfSBmcm9tICcuL1NuYWNrQ29udHJvbGxlci5qcyc7XG4vLyAtLSBTdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IHN0YXRlID0gcHJveHkoe1xuICAgIHRyYW5zYWN0aW9uczogW10sXG4gICAgdHJhbnNhY3Rpb25zQnlZZWFyOiB7fSxcbiAgICBsYXN0TmV0d29ya0luVmlldzogdW5kZWZpbmVkLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGVtcHR5OiBmYWxzZSxcbiAgICBuZXh0OiB1bmRlZmluZWRcbn0pO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5jb25zdCBjb250cm9sbGVyID0ge1xuICAgIHN0YXRlLFxuICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gc3ViKHN0YXRlLCAoKSA9PiBjYWxsYmFjayhzdGF0ZSkpO1xuICAgIH0sXG4gICAgc2V0TGFzdE5ldHdvcmtJblZpZXcobGFzdE5ldHdvcmtJblZpZXcpIHtcbiAgICAgICAgc3RhdGUubGFzdE5ldHdvcmtJblZpZXcgPSBsYXN0TmV0d29ya0luVmlldztcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoVHJhbnNhY3Rpb25zKGFjY291bnRBZGRyZXNzKSB7XG4gICAgICAgIGlmICghYWNjb3VudEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9ucyBjYW4ndCBiZSBmZXRjaGVkIHdpdGhvdXQgYW4gYWNjb3VudEFkZHJlc3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmZldGNoVHJhbnNhY3Rpb25zKHtcbiAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50QWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHN0YXRlLm5leHQsXG4gICAgICAgICAgICAgICAgY2hhaW5JZDogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG5vblNwYW1UcmFuc2FjdGlvbnMgPSBUcmFuc2FjdGlvbnNDb250cm9sbGVyLmZpbHRlclNwYW1UcmFuc2FjdGlvbnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBzYW1lQ2hhaW5UcmFuc2FjdGlvbnMgPSBUcmFuc2FjdGlvbnNDb250cm9sbGVyLmZpbHRlckJ5Q29ubmVjdGVkQ2hhaW4obm9uU3BhbVRyYW5zYWN0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IFsuLi5zdGF0ZS50cmFuc2FjdGlvbnMsIC4uLnNhbWVDaGFpblRyYW5zYWN0aW9uc107XG4gICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS50cmFuc2FjdGlvbnMgPSBmaWx0ZXJlZFRyYW5zYWN0aW9ucztcbiAgICAgICAgICAgIHN0YXRlLnRyYW5zYWN0aW9uc0J5WWVhciA9IFRyYW5zYWN0aW9uc0NvbnRyb2xsZXIuZ3JvdXBUcmFuc2FjdGlvbnNCeVllYXJBbmRNb250aChzdGF0ZS50cmFuc2FjdGlvbnNCeVllYXIsIHNhbWVDaGFpblRyYW5zYWN0aW9ucyk7XG4gICAgICAgICAgICBzdGF0ZS5lbXB0eSA9IGZpbHRlcmVkVHJhbnNhY3Rpb25zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgIHN0YXRlLm5leHQgPSByZXNwb25zZS5uZXh0ID8gcmVzcG9uc2UubmV4dCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNoYWluTmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdFUlJPUl9GRVRDSF9UUkFOU0FDVElPTlMnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHN0YXRlLm5leHQsXG4gICAgICAgICAgICAgICAgICAgIGlzU21hcnRBY2NvdW50OiBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZShhY3RpdmVDaGFpbk5hbWVzcGFjZSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBXM21GcmFtZVJwY0NvbnN0YW50cy5BQ0NPVU5UX1RZUEVTLlNNQVJUX0FDQ09VTlRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB0cmFuc2FjdGlvbnMnKTtcbiAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLmVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdyb3VwVHJhbnNhY3Rpb25zQnlZZWFyQW5kTW9udGgodHJhbnNhY3Rpb25zTWFwID0ge30sIHRyYW5zYWN0aW9ucyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwZWQgPSB0cmFuc2FjdGlvbnNNYXA7XG4gICAgICAgIHRyYW5zYWN0aW9ucy5mb3JFYWNoKHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBuZXcgRGF0ZSh0cmFuc2FjdGlvbi5tZXRhZGF0YS5taW5lZEF0KS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggPSBuZXcgRGF0ZSh0cmFuc2FjdGlvbi5tZXRhZGF0YS5taW5lZEF0KS5nZXRNb250aCgpO1xuICAgICAgICAgICAgY29uc3QgeWVhclRyYW5zYWN0aW9ucyA9IGdyb3VwZWRbeWVhcl0gPz8ge307XG4gICAgICAgICAgICBjb25zdCBtb250aFRyYW5zYWN0aW9ucyA9IHllYXJUcmFuc2FjdGlvbnNbbW9udGhdID8/IFtdO1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHRyYW5zYWN0aW9uIHdpdGggdGhlIHNhbWUgaWQsIHJlbW92ZSB0aGUgb2xkIG9uZVxuICAgICAgICAgICAgY29uc3QgbmV3TW9udGhUcmFuc2FjdGlvbnMgPSBtb250aFRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4gdHguaWQgIT09IHRyYW5zYWN0aW9uLmlkKTtcbiAgICAgICAgICAgIGdyb3VwZWRbeWVhcl0gPSB7XG4gICAgICAgICAgICAgICAgLi4ueWVhclRyYW5zYWN0aW9ucyxcbiAgICAgICAgICAgICAgICBbbW9udGhdOiBbLi4ubmV3TW9udGhUcmFuc2FjdGlvbnMsIHRyYW5zYWN0aW9uXS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLm1ldGFkYXRhLm1pbmVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEubWV0YWRhdGEubWluZWRBdCkuZ2V0VGltZSgpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBncm91cGVkO1xuICAgIH0sXG4gICAgZmlsdGVyU3BhbVRyYW5zYWN0aW9ucyh0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9ucy5maWx0ZXIodHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNBbGxTcGFtID0gdHJhbnNhY3Rpb24udHJhbnNmZXJzPy5ldmVyeSh0cmFuc2ZlciA9PiB0cmFuc2Zlci5uZnRfaW5mbz8uZmxhZ3MuaXNfc3BhbSA9PT0gdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gIWlzQWxsU3BhbTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWx0ZXJCeUNvbm5lY3RlZENoYWluKHRyYW5zYWN0aW9ucykge1xuICAgICAgICBjb25zdCBjaGFpbklkID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIodHJhbnNhY3Rpb24gPT4gdHJhbnNhY3Rpb24ubWV0YWRhdGEuY2hhaW4gPT09IGNoYWluSWQpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRUcmFuc2FjdGlvbnM7XG4gICAgfSxcbiAgICBjbGVhckN1cnNvcigpIHtcbiAgICAgICAgc3RhdGUubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHJlc2V0VHJhbnNhY3Rpb25zKCkge1xuICAgICAgICBzdGF0ZS50cmFuc2FjdGlvbnMgPSBbXTtcbiAgICAgICAgc3RhdGUudHJhbnNhY3Rpb25zQnlZZWFyID0ge307XG4gICAgICAgIHN0YXRlLmxhc3ROZXR3b3JrSW5WaWV3ID0gdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgfVxufTtcbi8vIEV4cG9ydCB0aGUgY29udHJvbGxlciB3cmFwcGVkIHdpdGggb3VyIGVycm9yIGJvdW5kYXJ5XG5leHBvcnQgY29uc3QgVHJhbnNhY3Rpb25zQ29udHJvbGxlciA9IHdpdGhFcnJvckJvdW5kYXJ5KGNvbnRyb2xsZXIsICdBUElfRVJST1InKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zYWN0aW9uc0NvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TransactionsController.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthentication.js":
/*!*******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthentication.js ***!
  \*******************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthentication: () => (/* binding */ ReownAuthentication)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../controllers/ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../controllers/BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReownAuthenticationMessenger.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthenticationMessenger.js\");\n//\n\n\n\n\n\n\n/**\n * This is the configuration for using SIWX with Reown Authentication service.\n * It allows you to authenticate and capture user sessions through the Cloud Dashboard.\n */\nclass ReownAuthentication {\n    constructor(params = {}) {\n        this.otpUuid = null;\n        this.listeners = {\n            sessionChanged: []\n        };\n        this.localAuthStorageKey =\n            params.localAuthStorageKey ||\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.SIWX_AUTH_TOKEN;\n        this.localNonceStorageKey =\n            params.localNonceStorageKey ||\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.SIWX_NONCE_TOKEN;\n        this.required = params.required ?? true;\n        this.messenger = new _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__.ReownAuthenticationMessenger({\n            getNonce: this.getNonce.bind(this)\n        });\n    }\n    async createMessage(input) {\n        return this.messenger.createMessage(input);\n    }\n    async addSession(session) {\n        const response = await this.request({\n            method: 'POST',\n            key: 'authenticate',\n            body: {\n                data: session.data,\n                message: session.message,\n                signature: session.signature,\n                clientId: this.getClientId(),\n                walletInfo: this.getWalletInfo()\n            },\n            headers: ['nonce', 'otp']\n        });\n        this.setStorageToken(response.token, this.localAuthStorageKey);\n        this.emit('sessionChanged', session);\n        this.setAppKitAccountUser(jwtDecode(response.token));\n        this.otpUuid = null;\n    }\n    async getSessions(chainId, address) {\n        try {\n            if (!this.getStorageToken(this.localAuthStorageKey)) {\n                return [];\n            }\n            const account = await this.request({\n                method: 'GET',\n                key: 'me',\n                query: {},\n                headers: ['auth']\n            });\n            if (!account) {\n                return [];\n            }\n            const isSameAddress = account.address.toLowerCase() === address.toLowerCase();\n            const isSameNetwork = account.caip2Network === chainId;\n            if (!isSameAddress || !isSameNetwork) {\n                return [];\n            }\n            const session = {\n                data: {\n                    accountAddress: account.address,\n                    chainId: account.caip2Network\n                },\n                message: '',\n                signature: ''\n            };\n            this.emit('sessionChanged', session);\n            this.setAppKitAccountUser(account);\n            return [session];\n        }\n        catch {\n            return [];\n        }\n    }\n    async revokeSession(_chainId, _address) {\n        return Promise.resolve(this.clearStorageTokens());\n    }\n    async setSessions(sessions) {\n        if (sessions.length === 0) {\n            this.clearStorageTokens();\n        }\n        else {\n            const session = (sessions.find(s => s.data.chainId === (0,_utils_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_2__.getActiveCaipNetwork)()?.caipNetworkId) || sessions[0]);\n            await this.addSession(session);\n        }\n    }\n    getRequired() {\n        return this.required;\n    }\n    async getSessionAccount() {\n        if (!this.getStorageToken(this.localAuthStorageKey)) {\n            throw new Error('Not authenticated');\n        }\n        return this.request({\n            method: 'GET',\n            key: 'me',\n            body: undefined,\n            query: {\n                includeAppKitAccount: true\n            },\n            headers: ['auth']\n        });\n    }\n    async setSessionAccountMetadata(metadata = null) {\n        if (!this.getStorageToken(this.localAuthStorageKey)) {\n            throw new Error('Not authenticated');\n        }\n        return this.request({\n            method: 'PUT',\n            key: 'account-metadata',\n            body: { metadata },\n            headers: ['auth']\n        });\n    }\n    on(event, callback) {\n        this.listeners[event].push(callback);\n        return () => {\n            this.listeners[event] = this.listeners[event].filter(cb => cb !== callback);\n        };\n    }\n    removeAllListeners() {\n        const keys = Object.keys(this.listeners);\n        keys.forEach(key => {\n            this.listeners[key] = [];\n        });\n    }\n    async requestEmailOtp({ email, account }) {\n        const otp = await this.request({\n            method: 'POST',\n            key: 'otp',\n            body: { email, account }\n        });\n        this.otpUuid = otp.uuid;\n        this.messenger.resources = [`email:${email}`];\n        return otp;\n    }\n    confirmEmailOtp({ code }) {\n        return this.request({\n            method: 'PUT',\n            key: 'otp',\n            body: { code },\n            headers: ['otp']\n        });\n    }\n    async request({ method, key, query, body, headers }) {\n        const { projectId, st, sv } = this.getSDKProperties();\n        const url = new URL(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.W3M_API_URL}/auth/v1/${String(key)}`);\n        url.searchParams.set('projectId', projectId);\n        url.searchParams.set('st', st);\n        url.searchParams.set('sv', sv);\n        if (query) {\n            Object.entries(query).forEach(([queryKey, queryValue]) => url.searchParams.set(queryKey, String(queryValue)));\n        }\n        const response = await fetch(url, {\n            method,\n            body: body ? JSON.stringify(body) : undefined,\n            headers: Array.isArray(headers)\n                ? headers.reduce((acc, header) => {\n                    switch (header) {\n                        case 'nonce':\n                            acc['x-nonce-jwt'] = `Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;\n                            break;\n                        case 'auth':\n                            acc['Authorization'] = `Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;\n                            break;\n                        case 'otp':\n                            if (this.otpUuid) {\n                                acc['x-otp'] = this.otpUuid;\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                    return acc;\n                }, {})\n                : undefined\n        });\n        if (!response.ok) {\n            throw new Error(await response.text());\n        }\n        if (response.headers.get('content-type')?.includes('application/json')) {\n            return response.json();\n        }\n        return null;\n    }\n    getStorageToken(key) {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(key);\n    }\n    setStorageToken(token, key) {\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(key, token);\n    }\n    clearStorageTokens() {\n        this.otpUuid = null;\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(this.localAuthStorageKey);\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(this.localNonceStorageKey);\n        this.emit('sessionChanged', undefined);\n    }\n    async getNonce() {\n        const { nonce, token } = await this.request({\n            method: 'GET',\n            key: 'nonce'\n        });\n        this.setStorageToken(token, this.localNonceStorageKey);\n        return nonce;\n    }\n    getClientId() {\n        return _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__.BlockchainApiController.state.clientId;\n    }\n    getWalletInfo() {\n        const walletInfo = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData()?.connectedWalletInfo;\n        if (!walletInfo) {\n            return undefined;\n        }\n        if ('social' in walletInfo && 'identifier' in walletInfo) {\n            const social = walletInfo['social'];\n            const identifier = walletInfo['identifier'];\n            return { type: 'social', social, identifier };\n        }\n        const { name, icon } = walletInfo;\n        let type = 'unknown';\n        switch (walletInfo.type) {\n            case 'EXTERNAL':\n            case 'INJECTED':\n            case 'ANNOUNCED':\n                type = 'extension';\n                break;\n            case 'WALLET_CONNECT':\n                type = 'walletconnect';\n                break;\n            default:\n                type = 'unknown';\n        }\n        return {\n            type,\n            name,\n            icon\n        };\n    }\n    getSDKProperties() {\n        return _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_6__.ApiController._getSdkProperties();\n    }\n    emit(event, data) {\n        this.listeners[event].forEach(listener => listener(data));\n    }\n    setAppKitAccountUser(session) {\n        const { email } = session;\n        if (email) {\n            Object.values(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.CHAIN).forEach(chainNamespace => {\n                _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('user', { email }, chainNamespace);\n            });\n        }\n    }\n}\n/**\n * Decodes a JWT token and returns its payload\n * @param token - The JWT token to decode\n * @returns The decoded payload or null if invalid\n */\nfunction jwtDecode(token) {\n    // Split the token into parts\n    const parts = token.split('.');\n    // Check if the token has the correct format (header.payload.signature)\n    if (parts.length !== 3) {\n        throw new Error('Invalid token');\n    }\n    // Decode the payload (second part)\n    const payload = parts[1];\n    if (typeof payload !== 'string') {\n        throw new Error('Invalid token');\n    }\n    // Convert base64url to base64\n    const base64 = payload.replace(/-/gu, '+').replace(/_/gu, '/');\n    // Add padding if needed\n    const padded = base64.padEnd(base64.length + ((4 - (base64.length % 4)) % 4), '=');\n    // Decode and parse the JSON\n    const decoded = JSON.parse(atob(padded));\n    return decoded;\n}\n//# sourceMappingURL=ReownAuthentication.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9zaXd4L3Jlb3duLWF1dGhlbnRpY2F0aW9uL1Jlb3duQXV0aGVudGljYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUM2RjtBQUN2QjtBQUNvQjtBQUNoQjtBQUNHO0FBQ0k7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0VBQW9CO0FBQ3BDO0FBQ0E7QUFDQSxnQkFBZ0Isc0VBQW9CO0FBQ3BDO0FBQ0EsNkJBQTZCLDBGQUE0QjtBQUN6RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxtRkFBb0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixTQUFTO0FBQ1Q7QUFDQSw2Q0FBNkMsTUFBTTtBQUNuRDtBQUNBO0FBQ0Esc0JBQXNCLE1BQU07QUFDNUI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsbUNBQW1DO0FBQ3ZELGdCQUFnQixvQkFBb0I7QUFDcEMsK0JBQStCLCtEQUFhLGFBQWEsV0FBVyxZQUFZO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGdEQUFnRDtBQUMzRztBQUNBO0FBQ0EsNkRBQTZELCtDQUErQztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQWdCO0FBQy9CO0FBQ0E7QUFDQSxRQUFRLGtFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtFQUFnQjtBQUN4QixRQUFRLGtFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0RkFBdUI7QUFDdEM7QUFDQTtBQUNBLDJCQUEyQiw0RUFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3RUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkMsZ0JBQWdCLDRFQUFlLDBCQUEwQixPQUFPO0FBQ2hFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvZmVhdHVyZXMvc2l3eC9yZW93bi1hdXRoZW50aWNhdGlvbi9SZW93bkF1dGhlbnRpY2F0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vXG5pbXBvcnQgeyBDb25zdGFudHNVdGlsLCBTYWZlTG9jYWxTdG9yYWdlLCBTYWZlTG9jYWxTdG9yYWdlS2V5cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVycy9BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlcnMvQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IGdldEFjdGl2ZUNhaXBOZXR3b3JrIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBSZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyIH0gZnJvbSAnLi9SZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyLmpzJztcbi8qKlxuICogVGhpcyBpcyB0aGUgY29uZmlndXJhdGlvbiBmb3IgdXNpbmcgU0lXWCB3aXRoIFJlb3duIEF1dGhlbnRpY2F0aW9uIHNlcnZpY2UuXG4gKiBJdCBhbGxvd3MgeW91IHRvIGF1dGhlbnRpY2F0ZSBhbmQgY2FwdHVyZSB1c2VyIHNlc3Npb25zIHRocm91Z2ggdGhlIENsb3VkIERhc2hib2FyZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlb3duQXV0aGVudGljYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHt9KSB7XG4gICAgICAgIHRoaXMub3RwVXVpZCA9IG51bGw7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge1xuICAgICAgICAgICAgc2Vzc2lvbkNoYW5nZWQ6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubG9jYWxBdXRoU3RvcmFnZUtleSA9XG4gICAgICAgICAgICBwYXJhbXMubG9jYWxBdXRoU3RvcmFnZUtleSB8fFxuICAgICAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlNJV1hfQVVUSF9UT0tFTjtcbiAgICAgICAgdGhpcy5sb2NhbE5vbmNlU3RvcmFnZUtleSA9XG4gICAgICAgICAgICBwYXJhbXMubG9jYWxOb25jZVN0b3JhZ2VLZXkgfHxcbiAgICAgICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlS2V5cy5TSVdYX05PTkNFX1RPS0VOO1xuICAgICAgICB0aGlzLnJlcXVpcmVkID0gcGFyYW1zLnJlcXVpcmVkID8/IHRydWU7XG4gICAgICAgIHRoaXMubWVzc2VuZ2VyID0gbmV3IFJlb3duQXV0aGVudGljYXRpb25NZXNzZW5nZXIoe1xuICAgICAgICAgICAgZ2V0Tm9uY2U6IHRoaXMuZ2V0Tm9uY2UuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTWVzc2FnZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzZW5nZXIuY3JlYXRlTWVzc2FnZShpbnB1dCk7XG4gICAgfVxuICAgIGFzeW5jIGFkZFNlc3Npb24oc2Vzc2lvbikge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGtleTogJ2F1dGhlbnRpY2F0ZScsXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgZGF0YTogc2Vzc2lvbi5kYXRhLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNlc3Npb24ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHNlc3Npb24uc2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmdldENsaWVudElkKCksXG4gICAgICAgICAgICAgICAgd2FsbGV0SW5mbzogdGhpcy5nZXRXYWxsZXRJbmZvKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXJzOiBbJ25vbmNlJywgJ290cCddXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFN0b3JhZ2VUb2tlbihyZXNwb25zZS50b2tlbiwgdGhpcy5sb2NhbEF1dGhTdG9yYWdlS2V5KTtcbiAgICAgICAgdGhpcy5lbWl0KCdzZXNzaW9uQ2hhbmdlZCcsIHNlc3Npb24pO1xuICAgICAgICB0aGlzLnNldEFwcEtpdEFjY291bnRVc2VyKGp3dERlY29kZShyZXNwb25zZS50b2tlbikpO1xuICAgICAgICB0aGlzLm90cFV1aWQgPSBudWxsO1xuICAgIH1cbiAgICBhc3luYyBnZXRTZXNzaW9ucyhjaGFpbklkLCBhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0U3RvcmFnZVRva2VuKHRoaXMubG9jYWxBdXRoU3RvcmFnZUtleSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGtleTogJ21lJyxcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXG4gICAgICAgICAgICAgICAgaGVhZGVyczogWydhdXRoJ11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNTYW1lQWRkcmVzcyA9IGFjY291bnQuYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBhZGRyZXNzLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBjb25zdCBpc1NhbWVOZXR3b3JrID0gYWNjb3VudC5jYWlwMk5ldHdvcmsgPT09IGNoYWluSWQ7XG4gICAgICAgICAgICBpZiAoIWlzU2FtZUFkZHJlc3MgfHwgIWlzU2FtZU5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IGFjY291bnQuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogYWNjb3VudC5jYWlwMk5ldHdvcmtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICcnLFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogJydcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3Nlc3Npb25DaGFuZ2VkJywgc2Vzc2lvbik7XG4gICAgICAgICAgICB0aGlzLnNldEFwcEtpdEFjY291bnRVc2VyKGFjY291bnQpO1xuICAgICAgICAgICAgcmV0dXJuIFtzZXNzaW9uXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmV2b2tlU2Vzc2lvbihfY2hhaW5JZCwgX2FkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNsZWFyU3RvcmFnZVRva2VucygpKTtcbiAgICB9XG4gICAgYXN5bmMgc2V0U2Vzc2lvbnMoc2Vzc2lvbnMpIHtcbiAgICAgICAgaWYgKHNlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhclN0b3JhZ2VUb2tlbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSAoc2Vzc2lvbnMuZmluZChzID0+IHMuZGF0YS5jaGFpbklkID09PSBnZXRBY3RpdmVDYWlwTmV0d29yaygpPy5jYWlwTmV0d29ya0lkKSB8fCBzZXNzaW9uc1swXSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UmVxdWlyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVkO1xuICAgIH1cbiAgICBhc3luYyBnZXRTZXNzaW9uQWNjb3VudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldFN0b3JhZ2VUb2tlbih0aGlzLmxvY2FsQXV0aFN0b3JhZ2VLZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAga2V5OiAnbWUnLFxuICAgICAgICAgICAgYm9keTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlQXBwS2l0QWNjb3VudDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IFsnYXV0aCddXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBzZXRTZXNzaW9uQWNjb3VudE1ldGFkYXRhKG1ldGFkYXRhID0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0U3RvcmFnZVRva2VuKHRoaXMubG9jYWxBdXRoU3RvcmFnZUtleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBrZXk6ICdhY2NvdW50LW1ldGFkYXRhJyxcbiAgICAgICAgICAgIGJvZHk6IHsgbWV0YWRhdGEgfSxcbiAgICAgICAgICAgIGhlYWRlcnM6IFsnYXV0aCddXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdID0gdGhpcy5saXN0ZW5lcnNbZXZlbnRdLmZpbHRlcihjYiA9PiBjYiAhPT0gY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycyk7XG4gICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcmVxdWVzdEVtYWlsT3RwKHsgZW1haWwsIGFjY291bnQgfSkge1xuICAgICAgICBjb25zdCBvdHAgPSBhd2FpdCB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBrZXk6ICdvdHAnLFxuICAgICAgICAgICAgYm9keTogeyBlbWFpbCwgYWNjb3VudCB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm90cFV1aWQgPSBvdHAudXVpZDtcbiAgICAgICAgdGhpcy5tZXNzZW5nZXIucmVzb3VyY2VzID0gW2BlbWFpbDoke2VtYWlsfWBdO1xuICAgICAgICByZXR1cm4gb3RwO1xuICAgIH1cbiAgICBjb25maXJtRW1haWxPdHAoeyBjb2RlIH0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAga2V5OiAnb3RwJyxcbiAgICAgICAgICAgIGJvZHk6IHsgY29kZSB9LFxuICAgICAgICAgICAgaGVhZGVyczogWydvdHAnXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgcmVxdWVzdCh7IG1ldGhvZCwga2V5LCBxdWVyeSwgYm9keSwgaGVhZGVycyB9KSB7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdElkLCBzdCwgc3YgfSA9IHRoaXMuZ2V0U0RLUHJvcGVydGllcygpO1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke0NvbnN0YW50c1V0aWwuVzNNX0FQSV9VUkx9L2F1dGgvdjEvJHtTdHJpbmcoa2V5KX1gKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3RJZCcsIHByb2plY3RJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdCcsIHN0KTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N2Jywgc3YpO1xuICAgICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHF1ZXJ5KS5mb3JFYWNoKChbcXVlcnlLZXksIHF1ZXJ5VmFsdWVdKSA9PiB1cmwuc2VhcmNoUGFyYW1zLnNldChxdWVyeUtleSwgU3RyaW5nKHF1ZXJ5VmFsdWUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IEFycmF5LmlzQXJyYXkoaGVhZGVycylcbiAgICAgICAgICAgICAgICA/IGhlYWRlcnMucmVkdWNlKChhY2MsIGhlYWRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uY2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY1sneC1ub25jZS1qd3QnXSA9IGBCZWFyZXIgJHt0aGlzLmdldFN0b3JhZ2VUb2tlbih0aGlzLmxvY2FsTm9uY2VTdG9yYWdlS2V5KX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXV0aCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dGhpcy5nZXRTdG9yYWdlVG9rZW4odGhpcy5sb2NhbEF1dGhTdG9yYWdlS2V5KX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3RwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdHBVdWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY1sneC1vdHAnXSA9IHRoaXMub3RwVXVpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGdldFN0b3JhZ2VUb2tlbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIH1cbiAgICBzZXRTdG9yYWdlVG9rZW4odG9rZW4sIGtleSkge1xuICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB0b2tlbik7XG4gICAgfVxuICAgIGNsZWFyU3RvcmFnZVRva2VucygpIHtcbiAgICAgICAgdGhpcy5vdHBVdWlkID0gbnVsbDtcbiAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMubG9jYWxBdXRoU3RvcmFnZUtleSk7XG4gICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmxvY2FsTm9uY2VTdG9yYWdlS2V5KTtcbiAgICAgICAgdGhpcy5lbWl0KCdzZXNzaW9uQ2hhbmdlZCcsIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGFzeW5jIGdldE5vbmNlKCkge1xuICAgICAgICBjb25zdCB7IG5vbmNlLCB0b2tlbiB9ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBrZXk6ICdub25jZSdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0U3RvcmFnZVRva2VuKHRva2VuLCB0aGlzLmxvY2FsTm9uY2VTdG9yYWdlS2V5KTtcbiAgICAgICAgcmV0dXJuIG5vbmNlO1xuICAgIH1cbiAgICBnZXRDbGllbnRJZCgpIHtcbiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLnN0YXRlLmNsaWVudElkO1xuICAgIH1cbiAgICBnZXRXYWxsZXRJbmZvKCkge1xuICAgICAgICBjb25zdCB3YWxsZXRJbmZvID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKCk/LmNvbm5lY3RlZFdhbGxldEluZm87XG4gICAgICAgIGlmICghd2FsbGV0SW5mbykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3NvY2lhbCcgaW4gd2FsbGV0SW5mbyAmJiAnaWRlbnRpZmllcicgaW4gd2FsbGV0SW5mbykge1xuICAgICAgICAgICAgY29uc3Qgc29jaWFsID0gd2FsbGV0SW5mb1snc29jaWFsJ107XG4gICAgICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gd2FsbGV0SW5mb1snaWRlbnRpZmllciddO1xuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ3NvY2lhbCcsIHNvY2lhbCwgaWRlbnRpZmllciB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgaWNvbiB9ID0gd2FsbGV0SW5mbztcbiAgICAgICAgbGV0IHR5cGUgPSAndW5rbm93bic7XG4gICAgICAgIHN3aXRjaCAod2FsbGV0SW5mby50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdFWFRFUk5BTCc6XG4gICAgICAgICAgICBjYXNlICdJTkpFQ1RFRCc6XG4gICAgICAgICAgICBjYXNlICdBTk5PVU5DRUQnOlxuICAgICAgICAgICAgICAgIHR5cGUgPSAnZXh0ZW5zaW9uJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1dBTExFVF9DT05ORUNUJzpcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3dhbGxldGNvbm5lY3QnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3Vua25vd24nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGljb25cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0U0RLUHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIEFwaUNvbnRyb2xsZXIuX2dldFNka1Byb3BlcnRpZXMoKTtcbiAgICB9XG4gICAgZW1pdChldmVudCwgZGF0YSkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudF0uZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XG4gICAgfVxuICAgIHNldEFwcEtpdEFjY291bnRVc2VyKHNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gc2Vzc2lvbjtcbiAgICAgICAgaWYgKGVtYWlsKSB7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKENvbnN0YW50c1V0aWwuQ0hBSU4pLmZvckVhY2goY2hhaW5OYW1lc3BhY2UgPT4ge1xuICAgICAgICAgICAgICAgIENoYWluQ29udHJvbGxlci5zZXRBY2NvdW50UHJvcCgndXNlcicsIHsgZW1haWwgfSwgY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIERlY29kZXMgYSBKV1QgdG9rZW4gYW5kIHJldHVybnMgaXRzIHBheWxvYWRcbiAqIEBwYXJhbSB0b2tlbiAtIFRoZSBKV1QgdG9rZW4gdG8gZGVjb2RlXG4gKiBAcmV0dXJucyBUaGUgZGVjb2RlZCBwYXlsb2FkIG9yIG51bGwgaWYgaW52YWxpZFxuICovXG5mdW5jdGlvbiBqd3REZWNvZGUodG9rZW4pIHtcbiAgICAvLyBTcGxpdCB0aGUgdG9rZW4gaW50byBwYXJ0c1xuICAgIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgICAvLyBDaGVjayBpZiB0aGUgdG9rZW4gaGFzIHRoZSBjb3JyZWN0IGZvcm1hdCAoaGVhZGVyLnBheWxvYWQuc2lnbmF0dXJlKVxuICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuJyk7XG4gICAgfVxuICAgIC8vIERlY29kZSB0aGUgcGF5bG9hZCAoc2Vjb25kIHBhcnQpXG4gICAgY29uc3QgcGF5bG9hZCA9IHBhcnRzWzFdO1xuICAgIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuJyk7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgIGNvbnN0IGJhc2U2NCA9IHBheWxvYWQucmVwbGFjZSgvLS9ndSwgJysnKS5yZXBsYWNlKC9fL2d1LCAnLycpO1xuICAgIC8vIEFkZCBwYWRkaW5nIGlmIG5lZWRlZFxuICAgIGNvbnN0IHBhZGRlZCA9IGJhc2U2NC5wYWRFbmQoYmFzZTY0Lmxlbmd0aCArICgoNCAtIChiYXNlNjQubGVuZ3RoICUgNCkpICUgNCksICc9Jyk7XG4gICAgLy8gRGVjb2RlIGFuZCBwYXJzZSB0aGUgSlNPTlxuICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IocGFkZGVkKSk7XG4gICAgcmV0dXJuIGRlY29kZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW93bkF1dGhlbnRpY2F0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthentication.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthenticationMessenger.js":
/*!****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthenticationMessenger.js ***!
  \****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthenticationMessenger: () => (/* binding */ ReownAuthenticationMessenger)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/NetworkUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n\n\nclass ReownAuthenticationMessenger {\n    constructor(params) {\n        this.getNonce = params.getNonce;\n    }\n    async createMessage(input) {\n        const params = {\n            accountAddress: input.accountAddress,\n            chainId: input.chainId,\n            version: '1',\n            domain: typeof document === 'undefined' ? 'Unknown Domain' : document.location.host,\n            uri: typeof document === 'undefined' ? 'Unknown URI' : document.location.href,\n            resources: this.resources,\n            nonce: await this.getNonce(input),\n            issuedAt: this.stringifyDate(new Date()),\n            statement: undefined,\n            expirationTime: undefined,\n            notBefore: undefined\n        };\n        const methods = {\n            toString: () => this.stringify(params)\n        };\n        return Object.assign(params, methods);\n    }\n    stringify(params) {\n        const networkName = this.getNetworkName(params.chainId);\n        return [\n            `${params.domain} wants you to sign in with your ${networkName} account:`,\n            params.accountAddress,\n            params.statement ? `\\n${params.statement}\\n` : '',\n            `URI: ${params.uri}`,\n            `Version: ${params.version}`,\n            `Chain ID: ${params.chainId}`,\n            `Nonce: ${params.nonce}`,\n            params.issuedAt && `Issued At: ${params.issuedAt}`,\n            params.expirationTime && `Expiration Time: ${params.expirationTime}`,\n            params.notBefore && `Not Before: ${params.notBefore}`,\n            params.requestId && `Request ID: ${params.requestId}`,\n            params.resources?.length &&\n                params.resources.reduce((acc, resource) => `${acc}\\n- ${resource}`, 'Resources:')\n        ]\n            .filter(line => typeof line === 'string')\n            .join('\\n')\n            .trim();\n    }\n    getNetworkName(chainId) {\n        const requestedNetworks = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAllRequestedCaipNetworks();\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.NetworkUtil.getNetworkNameByCaipNetworkId(requestedNetworks, chainId);\n    }\n    stringifyDate(date) {\n        return date.toISOString();\n    }\n}\n//# sourceMappingURL=ReownAuthenticationMessenger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9zaXd4L3Jlb3duLWF1dGhlbnRpY2F0aW9uL1Jlb3duQXV0aGVudGljYXRpb25NZXNzZW5nZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1EO0FBQ3VCO0FBQ25FO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWUsaUNBQWlDLGFBQWE7QUFDNUU7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JELG9CQUFvQixXQUFXO0FBQy9CLHdCQUF3QixlQUFlO0FBQ3ZDLHlCQUF5QixlQUFlO0FBQ3hDLHNCQUFzQixhQUFhO0FBQ25DLDZDQUE2QyxnQkFBZ0I7QUFDN0QseURBQXlELHNCQUFzQjtBQUMvRSwrQ0FBK0MsaUJBQWlCO0FBQ2hFLCtDQUErQyxpQkFBaUI7QUFDaEU7QUFDQSw4REFBOEQsSUFBSSxNQUFNLFNBQVM7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDRFQUFlO0FBQ2pELGVBQWUsNkRBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvZmVhdHVyZXMvc2l3eC9yZW93bi1hdXRoZW50aWNhdGlvbi9SZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5ldHdvcmtVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmV4cG9ydCBjbGFzcyBSZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5nZXROb25jZSA9IHBhcmFtcy5nZXROb25jZTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTWVzc2FnZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBhY2NvdW50QWRkcmVzczogaW5wdXQuYWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgICBjaGFpbklkOiBpbnB1dC5jaGFpbklkLFxuICAgICAgICAgICAgdmVyc2lvbjogJzEnLFxuICAgICAgICAgICAgZG9tYWluOiB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ1Vua25vd24gRG9tYWluJyA6IGRvY3VtZW50LmxvY2F0aW9uLmhvc3QsXG4gICAgICAgICAgICB1cmk6IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgPyAnVW5rbm93biBVUkknIDogZG9jdW1lbnQubG9jYXRpb24uaHJlZixcbiAgICAgICAgICAgIHJlc291cmNlczogdGhpcy5yZXNvdXJjZXMsXG4gICAgICAgICAgICBub25jZTogYXdhaXQgdGhpcy5nZXROb25jZShpbnB1dCksXG4gICAgICAgICAgICBpc3N1ZWRBdDogdGhpcy5zdHJpbmdpZnlEYXRlKG5ldyBEYXRlKCkpLFxuICAgICAgICAgICAgc3RhdGVtZW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbm90QmVmb3JlOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWV0aG9kcyA9IHtcbiAgICAgICAgICAgIHRvU3RyaW5nOiAoKSA9PiB0aGlzLnN0cmluZ2lmeShwYXJhbXMpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHBhcmFtcywgbWV0aG9kcyk7XG4gICAgfVxuICAgIHN0cmluZ2lmeShwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgbmV0d29ya05hbWUgPSB0aGlzLmdldE5ldHdvcmtOYW1lKHBhcmFtcy5jaGFpbklkKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGAke3BhcmFtcy5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciAke25ldHdvcmtOYW1lfSBhY2NvdW50OmAsXG4gICAgICAgICAgICBwYXJhbXMuYWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgICBwYXJhbXMuc3RhdGVtZW50ID8gYFxcbiR7cGFyYW1zLnN0YXRlbWVudH1cXG5gIDogJycsXG4gICAgICAgICAgICBgVVJJOiAke3BhcmFtcy51cml9YCxcbiAgICAgICAgICAgIGBWZXJzaW9uOiAke3BhcmFtcy52ZXJzaW9ufWAsXG4gICAgICAgICAgICBgQ2hhaW4gSUQ6ICR7cGFyYW1zLmNoYWluSWR9YCxcbiAgICAgICAgICAgIGBOb25jZTogJHtwYXJhbXMubm9uY2V9YCxcbiAgICAgICAgICAgIHBhcmFtcy5pc3N1ZWRBdCAmJiBgSXNzdWVkIEF0OiAke3BhcmFtcy5pc3N1ZWRBdH1gLFxuICAgICAgICAgICAgcGFyYW1zLmV4cGlyYXRpb25UaW1lICYmIGBFeHBpcmF0aW9uIFRpbWU6ICR7cGFyYW1zLmV4cGlyYXRpb25UaW1lfWAsXG4gICAgICAgICAgICBwYXJhbXMubm90QmVmb3JlICYmIGBOb3QgQmVmb3JlOiAke3BhcmFtcy5ub3RCZWZvcmV9YCxcbiAgICAgICAgICAgIHBhcmFtcy5yZXF1ZXN0SWQgJiYgYFJlcXVlc3QgSUQ6ICR7cGFyYW1zLnJlcXVlc3RJZH1gLFxuICAgICAgICAgICAgcGFyYW1zLnJlc291cmNlcz8ubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zLnJlc291cmNlcy5yZWR1Y2UoKGFjYywgcmVzb3VyY2UpID0+IGAke2FjY31cXG4tICR7cmVzb3VyY2V9YCwgJ1Jlc291cmNlczonKVxuICAgICAgICBdXG4gICAgICAgICAgICAuZmlsdGVyKGxpbmUgPT4gdHlwZW9mIGxpbmUgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgLmpvaW4oJ1xcbicpXG4gICAgICAgICAgICAudHJpbSgpO1xuICAgIH1cbiAgICBnZXROZXR3b3JrTmFtZShjaGFpbklkKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICByZXR1cm4gTmV0d29ya1V0aWwuZ2V0TmV0d29ya05hbWVCeUNhaXBOZXR3b3JrSWQocmVxdWVzdGVkTmV0d29ya3MsIGNoYWluSWQpO1xuICAgIH1cbiAgICBzdHJpbmdpZnlEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW93bkF1dGhlbnRpY2F0aW9uTWVzc2VuZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthenticationMessenger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/index.js":
/*!*****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/index.js ***!
  \*****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReownAuthentication: () => (/* reexport safe */ _ReownAuthentication_js__WEBPACK_IMPORTED_MODULE_0__.ReownAuthentication),\n/* harmony export */   ReownAuthenticationMessenger: () => (/* reexport safe */ _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__.ReownAuthenticationMessenger)\n/* harmony export */ });\n/* harmony import */ var _ReownAuthentication_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ReownAuthentication.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthentication.js\");\n/* harmony import */ var _ReownAuthenticationMessenger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReownAuthenticationMessenger.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/ReownAuthenticationMessenger.js\");\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy9mZWF0dXJlcy9zaXd4L3Jlb3duLWF1dGhlbnRpY2F0aW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDUztBQUNsRCIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL2ZlYXR1cmVzL3Npd3gvcmVvd24tYXV0aGVudGljYXRpb24vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9SZW93bkF1dGhlbnRpY2F0aW9uLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vUmVvd25BdXRoZW50aWNhdGlvbk1lc3Nlbmdlci5qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/features/siwx/reown-authentication/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetUtil: () => (/* binding */ AssetUtil)\n/* harmony export */ });\n/* harmony import */ var valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! valtio/vanilla */ \"(ssr)/./node_modules/.pnpm/valtio@2.1.7_@types+react@19.2.9_react@19.2.3/node_modules/valtio/esm/vanilla.mjs\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/AssetController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/AssetController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n\n\nconst namespaceImageIds = {\n    // Ethereum\n    eip155: 'ba0ba0cd-17c6-4806-ad93-f9d174f17900',\n    // Solana\n    solana: 'a1b58899-f671-4276-6a5e-56ca5bd59700',\n    // Polkadot\n    polkadot: '',\n    // Bitcoin\n    bip122: '0b4838db-0161-4ffe-022d-532bf03dba00',\n    // Cosmos\n    cosmos: '',\n    // Sui\n    sui: '',\n    // Stacks\n    stacks: '',\n    // TON\n    ton: '20f673c0-095e-49b2-07cf-eb5049dcf600'\n};\n// -- State --------------------------------------------- //\nconst state = (0,valtio_vanilla__WEBPACK_IMPORTED_MODULE_0__.proxy)({\n    networkImagePromises: {},\n    tokenImagePromises: {}\n});\n// -- Util ---------------------------------------- //\nconst AssetUtil = {\n    async fetchWalletImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        await _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchWalletImage(imageId);\n        return this.getWalletImageById(imageId);\n    },\n    async fetchNetworkImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        const existingImage = this.getNetworkImageById(imageId);\n        // Check if the image already exists\n        if (existingImage) {\n            return existingImage;\n        }\n        // Check if the promise is already created\n        if (!state.networkImagePromises[imageId]) {\n            state.networkImagePromises[imageId] = _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchNetworkImage(imageId);\n        }\n        await state.networkImagePromises[imageId];\n        return this.getNetworkImageById(imageId);\n    },\n    /**\n     * Fetches the token image for the given image ID.\n     * @param imageId - The image id of the token.\n     * @returns The token image.\n     */\n    async fetchTokenImage(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        if (!state.tokenImagePromises[imageId]) {\n            state.tokenImagePromises[imageId] = _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_1__.ApiController._fetchTokenImage(imageId);\n        }\n        await state.tokenImagePromises[imageId];\n        return this.getTokenImage(imageId);\n    },\n    getWalletImageById(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.walletImages[imageId];\n    },\n    getWalletImage(wallet) {\n        if (wallet?.image_url) {\n            return wallet?.image_url;\n        }\n        if (wallet?.image_id) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.walletImages[wallet.image_id];\n        }\n        return undefined;\n    },\n    getNetworkImage(network) {\n        if (network?.assets?.imageUrl) {\n            return network?.assets?.imageUrl;\n        }\n        if (network?.assets?.imageId) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[network.assets.imageId];\n        }\n        return undefined;\n    },\n    getNetworkImageById(imageId) {\n        if (!imageId) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[imageId];\n    },\n    getConnectorImage(connector) {\n        if (connector?.imageUrl) {\n            return connector.imageUrl;\n        }\n        if (connector?.info?.icon) {\n            return connector.info.icon;\n        }\n        if (connector?.imageId) {\n            return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.connectorImages[connector.imageId];\n        }\n        return undefined;\n    },\n    getChainImage(chain) {\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.networkImages[namespaceImageIds[chain]];\n    },\n    getTokenImage(symbol) {\n        if (!symbol) {\n            return undefined;\n        }\n        return _controllers_AssetController_js__WEBPACK_IMPORTED_MODULE_2__.AssetController.state.tokenImages[symbol];\n    },\n    /**\n     * Get the explorer wallet's image URL for the given image ID.\n     * @param imageId - The image id of the wallet.\n     * @returns The image URL for the wallet.\n     */\n    getWalletImageUrl(imageId) {\n        if (!imageId) {\n            return '';\n        }\n        const { projectId, sdkType, sdkVersion } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        const url = new URL(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.W3M_API_URL}/getWalletImage/${imageId}`);\n        url.searchParams.set('projectId', projectId);\n        url.searchParams.set('st', sdkType);\n        url.searchParams.set('sv', sdkVersion);\n        return url.toString();\n    },\n    /**\n     * Get the public asset's image URL with the given image ID.\n     * @param imageId - The image id of the asset.\n     * @returns The image URL for the asset.\n     */\n    getAssetImageUrl(imageId) {\n        if (!imageId) {\n            return '';\n        }\n        const { projectId, sdkType, sdkVersion } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_3__.OptionsController.state;\n        const url = new URL(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.W3M_API_URL}/public/getAssetImage/${imageId}`);\n        url.searchParams.set('projectId', projectId);\n        url.searchParams.set('st', sdkType);\n        url.searchParams.set('sv', sdkVersion);\n        return url.toString();\n    },\n    /**\n     * Get the image URL for the given chain namespace.\n     * @param chainNamespace - The chain namespace to get the image URL for.\n     * @returns The image URL for the chain namespace.\n     */\n    getChainNamespaceImageUrl(chainNamespace) {\n        return this.getAssetImageUrl(namespaceImageIds[chainNamespace]);\n    },\n    /**\n     * Get the image id for the given token and namespace.\n     * @param token - The token address or 'native' to get the image id for.\n     * @param namespace - The namespace to get the image id for.\n     * @returns The image URL for the token.\n     */\n    async getImageByToken(token, namespace) {\n        if (token === 'native') {\n            const imageId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.NATIVE_IMAGE_IDS_BY_NAMESPACE[namespace] ?? null;\n            if (!imageId) {\n                return undefined;\n            }\n            return AssetUtil.fetchNetworkImage(imageId);\n        }\n        const [, symbol] = Object.entries(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.ConstantsUtil.TOKEN_SYMBOLS_BY_ADDRESS).find(([address]) => address.toLowerCase() === token.toLowerCase()) ?? [];\n        if (!symbol) {\n            return undefined;\n        }\n        return AssetUtil.fetchTokenImage(symbol);\n    }\n};\n//# sourceMappingURL=AssetUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Bc3NldFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVDO0FBQ2M7QUFDVztBQUNJO0FBQ0k7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CLDRCQUE0QjtBQUM1QjtBQUNBLENBQUM7QUFDRDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdFQUFhO0FBQzNCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsd0VBQWE7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHdFQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNEVBQWU7QUFDOUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNEVBQWU7QUFDbEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRFQUFlO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUFlO0FBQzlCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRFQUFlO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLDRFQUFlO0FBQzlCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNEVBQWU7QUFDOUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQ0FBaUMsRUFBRSxnRkFBaUI7QUFDcEUsK0JBQStCLCtEQUFhLGFBQWEsa0JBQWtCLFFBQVE7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlDQUFpQyxFQUFFLGdGQUFpQjtBQUNwRSwrQkFBK0IsK0RBQWEsYUFBYSx3QkFBd0IsUUFBUTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0RBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Bc3NldFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJveHkgfSBmcm9tICd2YWx0aW8vdmFuaWxsYSc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQXBpQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0FwaUNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQXNzZXRDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQXNzZXRDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuY29uc3QgbmFtZXNwYWNlSW1hZ2VJZHMgPSB7XG4gICAgLy8gRXRoZXJldW1cbiAgICBlaXAxNTU6ICdiYTBiYTBjZC0xN2M2LTQ4MDYtYWQ5My1mOWQxNzRmMTc5MDAnLFxuICAgIC8vIFNvbGFuYVxuICAgIHNvbGFuYTogJ2ExYjU4ODk5LWY2NzEtNDI3Ni02YTVlLTU2Y2E1YmQ1OTcwMCcsXG4gICAgLy8gUG9sa2Fkb3RcbiAgICBwb2xrYWRvdDogJycsXG4gICAgLy8gQml0Y29pblxuICAgIGJpcDEyMjogJzBiNDgzOGRiLTAxNjEtNGZmZS0wMjJkLTUzMmJmMDNkYmEwMCcsXG4gICAgLy8gQ29zbW9zXG4gICAgY29zbW9zOiAnJyxcbiAgICAvLyBTdWlcbiAgICBzdWk6ICcnLFxuICAgIC8vIFN0YWNrc1xuICAgIHN0YWNrczogJycsXG4gICAgLy8gVE9OXG4gICAgdG9uOiAnMjBmNjczYzAtMDk1ZS00OWIyLTA3Y2YtZWI1MDQ5ZGNmNjAwJ1xufTtcbi8vIC0tIFN0YXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3Qgc3RhdGUgPSBwcm94eSh7XG4gICAgbmV0d29ya0ltYWdlUHJvbWlzZXM6IHt9LFxuICAgIHRva2VuSW1hZ2VQcm9taXNlczoge31cbn0pO1xuLy8gLS0gVXRpbCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQXNzZXRVdGlsID0ge1xuICAgIGFzeW5jIGZldGNoV2FsbGV0SW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgQXBpQ29udHJvbGxlci5fZmV0Y2hXYWxsZXRJbWFnZShpbWFnZUlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0V2FsbGV0SW1hZ2VCeUlkKGltYWdlSWQpO1xuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hOZXR3b3JrSW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbWFnZSA9IHRoaXMuZ2V0TmV0d29ya0ltYWdlQnlJZChpbWFnZUlkKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGltYWdlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmIChleGlzdGluZ0ltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdJbWFnZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvbWlzZSBpcyBhbHJlYWR5IGNyZWF0ZWRcbiAgICAgICAgaWYgKCFzdGF0ZS5uZXR3b3JrSW1hZ2VQcm9taXNlc1tpbWFnZUlkXSkge1xuICAgICAgICAgICAgc3RhdGUubmV0d29ya0ltYWdlUHJvbWlzZXNbaW1hZ2VJZF0gPSBBcGlDb250cm9sbGVyLl9mZXRjaE5ldHdvcmtJbWFnZShpbWFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzdGF0ZS5uZXR3b3JrSW1hZ2VQcm9taXNlc1tpbWFnZUlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TmV0d29ya0ltYWdlQnlJZChpbWFnZUlkKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIHRva2VuIGltYWdlIGZvciB0aGUgZ2l2ZW4gaW1hZ2UgSUQuXG4gICAgICogQHBhcmFtIGltYWdlSWQgLSBUaGUgaW1hZ2UgaWQgb2YgdGhlIHRva2VuLlxuICAgICAqIEByZXR1cm5zIFRoZSB0b2tlbiBpbWFnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmZXRjaFRva2VuSW1hZ2UoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdGF0ZS50b2tlbkltYWdlUHJvbWlzZXNbaW1hZ2VJZF0pIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuSW1hZ2VQcm9taXNlc1tpbWFnZUlkXSA9IEFwaUNvbnRyb2xsZXIuX2ZldGNoVG9rZW5JbWFnZShpbWFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzdGF0ZS50b2tlbkltYWdlUHJvbWlzZXNbaW1hZ2VJZF07XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuSW1hZ2UoaW1hZ2VJZCk7XG4gICAgfSxcbiAgICBnZXRXYWxsZXRJbWFnZUJ5SWQoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS53YWxsZXRJbWFnZXNbaW1hZ2VJZF07XG4gICAgfSxcbiAgICBnZXRXYWxsZXRJbWFnZSh3YWxsZXQpIHtcbiAgICAgICAgaWYgKHdhbGxldD8uaW1hZ2VfdXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gd2FsbGV0Py5pbWFnZV91cmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhbGxldD8uaW1hZ2VfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUud2FsbGV0SW1hZ2VzW3dhbGxldC5pbWFnZV9pZF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldE5ldHdvcmtJbWFnZShuZXR3b3JrKSB7XG4gICAgICAgIGlmIChuZXR3b3JrPy5hc3NldHM/LmltYWdlVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV0d29yaz8uYXNzZXRzPy5pbWFnZVVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV0d29yaz8uYXNzZXRzPy5pbWFnZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLm5ldHdvcmtJbWFnZXNbbmV0d29yay5hc3NldHMuaW1hZ2VJZF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGdldE5ldHdvcmtJbWFnZUJ5SWQoaW1hZ2VJZCkge1xuICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFzc2V0Q29udHJvbGxlci5zdGF0ZS5uZXR3b3JrSW1hZ2VzW2ltYWdlSWRdO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdG9ySW1hZ2UoY29ubmVjdG9yKSB7XG4gICAgICAgIGlmIChjb25uZWN0b3I/LmltYWdlVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdG9yLmltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0b3I/LmluZm8/Lmljb24pIHtcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0b3IuaW5mby5pY29uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0b3I/LmltYWdlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9ySW1hZ2VzW2Nvbm5lY3Rvci5pbWFnZUlkXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0Q2hhaW5JbWFnZShjaGFpbikge1xuICAgICAgICByZXR1cm4gQXNzZXRDb250cm9sbGVyLnN0YXRlLm5ldHdvcmtJbWFnZXNbbmFtZXNwYWNlSW1hZ2VJZHNbY2hhaW5dXTtcbiAgICB9LFxuICAgIGdldFRva2VuSW1hZ2Uoc3ltYm9sKSB7XG4gICAgICAgIGlmICghc3ltYm9sKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBc3NldENvbnRyb2xsZXIuc3RhdGUudG9rZW5JbWFnZXNbc3ltYm9sXTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZXhwbG9yZXIgd2FsbGV0J3MgaW1hZ2UgVVJMIGZvciB0aGUgZ2l2ZW4gaW1hZ2UgSUQuXG4gICAgICogQHBhcmFtIGltYWdlSWQgLSBUaGUgaW1hZ2UgaWQgb2YgdGhlIHdhbGxldC5cbiAgICAgKiBAcmV0dXJucyBUaGUgaW1hZ2UgVVJMIGZvciB0aGUgd2FsbGV0LlxuICAgICAqL1xuICAgIGdldFdhbGxldEltYWdlVXJsKGltYWdlSWQpIHtcbiAgICAgICAgaWYgKCFpbWFnZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwcm9qZWN0SWQsIHNka1R5cGUsIHNka1ZlcnNpb24gfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke0NvbnN0YW50c1V0aWwuVzNNX0FQSV9VUkx9L2dldFdhbGxldEltYWdlLyR7aW1hZ2VJZH1gKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3RJZCcsIHByb2plY3RJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdCcsIHNka1R5cGUpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3YnLCBzZGtWZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwdWJsaWMgYXNzZXQncyBpbWFnZSBVUkwgd2l0aCB0aGUgZ2l2ZW4gaW1hZ2UgSUQuXG4gICAgICogQHBhcmFtIGltYWdlSWQgLSBUaGUgaW1hZ2UgaWQgb2YgdGhlIGFzc2V0LlxuICAgICAqIEByZXR1cm5zIFRoZSBpbWFnZSBVUkwgZm9yIHRoZSBhc3NldC5cbiAgICAgKi9cbiAgICBnZXRBc3NldEltYWdlVXJsKGltYWdlSWQpIHtcbiAgICAgICAgaWYgKCFpbWFnZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwcm9qZWN0SWQsIHNka1R5cGUsIHNka1ZlcnNpb24gfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke0NvbnN0YW50c1V0aWwuVzNNX0FQSV9VUkx9L3B1YmxpYy9nZXRBc3NldEltYWdlLyR7aW1hZ2VJZH1gKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3RJZCcsIHByb2plY3RJZCk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdCcsIHNka1R5cGUpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3YnLCBzZGtWZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbWFnZSBVUkwgZm9yIHRoZSBnaXZlbiBjaGFpbiBuYW1lc3BhY2UuXG4gICAgICogQHBhcmFtIGNoYWluTmFtZXNwYWNlIC0gVGhlIGNoYWluIG5hbWVzcGFjZSB0byBnZXQgdGhlIGltYWdlIFVSTCBmb3IuXG4gICAgICogQHJldHVybnMgVGhlIGltYWdlIFVSTCBmb3IgdGhlIGNoYWluIG5hbWVzcGFjZS5cbiAgICAgKi9cbiAgICBnZXRDaGFpbk5hbWVzcGFjZUltYWdlVXJsKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFzc2V0SW1hZ2VVcmwobmFtZXNwYWNlSW1hZ2VJZHNbY2hhaW5OYW1lc3BhY2VdKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW1hZ2UgaWQgZm9yIHRoZSBnaXZlbiB0b2tlbiBhbmQgbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiBhZGRyZXNzIG9yICduYXRpdmUnIHRvIGdldCB0aGUgaW1hZ2UgaWQgZm9yLlxuICAgICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIHRvIGdldCB0aGUgaW1hZ2UgaWQgZm9yLlxuICAgICAqIEByZXR1cm5zIFRoZSBpbWFnZSBVUkwgZm9yIHRoZSB0b2tlbi5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRJbWFnZUJ5VG9rZW4odG9rZW4sIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAodG9rZW4gPT09ICduYXRpdmUnKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUlkID0gQ29uc3RhbnRzVXRpbC5OQVRJVkVfSU1BR0VfSURTX0JZX05BTUVTUEFDRVtuYW1lc3BhY2VdID8/IG51bGw7XG4gICAgICAgICAgICBpZiAoIWltYWdlSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFzc2V0VXRpbC5mZXRjaE5ldHdvcmtJbWFnZShpbWFnZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbLCBzeW1ib2xdID0gT2JqZWN0LmVudHJpZXMoQ29uc3RhbnRzVXRpbC5UT0tFTl9TWU1CT0xTX0JZX0FERFJFU1MpLmZpbmQoKFthZGRyZXNzXSkgPT4gYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSB0b2tlbi50b0xvd2VyQ2FzZSgpKSA/PyBbXTtcbiAgICAgICAgaWYgKCFzeW1ib2wpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFzc2V0VXRpbC5mZXRjaFRva2VuSW1hZ2Uoc3ltYm9sKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNzZXRVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/AssetUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BalanceUtil: () => (/* binding */ BalanceUtil)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.44.4_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/viem/_esm/constants/abis.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.44.4_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/viem/_esm/utils/unit/formatUnits.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ERC7811Util.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _ViemUtil_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ViemUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js\");\n\n\n\n\n\n\n\n\n\n// -- Controller ---------------------------------------- //\nconst BalanceUtil = {\n    /**\n     * Get the balances of the user's tokens. If user connected with Auth provider or and on the EIP155 network,\n     * it'll use the `wallet_getAssets` and `wallet_getCapabilities` calls to fetch the balance rather than Blockchain API\n     * @param forceUpdate - If true, the balances will be fetched from the server\n     * @returns The balances of the user's tokens\n     */\n    async getMyTokensWithBalance(params = {\n        forceUpdate: undefined,\n        caipNetwork: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork,\n        address: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData()?.address\n    }) {\n        const { forceUpdate, caipNetwork, address } = params;\n        const isAuthConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.getConnectorId('eip155') === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        if (!address) {\n            return [];\n        }\n        const caipAddress = caipNetwork ? `${caipNetwork.caipNetworkId}:${address}` : address;\n        const cachedBalance = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.getBalanceCacheForCaipAddress(caipAddress);\n        if (cachedBalance) {\n            return cachedBalance.balances;\n        }\n        // Extract EIP-155 specific logic\n        if (caipNetwork && caipNetwork.chainNamespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN.EVM && isAuthConnector) {\n            const eip155Balances = await this.getEIP155Balances(address, caipNetwork);\n            if (eip155Balances) {\n                return this.filterLowQualityTokens(eip155Balances);\n            }\n        }\n        // Fallback to 1Inch API\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_4__.BlockchainApiController.getBalance(address, caipNetwork?.caipNetworkId, forceUpdate);\n        return this.filterLowQualityTokens(response.balances);\n    },\n    /**\n     * Get the balances of the user's tokens on the EIP155 network using native `wallet_getAssets` and `wallet_getCapabilities` calls\n     * @param address - The address of the user\n     * @param caipNetwork - The CAIP network\n     * @returns The balances of the user's tokens on the EIP155 network\n     */\n    async getEIP155Balances(address, caipNetwork) {\n        try {\n            const chainIdHex = _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.getChainIdHexFromCAIP2ChainId(caipNetwork.caipNetworkId);\n            const walletCapabilities = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.getCapabilities(address));\n            if (!walletCapabilities?.[chainIdHex]?.['assetDiscovery']?.supported) {\n                return null;\n            }\n            const walletGetAssetsResponse = await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.walletGetAssets({\n                account: address,\n                chainFilter: [chainIdHex]\n            });\n            if (!_ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.isWalletGetAssetsResponse(walletGetAssetsResponse)) {\n                return null;\n            }\n            const assets = walletGetAssetsResponse[chainIdHex] || [];\n            const filteredAssets = assets.map(asset => _ERC7811Util_js__WEBPACK_IMPORTED_MODULE_5__.ERC7811Utils.createBalance(asset, caipNetwork.caipNetworkId));\n            _StorageUtil_js__WEBPACK_IMPORTED_MODULE_3__.StorageUtil.updateBalanceCache({\n                caipAddress: `${caipNetwork.caipNetworkId}:${address}`,\n                balance: { balances: filteredAssets },\n                timestamp: Date.now()\n            });\n            return filteredAssets;\n        }\n        catch (error) {\n            return null;\n        }\n    },\n    /**\n     * The 1Inch API includes many low-quality tokens in the balance response,\n     * which appear inconsistently. This filter prevents them from being displayed.\n     */\n    filterLowQualityTokens(balances) {\n        return balances.filter(balance => balance.quantity.decimals !== '0');\n    },\n    async fetchERC20Balance({ caipAddress, assetAddress, caipNetwork }) {\n        const publicClient = await _ViemUtil_js__WEBPACK_IMPORTED_MODULE_7__.ViemUtil.createViemPublicClient(caipNetwork);\n        const { address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ParseUtil.parseCaipAddress(caipAddress);\n        const [{ result: name }, { result: symbol }, { result: balance }, { result: decimals }] = await publicClient.multicall({\n            contracts: [\n                {\n                    address: assetAddress,\n                    functionName: 'name',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'symbol',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'balanceOf',\n                    args: [address],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                },\n                {\n                    address: assetAddress,\n                    functionName: 'decimals',\n                    args: [],\n                    abi: viem__WEBPACK_IMPORTED_MODULE_9__.erc20Abi\n                }\n            ]\n        });\n        return {\n            name,\n            symbol,\n            decimals,\n            balance: balance && decimals ? (0,viem__WEBPACK_IMPORTED_MODULE_10__.formatUnits)(balance, decimals) : '0'\n        };\n    }\n};\n//# sourceMappingURL=BalanceUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9CYWxhbmNlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNkM7QUFDbUI7QUFDb0I7QUFDaEI7QUFDVTtBQUNGO0FBQzVCO0FBQ0Q7QUFDTjtBQUN6QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0RUFBZTtBQUNwQyxpQkFBaUIsNEVBQWU7QUFDaEMsS0FBSztBQUNMLGdCQUFnQixvQ0FBb0M7QUFDcEQsZ0NBQWdDLG9GQUFtQiw4QkFBOEIsK0RBQWE7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDBCQUEwQixHQUFHLFFBQVE7QUFDbEYsOEJBQThCLHdEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELCtEQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0RkFBdUI7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBWTtBQUMzQyw4Q0FBOEMsc0ZBQW9CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxzRkFBb0I7QUFDdEU7QUFDQTtBQUNBLGFBQWE7QUFDYixpQkFBaUIseURBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHlEQUFZO0FBQ25FLFlBQVksd0RBQVc7QUFDdkIsZ0NBQWdDLDBCQUEwQixHQUFHLFFBQVE7QUFDckUsMkJBQTJCLDBCQUEwQjtBQUNyRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw4QkFBOEIsd0NBQXdDO0FBQ3RFLG1DQUFtQyxrREFBUTtBQUMzQyxnQkFBZ0IsVUFBVSxFQUFFLDJEQUFTO0FBQ3JDLGlCQUFpQixjQUFjLElBQUksZ0JBQWdCLElBQUksaUJBQWlCLElBQUksa0JBQWtCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQVE7QUFDakMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUFRO0FBQ2pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQ0FBUTtBQUNqQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQVE7QUFDakM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrREFBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0JhbGFuY2VVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVyYzIwQWJpLCBmb3JtYXRVbml0cyB9IGZyb20gJ3ZpZW0nO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCwgUGFyc2VVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9CbG9ja2NoYWluQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDaGFpbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9DaGFpbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdGlvbkNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0aW9uQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdG9yQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBFUkM3ODExVXRpbHMgfSBmcm9tICcuL0VSQzc4MTFVdGlsLmpzJztcbmltcG9ydCB7IFN0b3JhZ2VVdGlsIH0gZnJvbSAnLi9TdG9yYWdlVXRpbC5qcyc7XG5pbXBvcnQgeyBWaWVtVXRpbCB9IGZyb20gJy4vVmllbVV0aWwuanMnO1xuLy8gLS0gQ29udHJvbGxlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQmFsYW5jZVV0aWwgPSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBiYWxhbmNlcyBvZiB0aGUgdXNlcidzIHRva2Vucy4gSWYgdXNlciBjb25uZWN0ZWQgd2l0aCBBdXRoIHByb3ZpZGVyIG9yIGFuZCBvbiB0aGUgRUlQMTU1IG5ldHdvcmssXG4gICAgICogaXQnbGwgdXNlIHRoZSBgd2FsbGV0X2dldEFzc2V0c2AgYW5kIGB3YWxsZXRfZ2V0Q2FwYWJpbGl0aWVzYCBjYWxscyB0byBmZXRjaCB0aGUgYmFsYW5jZSByYXRoZXIgdGhhbiBCbG9ja2NoYWluIEFQSVxuICAgICAqIEBwYXJhbSBmb3JjZVVwZGF0ZSAtIElmIHRydWUsIHRoZSBiYWxhbmNlcyB3aWxsIGJlIGZldGNoZWQgZnJvbSB0aGUgc2VydmVyXG4gICAgICogQHJldHVybnMgVGhlIGJhbGFuY2VzIG9mIHRoZSB1c2VyJ3MgdG9rZW5zXG4gICAgICovXG4gICAgYXN5bmMgZ2V0TXlUb2tlbnNXaXRoQmFsYW5jZShwYXJhbXMgPSB7XG4gICAgICAgIGZvcmNlVXBkYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIGNhaXBOZXR3b3JrOiBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcE5ldHdvcmssXG4gICAgICAgIGFkZHJlc3M6IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzXG4gICAgfSkge1xuICAgICAgICBjb25zdCB7IGZvcmNlVXBkYXRlLCBjYWlwTmV0d29yaywgYWRkcmVzcyB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBpc0F1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKCdlaXAxNTUnKSA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSDtcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBjYWlwTmV0d29yayA/IGAke2NhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWR9OiR7YWRkcmVzc31gIDogYWRkcmVzcztcbiAgICAgICAgY29uc3QgY2FjaGVkQmFsYW5jZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgaWYgKGNhY2hlZEJhbGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRCYWxhbmNlLmJhbGFuY2VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhY3QgRUlQLTE1NSBzcGVjaWZpYyBsb2dpY1xuICAgICAgICBpZiAoY2FpcE5ldHdvcmsgJiYgY2FpcE5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uRVZNICYmIGlzQXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgZWlwMTU1QmFsYW5jZXMgPSBhd2FpdCB0aGlzLmdldEVJUDE1NUJhbGFuY2VzKGFkZHJlc3MsIGNhaXBOZXR3b3JrKTtcbiAgICAgICAgICAgIGlmIChlaXAxNTVCYWxhbmNlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckxvd1F1YWxpdHlUb2tlbnMoZWlwMTU1QmFsYW5jZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIDFJbmNoIEFQSVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmdldEJhbGFuY2UoYWRkcmVzcywgY2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQsIGZvcmNlVXBkYXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyTG93UXVhbGl0eVRva2VucyhyZXNwb25zZS5iYWxhbmNlcyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGJhbGFuY2VzIG9mIHRoZSB1c2VyJ3MgdG9rZW5zIG9uIHRoZSBFSVAxNTUgbmV0d29yayB1c2luZyBuYXRpdmUgYHdhbGxldF9nZXRBc3NldHNgIGFuZCBgd2FsbGV0X2dldENhcGFiaWxpdGllc2AgY2FsbHNcbiAgICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIG9mIHRoZSB1c2VyXG4gICAgICogQHBhcmFtIGNhaXBOZXR3b3JrIC0gVGhlIENBSVAgbmV0d29ya1xuICAgICAqIEByZXR1cm5zIFRoZSBiYWxhbmNlcyBvZiB0aGUgdXNlcidzIHRva2VucyBvbiB0aGUgRUlQMTU1IG5ldHdvcmtcbiAgICAgKi9cbiAgICBhc3luYyBnZXRFSVAxNTVCYWxhbmNlcyhhZGRyZXNzLCBjYWlwTmV0d29yaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2hhaW5JZEhleCA9IEVSQzc4MTFVdGlscy5nZXRDaGFpbklkSGV4RnJvbUNBSVAyQ2hhaW5JZChjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIGNvbnN0IHdhbGxldENhcGFiaWxpdGllcyA9IChhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5nZXRDYXBhYmlsaXRpZXMoYWRkcmVzcykpO1xuICAgICAgICAgICAgaWYgKCF3YWxsZXRDYXBhYmlsaXRpZXM/LltjaGFpbklkSGV4XT8uWydhc3NldERpc2NvdmVyeSddPy5zdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHdhbGxldEdldEFzc2V0c1Jlc3BvbnNlID0gYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIud2FsbGV0R2V0QXNzZXRzKHtcbiAgICAgICAgICAgICAgICBhY2NvdW50OiBhZGRyZXNzLFxuICAgICAgICAgICAgICAgIGNoYWluRmlsdGVyOiBbY2hhaW5JZEhleF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFFUkM3ODExVXRpbHMuaXNXYWxsZXRHZXRBc3NldHNSZXNwb25zZSh3YWxsZXRHZXRBc3NldHNSZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFzc2V0cyA9IHdhbGxldEdldEFzc2V0c1Jlc3BvbnNlW2NoYWluSWRIZXhdIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRBc3NldHMgPSBhc3NldHMubWFwKGFzc2V0ID0+IEVSQzc4MTFVdGlscy5jcmVhdGVCYWxhbmNlKGFzc2V0LCBjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkKSk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC51cGRhdGVCYWxhbmNlQ2FjaGUoe1xuICAgICAgICAgICAgICAgIGNhaXBBZGRyZXNzOiBgJHtjYWlwTmV0d29yay5jYWlwTmV0d29ya0lkfToke2FkZHJlc3N9YCxcbiAgICAgICAgICAgICAgICBiYWxhbmNlOiB7IGJhbGFuY2VzOiBmaWx0ZXJlZEFzc2V0cyB9LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRBc3NldHM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhlIDFJbmNoIEFQSSBpbmNsdWRlcyBtYW55IGxvdy1xdWFsaXR5IHRva2VucyBpbiB0aGUgYmFsYW5jZSByZXNwb25zZSxcbiAgICAgKiB3aGljaCBhcHBlYXIgaW5jb25zaXN0ZW50bHkuIFRoaXMgZmlsdGVyIHByZXZlbnRzIHRoZW0gZnJvbSBiZWluZyBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgZmlsdGVyTG93UXVhbGl0eVRva2VucyhiYWxhbmNlcykge1xuICAgICAgICByZXR1cm4gYmFsYW5jZXMuZmlsdGVyKGJhbGFuY2UgPT4gYmFsYW5jZS5xdWFudGl0eS5kZWNpbWFscyAhPT0gJzAnKTtcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoRVJDMjBCYWxhbmNlKHsgY2FpcEFkZHJlc3MsIGFzc2V0QWRkcmVzcywgY2FpcE5ldHdvcmsgfSkge1xuICAgICAgICBjb25zdCBwdWJsaWNDbGllbnQgPSBhd2FpdCBWaWVtVXRpbC5jcmVhdGVWaWVtUHVibGljQ2xpZW50KGNhaXBOZXR3b3JrKTtcbiAgICAgICAgY29uc3QgeyBhZGRyZXNzIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyhjYWlwQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IFt7IHJlc3VsdDogbmFtZSB9LCB7IHJlc3VsdDogc3ltYm9sIH0sIHsgcmVzdWx0OiBiYWxhbmNlIH0sIHsgcmVzdWx0OiBkZWNpbWFscyB9XSA9IGF3YWl0IHB1YmxpY0NsaWVudC5tdWx0aWNhbGwoe1xuICAgICAgICAgICAgY29udHJhY3RzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhc3NldEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWJpOiBlcmMyMEFiaVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhc3NldEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uTmFtZTogJ3N5bWJvbCcsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhYmk6IGVyYzIwQWJpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiAnYmFsYW5jZU9mJyxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW2FkZHJlc3NdLFxuICAgICAgICAgICAgICAgICAgICBhYmk6IGVyYzIwQWJpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0QWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25OYW1lOiAnZGVjaW1hbHMnLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWJpOiBlcmMyMEFiaVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgc3ltYm9sLFxuICAgICAgICAgICAgZGVjaW1hbHMsXG4gICAgICAgICAgICBiYWxhbmNlOiBiYWxhbmNlICYmIGRlY2ltYWxzID8gZm9ybWF0VW5pdHMoYmFsYW5jZSwgZGVjaW1hbHMpIDogJzAnXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhbGFuY2VVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveCaipNetwork: () => (/* binding */ getActiveCaipNetwork),\n/* harmony export */   getActiveNetworkTokenAddress: () => (/* binding */ getActiveNetworkTokenAddress),\n/* harmony export */   getChainsToDisconnect: () => (/* binding */ getChainsToDisconnect),\n/* harmony export */   getNativeTokenAddress: () => (/* binding */ getNativeTokenAddress),\n/* harmony export */   getPreferredAccountType: () => (/* binding */ getPreferredAccountType)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectorControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n\n\n\n\n/**\n * Returns the array of chains to disconnect from the connector with the given namespace.\n * If no namespace is provided, it returns all chains.\n * @param namespace - The namespace of the connector to disconnect from.\n * @returns An array of chains to disconnect.\n */\nfunction getChainsToDisconnect(namespace) {\n    const namespaces = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.keys());\n    let chains = [];\n    if (namespace) {\n        chains.push([namespace, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(namespace)]);\n        if (_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(namespace, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n            namespaces.forEach(ns => {\n                if (ns !== namespace &&\n                    _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(ns, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT)) {\n                    chains.push([ns, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(ns)]);\n                }\n            });\n        }\n        else if (_ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(namespace, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH)) {\n            namespaces.forEach(ns => {\n                if (ns !== namespace &&\n                    _ConnectorControllerUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorControllerUtil.checkNamespaceConnectorId(ns, _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CONNECTOR_ID.AUTH)) {\n                    chains.push([ns, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(ns)]);\n                }\n            });\n        }\n    }\n    else {\n        chains = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.entries());\n    }\n    return chains;\n}\n/**\n * Get the active network token address\n * @returns The active network token address\n */\nfunction getActiveNetworkTokenAddress() {\n    const namespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork?.chainNamespace || 'eip155';\n    const chainId = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork?.id || 1;\n    const address = _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace];\n    return `${namespace}:${chainId}:${address}`;\n}\n/**\n * Get the native token address for a given namespace\n * @param namespace - The namespace of the native token\n * @returns The native token address\n */\nfunction getNativeTokenAddress(namespace) {\n    return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.NATIVE_TOKEN_ADDRESS[namespace];\n}\n/**\n * Get the preferred account type for a given namespace\n * @param namespace - The namespace of the account\n * @returns The preferred account type\n */\nfunction getPreferredAccountType(namespace) {\n    const preferredAccountType = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(namespace)?.preferredAccountType;\n    return preferredAccountType;\n}\n/**\n * Get the active CAIP network for a given chain namespace, if no namespace is provided, it returns the active CAIP network\n * @param chainNamespace - The chain namespace to get the active CAIP network for\n * @returns The active CAIP network\n */\nfunction getActiveCaipNetwork(chainNamespace) {\n    if (chainNamespace) {\n        return _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.chains.get(chainNamespace)?.networkState?.caipNetwork;\n    }\n    return _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n}\n//# sourceMappingURL=ChainControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE0RTtBQUNSO0FBQ0c7QUFDcEI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQ0FBa0MsNEVBQWU7QUFDakQ7QUFDQTtBQUNBLGdDQUFnQyw0RUFBZTtBQUMvQyxZQUFZLGdGQUF1QixzQ0FBc0MsK0RBQW1CO0FBQzVGO0FBQ0E7QUFDQSxvQkFBb0IsZ0ZBQXVCLCtCQUErQiwrREFBbUI7QUFDN0YscUNBQXFDLDRFQUFlO0FBQ3BEO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUJBQWlCLGdGQUF1QixzQ0FBc0MsK0RBQW1CO0FBQ2pHO0FBQ0E7QUFDQSxvQkFBb0IsZ0ZBQXVCLCtCQUErQiwrREFBbUI7QUFDN0YscUNBQXFDLDRFQUFlO0FBQ3BEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0RUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asc0JBQXNCLDRFQUFlO0FBQ3JDLG9CQUFvQiw0RUFBZTtBQUNuQyxvQkFBb0IsNERBQWE7QUFDakMsY0FBYyxVQUFVLEdBQUcsUUFBUSxHQUFHLFFBQVE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLDREQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDLDRFQUFlO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGVBQWUsNEVBQWU7QUFDOUI7QUFDQSxXQUFXLDRFQUFlO0FBQzFCO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0b3JDb250cm9sbGVyVXRpbCB9IGZyb20gJy4vQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4vQ29uc3RhbnRzVXRpbC5qcyc7XG4vKipcbiAqIFJldHVybnMgdGhlIGFycmF5IG9mIGNoYWlucyB0byBkaXNjb25uZWN0IGZyb20gdGhlIGNvbm5lY3RvciB3aXRoIHRoZSBnaXZlbiBuYW1lc3BhY2UuXG4gKiBJZiBubyBuYW1lc3BhY2UgaXMgcHJvdmlkZWQsIGl0IHJldHVybnMgYWxsIGNoYWlucy5cbiAqIEBwYXJhbSBuYW1lc3BhY2UgLSBUaGUgbmFtZXNwYWNlIG9mIHRoZSBjb25uZWN0b3IgdG8gZGlzY29ubmVjdCBmcm9tLlxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgY2hhaW5zIHRvIGRpc2Nvbm5lY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGFpbnNUb0Rpc2Nvbm5lY3QobmFtZXNwYWNlKSB7XG4gICAgY29uc3QgbmFtZXNwYWNlcyA9IEFycmF5LmZyb20oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5rZXlzKCkpO1xuICAgIGxldCBjaGFpbnMgPSBbXTtcbiAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIGNoYWlucy5wdXNoKFtuYW1lc3BhY2UsIENoYWluQ29udHJvbGxlci5zdGF0ZS5jaGFpbnMuZ2V0KG5hbWVzcGFjZSldKTtcbiAgICAgICAgaWYgKENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNoZWNrTmFtZXNwYWNlQ29ubmVjdG9ySWQobmFtZXNwYWNlLCBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5XQUxMRVRfQ09OTkVDVCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChucyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5zICE9PSBuYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChucywgQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWlucy5wdXNoKFtucywgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobnMpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChuYW1lc3BhY2UsIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChucyAhPT0gbmFtZXNwYWNlICYmXG4gICAgICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXJVdGlsLmNoZWNrTmFtZXNwYWNlQ29ubmVjdG9ySWQobnMsIENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkFVVEgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYWlucy5wdXNoKFtucywgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQobnMpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYWlucyA9IEFycmF5LmZyb20oQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5lbnRyaWVzKCkpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhaW5zO1xufVxuLyoqXG4gKiBHZXQgdGhlIGFjdGl2ZSBuZXR3b3JrIHRva2VuIGFkZHJlc3NcbiAqIEByZXR1cm5zIFRoZSBhY3RpdmUgbmV0d29yayB0b2tlbiBhZGRyZXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzKCkge1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uY2hhaW5OYW1lc3BhY2UgfHwgJ2VpcDE1NSc7XG4gICAgY29uc3QgY2hhaW5JZCA9IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yaz8uaWQgfHwgMTtcbiAgICBjb25zdCBhZGRyZXNzID0gQ29uc3RhbnRzVXRpbC5OQVRJVkVfVE9LRU5fQUREUkVTU1tuYW1lc3BhY2VdO1xuICAgIHJldHVybiBgJHtuYW1lc3BhY2V9OiR7Y2hhaW5JZH06JHthZGRyZXNzfWA7XG59XG4vKipcbiAqIEdldCB0aGUgbmF0aXZlIHRva2VuIGFkZHJlc3MgZm9yIGEgZ2l2ZW4gbmFtZXNwYWNlXG4gKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSBvZiB0aGUgbmF0aXZlIHRva2VuXG4gKiBAcmV0dXJucyBUaGUgbmF0aXZlIHRva2VuIGFkZHJlc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5hdGl2ZVRva2VuQWRkcmVzcyhuYW1lc3BhY2UpIHtcbiAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5OQVRJVkVfVE9LRU5fQUREUkVTU1tuYW1lc3BhY2VdO1xufVxuLyoqXG4gKiBHZXQgdGhlIHByZWZlcnJlZCBhY2NvdW50IHR5cGUgZm9yIGEgZ2l2ZW4gbmFtZXNwYWNlXG4gKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSBvZiB0aGUgYWNjb3VudFxuICogQHJldHVybnMgVGhlIHByZWZlcnJlZCBhY2NvdW50IHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IHByZWZlcnJlZEFjY291bnRUeXBlID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LnByZWZlcnJlZEFjY291bnRUeXBlO1xuICAgIHJldHVybiBwcmVmZXJyZWRBY2NvdW50VHlwZTtcbn1cbi8qKlxuICogR2V0IHRoZSBhY3RpdmUgQ0FJUCBuZXR3b3JrIGZvciBhIGdpdmVuIGNoYWluIG5hbWVzcGFjZSwgaWYgbm8gbmFtZXNwYWNlIGlzIHByb3ZpZGVkLCBpdCByZXR1cm5zIHRoZSBhY3RpdmUgQ0FJUCBuZXR3b3JrXG4gKiBAcGFyYW0gY2hhaW5OYW1lc3BhY2UgLSBUaGUgY2hhaW4gbmFtZXNwYWNlIHRvIGdldCB0aGUgYWN0aXZlIENBSVAgbmV0d29yayBmb3JcbiAqIEByZXR1cm5zIFRoZSBhY3RpdmUgQ0FJUCBuZXR3b3JrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVDYWlwTmV0d29yayhjaGFpbk5hbWVzcGFjZSkge1xuICAgIGlmIChjaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmNoYWlucy5nZXQoY2hhaW5OYW1lc3BhY2UpPy5uZXR3b3JrU3RhdGU/LmNhaXBOZXR3b3JrO1xuICAgIH1cbiAgICByZXR1cm4gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhaW5Db250cm9sbGVyVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js":
/*!*******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js ***!
  \*******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionControllerUtil: () => (/* binding */ ConnectionControllerUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n\n\n\n// -- Utils ------------------------------------------ //\nconst ConnectionControllerUtil = {\n    getConnectionStatus(connection, namespace) {\n        const connectedConnectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.state.activeConnectorIds[namespace];\n        const connections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.getConnections(namespace);\n        const isConnectorConnected = Boolean(connectedConnectorId) && connection.connectorId === connectedConnectorId;\n        if (isConnectorConnected) {\n            return 'connected';\n        }\n        const isConnectionConnected = connections.some(c => c.connectorId.toLowerCase() === connection.connectorId.toLowerCase());\n        if (isConnectionConnected) {\n            return 'active';\n        }\n        return 'disconnected';\n    },\n    excludeConnectorAddressFromConnections({ connections, connectorId, addresses }) {\n        return connections.map(connection => {\n            const isConnectorMatch = connectorId\n                ? connection.connectorId.toLowerCase() === connectorId.toLowerCase()\n                : false;\n            if (isConnectorMatch && addresses) {\n                const filteredAccounts = connection.accounts.filter(account => {\n                    const isAddressIncluded = addresses.some(address => address.toLowerCase() === account.address.toLowerCase());\n                    return !isAddressIncluded;\n                });\n                return { ...connection, accounts: filteredAccounts };\n            }\n            return connection;\n        });\n    },\n    excludeExistingConnections(connectorIds, newConnections) {\n        const existingConnectorIds = new Set(connectorIds);\n        return newConnections.filter(c => !existingConnectorIds.has(c.connectorId));\n    },\n    getConnectionsByConnectorId(connections, connectorId) {\n        return connections.filter(c => c.connectorId.toLowerCase() === connectorId.toLowerCase());\n    },\n    getConnectionsData(namespace) {\n        const isMultiWalletEnabled = Boolean(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.multiWallet);\n        const activeConnectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.state.activeConnectorIds[namespace];\n        const connections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.getConnections(namespace);\n        const recentConnections = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.state.recentConnections.get(namespace) ?? [];\n        const recentConnectionsWithCurrentActiveConnectors = recentConnections.filter(connection => _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getConnectorById(connection.connectorId));\n        const dedupedRecentConnections = ConnectionControllerUtil.excludeExistingConnections([...connections.map(c => c.connectorId), ...(activeConnectorId ? [activeConnectorId] : [])], recentConnectionsWithCurrentActiveConnectors);\n        if (!isMultiWalletEnabled) {\n            return {\n                connections: connections.filter(c => c.connectorId.toLowerCase() === activeConnectorId?.toLowerCase()),\n                recentConnections: []\n            };\n        }\n        return {\n            connections,\n            recentConnections: dedupedRecentConnections\n        };\n    },\n    onConnectMobile(wallet) {\n        const wcUri = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.state.wcUri;\n        if (wallet?.mobile_link && wcUri) {\n            try {\n                _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.setWcError(false);\n                const { mobile_link, link_mode, name } = wallet;\n                const { redirect, redirectUniversalLink, href } = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.formatNativeUrl(mobile_link, wcUri, link_mode);\n                const deepLink = redirect;\n                const universalLink = redirectUniversalLink;\n                const target = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.isIframe() ? '_top' : '_self';\n                _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.setWcLinking({ name, href });\n                _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.setRecentWallet(wallet);\n                if (_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.experimental_preferUniversalLinks && universalLink) {\n                    _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.openHref(universalLink, target);\n                }\n                else {\n                    _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.openHref(deepLink, target);\n                }\n            }\n            catch (e) {\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'CONNECT_PROXY_ERROR',\n                    properties: {\n                        message: e instanceof Error ? e.message : 'Error parsing the deep link',\n                        uri: wcUri,\n                        mobile_link: wallet.mobile_link,\n                        name: wallet.name\n                    }\n                });\n                _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectionController.setWcError(true);\n            }\n        }\n    }\n};\n//# sourceMappingURL=ConnectionControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0aW9uQ29udHJvbGxlclV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNDO0FBQ3dDO0FBQ0Y7QUFDTjtBQUNFO0FBQ25CO0FBQ3JEO0FBQ087QUFDUDtBQUNBLHFDQUFxQyxvRkFBbUI7QUFDeEQsNEJBQTRCLHNGQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkNBQTZDLHFDQUFxQztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZDQUE2QyxnRkFBaUI7QUFDOUQsa0NBQWtDLG9GQUFtQjtBQUNyRCw0QkFBNEIsc0ZBQW9CO0FBQ2hELGtDQUFrQyxzRkFBb0I7QUFDdEQsb0dBQW9HLG9GQUFtQjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLHNGQUFvQjtBQUMxQztBQUNBO0FBQ0EsZ0JBQWdCLHNGQUFvQjtBQUNwQyx3QkFBd0IsK0JBQStCO0FBQ3ZELHdCQUF3Qix3Q0FBd0MsRUFBRSw4REFBYztBQUNoRjtBQUNBO0FBQ0EsK0JBQStCLDhEQUFjO0FBQzdDLGdCQUFnQixzRkFBb0IsZ0JBQWdCLFlBQVk7QUFDaEUsZ0JBQWdCLHNGQUFvQjtBQUNwQyxvQkFBb0IsZ0ZBQWlCO0FBQ3JDLG9CQUFvQiw4REFBYztBQUNsQztBQUNBO0FBQ0Esb0JBQW9CLDhEQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4RUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0Isc0ZBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0aW9uQ29udHJvbGxlclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgT3B0aW9uc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9PcHRpb25zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4vQ29yZUhlbHBlclV0aWwuanMnO1xuLy8gLS0gVXRpbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsID0ge1xuICAgIGdldENvbm5lY3Rpb25TdGF0dXMoY29ubmVjdGlvbiwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZENvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHNbbmFtZXNwYWNlXTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBDb25uZWN0aW9uQ29udHJvbGxlci5nZXRDb25uZWN0aW9ucyhuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RvckNvbm5lY3RlZCA9IEJvb2xlYW4oY29ubmVjdGVkQ29ubmVjdG9ySWQpICYmIGNvbm5lY3Rpb24uY29ubmVjdG9ySWQgPT09IGNvbm5lY3RlZENvbm5lY3RvcklkO1xuICAgICAgICBpZiAoaXNDb25uZWN0b3JDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnY29ubmVjdGVkJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0Nvbm5lY3Rpb25Db25uZWN0ZWQgPSBjb25uZWN0aW9ucy5zb21lKGMgPT4gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0aW9uLmNvbm5lY3RvcklkLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoaXNDb25uZWN0aW9uQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2FjdGl2ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdkaXNjb25uZWN0ZWQnO1xuICAgIH0sXG4gICAgZXhjbHVkZUNvbm5lY3RvckFkZHJlc3NGcm9tQ29ubmVjdGlvbnMoeyBjb25uZWN0aW9ucywgY29ubmVjdG9ySWQsIGFkZHJlc3NlcyB9KSB7XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9ucy5tYXAoY29ubmVjdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0Nvbm5lY3Rvck1hdGNoID0gY29ubmVjdG9ySWRcbiAgICAgICAgICAgICAgICA/IGNvbm5lY3Rpb24uY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNDb25uZWN0b3JNYXRjaCAmJiBhZGRyZXNzZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEFjY291bnRzID0gY29ubmVjdGlvbi5hY2NvdW50cy5maWx0ZXIoYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWRkcmVzc0luY2x1ZGVkID0gYWRkcmVzc2VzLnNvbWUoYWRkcmVzcyA9PiBhZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGFjY291bnQuYWRkcmVzcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0FkZHJlc3NJbmNsdWRlZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5jb25uZWN0aW9uLCBhY2NvdW50czogZmlsdGVyZWRBY2NvdW50cyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZXhjbHVkZUV4aXN0aW5nQ29ubmVjdGlvbnMoY29ubmVjdG9ySWRzLCBuZXdDb25uZWN0aW9ucykge1xuICAgICAgICBjb25zdCBleGlzdGluZ0Nvbm5lY3RvcklkcyA9IG5ldyBTZXQoY29ubmVjdG9ySWRzKTtcbiAgICAgICAgcmV0dXJuIG5ld0Nvbm5lY3Rpb25zLmZpbHRlcihjID0+ICFleGlzdGluZ0Nvbm5lY3Rvcklkcy5oYXMoYy5jb25uZWN0b3JJZCkpO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGlvbnNCeUNvbm5lY3RvcklkKGNvbm5lY3Rpb25zLCBjb25uZWN0b3JJZCkge1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvbnMuZmlsdGVyKGMgPT4gYy5jb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9LFxuICAgIGdldENvbm5lY3Rpb25zRGF0YShuYW1lc3BhY2UpIHtcbiAgICAgICAgY29uc3QgaXNNdWx0aVdhbGxldEVuYWJsZWQgPSBCb29sZWFuKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5tdWx0aVdhbGxldCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDb25uZWN0b3JJZHNbbmFtZXNwYWNlXTtcbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBDb25uZWN0aW9uQ29udHJvbGxlci5nZXRDb25uZWN0aW9ucyhuYW1lc3BhY2UpO1xuICAgICAgICBjb25zdCByZWNlbnRDb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyLnN0YXRlLnJlY2VudENvbm5lY3Rpb25zLmdldChuYW1lc3BhY2UpID8/IFtdO1xuICAgICAgICBjb25zdCByZWNlbnRDb25uZWN0aW9uc1dpdGhDdXJyZW50QWN0aXZlQ29ubmVjdG9ycyA9IHJlY2VudENvbm5lY3Rpb25zLmZpbHRlcihjb25uZWN0aW9uID0+IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9yQnlJZChjb25uZWN0aW9uLmNvbm5lY3RvcklkKSk7XG4gICAgICAgIGNvbnN0IGRlZHVwZWRSZWNlbnRDb25uZWN0aW9ucyA9IENvbm5lY3Rpb25Db250cm9sbGVyVXRpbC5leGNsdWRlRXhpc3RpbmdDb25uZWN0aW9ucyhbLi4uY29ubmVjdGlvbnMubWFwKGMgPT4gYy5jb25uZWN0b3JJZCksIC4uLihhY3RpdmVDb25uZWN0b3JJZCA/IFthY3RpdmVDb25uZWN0b3JJZF0gOiBbXSldLCByZWNlbnRDb25uZWN0aW9uc1dpdGhDdXJyZW50QWN0aXZlQ29ubmVjdG9ycyk7XG4gICAgICAgIGlmICghaXNNdWx0aVdhbGxldEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbnM6IGNvbm5lY3Rpb25zLmZpbHRlcihjID0+IGMuY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSA9PT0gYWN0aXZlQ29ubmVjdG9ySWQ/LnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgICAgICAgIHJlY2VudENvbm5lY3Rpb25zOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29ubmVjdGlvbnMsXG4gICAgICAgICAgICByZWNlbnRDb25uZWN0aW9uczogZGVkdXBlZFJlY2VudENvbm5lY3Rpb25zXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBvbkNvbm5lY3RNb2JpbGUod2FsbGV0KSB7XG4gICAgICAgIGNvbnN0IHdjVXJpID0gQ29ubmVjdGlvbkNvbnRyb2xsZXIuc3RhdGUud2NVcmk7XG4gICAgICAgIGlmICh3YWxsZXQ/Lm1vYmlsZV9saW5rICYmIHdjVXJpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnNldFdjRXJyb3IoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9iaWxlX2xpbmssIGxpbmtfbW9kZSwgbmFtZSB9ID0gd2FsbGV0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVkaXJlY3QsIHJlZGlyZWN0VW5pdmVyc2FsTGluaywgaHJlZiB9ID0gQ29yZUhlbHBlclV0aWwuZm9ybWF0TmF0aXZlVXJsKG1vYmlsZV9saW5rLCB3Y1VyaSwgbGlua19tb2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWVwTGluayA9IHJlZGlyZWN0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXZlcnNhbExpbmsgPSByZWRpcmVjdFVuaXZlcnNhbExpbms7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gQ29yZUhlbHBlclV0aWwuaXNJZnJhbWUoKSA/ICdfdG9wJyA6ICdfc2VsZic7XG4gICAgICAgICAgICAgICAgQ29ubmVjdGlvbkNvbnRyb2xsZXIuc2V0V2NMaW5raW5nKHsgbmFtZSwgaHJlZiB9KTtcbiAgICAgICAgICAgICAgICBDb25uZWN0aW9uQ29udHJvbGxlci5zZXRSZWNlbnRXYWxsZXQod2FsbGV0KTtcbiAgICAgICAgICAgICAgICBpZiAoT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZXhwZXJpbWVudGFsX3ByZWZlclVuaXZlcnNhbExpbmtzICYmIHVuaXZlcnNhbExpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgQ29yZUhlbHBlclV0aWwub3BlbkhyZWYodW5pdmVyc2FsTGluaywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIENvcmVIZWxwZXJVdGlsLm9wZW5IcmVmKGRlZXBMaW5rLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ0NPTk5FQ1RfUFJPWFlfRVJST1InLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiAnRXJyb3IgcGFyc2luZyB0aGUgZGVlcCBsaW5rJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogd2NVcmksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGVfbGluazogd2FsbGV0Lm1vYmlsZV9saW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogd2FsbGV0Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLnNldFdjRXJyb3IodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGlvbkNvbnRyb2xsZXJVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectionControllerUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorControllerUtil: () => (/* binding */ ConnectorControllerUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* eslint-disable max-depth */\n\n\n\n\n\n\n\n\n\n\n\n\n\n// -- Constants ------------------------------------------ //\nconst UPDATE_EMAIL_INTERVAL_MS = 1_000;\nconst ConnectorControllerUtil = {\n    checkNamespaceConnectorId(namespace, connectorId) {\n        return _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getConnectorId(namespace) === connectorId;\n    },\n    isSocialProvider(socialProvider) {\n        return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(socialProvider);\n    },\n    connectWalletConnect({ walletConnect, connector, closeModalOnConnect = true, redirectViewOnModalClose = 'Connect', onOpen, onConnect }) {\n        return new Promise((resolve, reject) => {\n            if (walletConnect) {\n                _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.setActiveConnector(connector);\n            }\n            onOpen?.(_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.isMobile() && walletConnect);\n            if (redirectViewOnModalClose) {\n                const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== redirectViewOnModalClose) {\n                            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.replace(redirectViewOnModalClose);\n                        }\n                        unsubscribeModalController();\n                        reject(new Error('Modal closed'));\n                    }\n                });\n            }\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    onConnect?.();\n                    if (closeModalOnConnect) {\n                        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    }\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n        });\n    },\n    connectExternal(connector) {\n        return new Promise((resolve, reject) => {\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n            _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.connectExternal(connector, connector.chain).catch(() => {\n                unsubscribeChainController();\n                reject(new Error('Connection rejected'));\n            });\n        });\n    },\n    connectSocial({ social: socialProvider, namespace, closeModalOnConnect = true, onOpenFarcaster, onConnect }) {\n        let socialWindow = undefined;\n        let isConnectingSocial = false;\n        let popupWindow = null;\n        const namespaceToUse = namespace || _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain;\n        const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n            if (val) {\n                if (closeModalOnConnect) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                }\n                unsubscribeChainController();\n            }\n        });\n        return new Promise((resolve, reject) => {\n            async function handleSocialConnection(event) {\n                if (event.data?.resultUri) {\n                    if (event.origin === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SECURE_SITE_SDK_ORIGIN) {\n                        window.removeEventListener('message', handleSocialConnection, false);\n                        try {\n                            const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector(namespaceToUse);\n                            if (authConnector && !isConnectingSocial) {\n                                if (socialWindow) {\n                                    socialWindow.close();\n                                }\n                                isConnectingSocial = true;\n                                const uri = event.data.resultUri;\n                                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                    type: 'track',\n                                    event: 'SOCIAL_LOGIN_REQUEST_USER_DATA',\n                                    properties: { provider: socialProvider }\n                                });\n                                _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__.StorageUtil.setConnectedSocialProvider(socialProvider);\n                                await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_7__.ConnectionController.connectExternal({\n                                    id: authConnector.id,\n                                    type: authConnector.type,\n                                    socialUri: uri\n                                }, authConnector.chain);\n                                const caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeCaipAddress;\n                                if (!caipAddress) {\n                                    reject(new Error('Failed to connect'));\n                                    return;\n                                }\n                                resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(caipAddress));\n                                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                    type: 'track',\n                                    event: 'SOCIAL_LOGIN_SUCCESS',\n                                    properties: { provider: socialProvider }\n                                });\n                            }\n                        }\n                        catch (err) {\n                            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                                type: 'track',\n                                event: 'SOCIAL_LOGIN_ERROR',\n                                properties: { provider: socialProvider, message: _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.parseError(err) }\n                            });\n                            reject(new Error('Failed to connect'));\n                        }\n                    }\n                    else {\n                        _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                            type: 'track',\n                            event: 'SOCIAL_LOGIN_ERROR',\n                            properties: { provider: socialProvider, message: 'Untrusted Origin' }\n                        });\n                    }\n                }\n            }\n            async function connectSocial() {\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_9__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SOCIAL_LOGIN_STARTED',\n                    properties: { provider: socialProvider }\n                });\n                if (socialProvider === 'farcaster') {\n                    onOpenFarcaster?.();\n                    const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                        if (!val && socialProvider === 'farcaster') {\n                            reject(new Error('Popup closed'));\n                            onConnect?.();\n                            unsubscribeModalController();\n                        }\n                    });\n                    const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n                    if (authConnector) {\n                        const _accountData = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.getAccountData(namespaceToUse);\n                        if (!_accountData?.farcasterUrl) {\n                            try {\n                                const { url } = await authConnector.provider.getFarcasterUri();\n                                _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.setAccountProp('farcasterUrl', url, namespaceToUse);\n                            }\n                            catch {\n                                reject(new Error('Failed to connect to farcaster'));\n                            }\n                        }\n                    }\n                }\n                else {\n                    const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n                    popupWindow = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_2__.CoreHelperUtil.returnOpenHref(`${_reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`, 'popupWindow', 'width=600,height=800,scrollbars=yes');\n                    try {\n                        if (authConnector) {\n                            const { uri } = await authConnector.provider.getSocialRedirectUri({\n                                provider: socialProvider\n                            });\n                            if (popupWindow && uri) {\n                                popupWindow.location.href = uri;\n                                socialWindow = popupWindow;\n                                const interval = setInterval(() => {\n                                    if (socialWindow?.closed && !isConnectingSocial) {\n                                        reject(new Error('Popup closed'));\n                                        clearInterval(interval);\n                                    }\n                                }, 1000);\n                                window.addEventListener('message', handleSocialConnection, false);\n                            }\n                            else {\n                                popupWindow?.close();\n                                reject(new Error('Failed to initiate social connection'));\n                            }\n                        }\n                    }\n                    catch {\n                        reject(new Error('Failed to initiate social connection'));\n                        popupWindow?.close();\n                    }\n                }\n            }\n            connectSocial();\n        });\n    },\n    connectEmail({ closeModalOnConnect = true, redirectViewOnModalClose = 'Connect', onOpen, onConnect }) {\n        return new Promise((resolve, reject) => {\n            onOpen?.();\n            if (redirectViewOnModalClose) {\n                const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                    if (!val) {\n                        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== redirectViewOnModalClose) {\n                            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.replace(redirectViewOnModalClose);\n                        }\n                        unsubscribeModalController();\n                        reject(new Error('Modal closed'));\n                    }\n                });\n            }\n            const unsubscribeChainController = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.subscribeKey('activeCaipAddress', val => {\n                if (val) {\n                    onConnect?.();\n                    if (closeModalOnConnect) {\n                        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    }\n                    unsubscribeChainController();\n                    resolve(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_6__.ParseUtil.parseCaipAddress(val));\n                }\n            });\n        });\n    },\n    async updateEmail() {\n        const connectorId = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_10__.StorageUtil.getConnectedConnectorId(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.state.activeChain);\n        const authConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_0__.ConnectorController.getAuthConnector();\n        if (!authConnector) {\n            throw new Error('No auth connector found');\n        }\n        if (connectorId !== _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n            throw new Error('Not connected to email or social');\n        }\n        const initialEmail = authConnector.provider.getEmail() ?? '';\n        await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n            view: 'UpdateEmailWallet',\n            data: {\n                email: initialEmail,\n                redirectView: undefined\n            }\n        });\n        return new Promise((resolve, reject) => {\n            const interval = setInterval(() => {\n                const newEmail = authConnector.provider.getEmail() ?? '';\n                if (newEmail !== initialEmail) {\n                    _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n                    clearInterval(interval);\n                    unsubscribeModalController();\n                    resolve({ email: newEmail });\n                }\n            }, UPDATE_EMAIL_INTERVAL_MS);\n            const unsubscribeModalController = _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.subscribeKey('open', val => {\n                if (!val) {\n                    if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.state.view !== 'Connect') {\n                        _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_4__.RouterController.push('Connect');\n                    }\n                    clearInterval(interval);\n                    unsubscribeModalController();\n                    reject(new Error('Modal closed'));\n                }\n            });\n        });\n    },\n    canSwitchToSmartAccount(namespace) {\n        const isSmartAccountEnabled = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_5__.ChainController.checkIfSmartAccountEnabled();\n        return (isSmartAccountEnabled &&\n            (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_11__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_12__.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA);\n    }\n};\n//# sourceMappingURL=ConnectorControllerUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0b3JDb250cm9sbGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2lEO0FBQzJCO0FBQ1Y7QUFDRTtBQUNVO0FBQ0Y7QUFDTjtBQUNGO0FBQ0U7QUFDSDtBQUNoQjtBQUNFO0FBQ047QUFDL0M7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLG9GQUFtQjtBQUNsQyxLQUFLO0FBQ0w7QUFDQSxlQUFlLDREQUFhO0FBQzVCLEtBQUs7QUFDTCwyQkFBMkIsK0dBQStHO0FBQzFJO0FBQ0E7QUFDQSxnQkFBZ0Isb0ZBQW1CO0FBQ25DO0FBQ0EscUJBQXFCLDhEQUFjO0FBQ25DO0FBQ0EsbURBQW1ELDRFQUFlO0FBQ2xFO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1Qyw0QkFBNEIsOEVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBZTtBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLDJEQUFTO0FBQ3JDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtDQUErQyw0RUFBZTtBQUM5RDtBQUNBLG9CQUFvQiw0RUFBZTtBQUNuQztBQUNBLDRCQUE0QiwyREFBUztBQUNyQztBQUNBLGFBQWE7QUFDYixZQUFZLHNGQUFvQjtBQUNoQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsb0JBQW9CLDJGQUEyRjtBQUMvRztBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsNEVBQWU7QUFDM0QsMkNBQTJDLDRFQUFlO0FBQzFEO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrREFBbUI7QUFDNUQ7QUFDQTtBQUNBLGtEQUFrRCxvRkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhFQUFnQjtBQUNoRDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELGlDQUFpQztBQUNqQyxnQ0FBZ0MseURBQVc7QUFDM0Msc0NBQXNDLHNGQUFvQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsb0RBQW9ELDRFQUFlO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDJEQUFTO0FBQ2pELGdDQUFnQyw4RUFBZ0I7QUFDaEQ7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1QztBQUNBO0FBQ0EsOENBQThDLG1DQUFtQyw4REFBYztBQUMvRiw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhFQUFnQjtBQUNoQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsdURBQXVELDRFQUFlO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsMENBQTBDLG9GQUFtQjtBQUM3RDtBQUNBLDZDQUE2Qyw0RUFBZTtBQUM1RDtBQUNBO0FBQ0Esd0NBQXdDLE1BQU07QUFDOUMsZ0NBQWdDLDRFQUFlO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsb0ZBQW1CO0FBQzdELGtDQUFrQyw4REFBYyxtQkFBbUIsK0RBQW1CLHdCQUF3QjtBQUM5RztBQUNBO0FBQ0Esb0NBQW9DLE1BQU07QUFDMUM7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLG1CQUFtQixxRkFBcUY7QUFDeEc7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDRFQUFlO0FBQ2xFO0FBQ0EsNEJBQTRCLDhFQUFnQjtBQUM1Qyw0QkFBNEIsOEVBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0RUFBZTtBQUN2QztBQUNBO0FBQ0EsNEJBQTRCLDJEQUFTO0FBQ3JDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIseURBQVcseUJBQXlCLDRFQUFlO0FBQy9FLDhCQUE4QixvRkFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxjQUFjLDRFQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNEVBQWU7QUFDbkM7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0M7QUFDQSxhQUFhO0FBQ2IsK0NBQStDLDRFQUFlO0FBQzlEO0FBQ0Esd0JBQXdCLDhFQUFnQjtBQUN4Qyx3QkFBd0IsOEVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHNDQUFzQyw0RUFBZTtBQUNyRDtBQUNBLFlBQVksaUZBQXVCLGdCQUFnQiw2RUFBb0I7QUFDdkU7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvQ29ubmVjdG9yQ29udHJvbGxlclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbWF4LWRlcHRoICovXG5pbXBvcnQgeyBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBXM21GcmFtZVJwY0NvbnN0YW50cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtd2FsbGV0L3V0aWxzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IEV2ZW50c0NvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9FdmVudHNDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE1vZGFsQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL01vZGFsQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBSb3V0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUm91dGVyQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4vU3RvcmFnZVV0aWwuanMnO1xuLy8gLS0gQ29uc3RhbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuY29uc3QgVVBEQVRFX0VNQUlMX0lOVEVSVkFMX01TID0gMV8wMDA7XG5leHBvcnQgY29uc3QgQ29ubmVjdG9yQ29udHJvbGxlclV0aWwgPSB7XG4gICAgY2hlY2tOYW1lc3BhY2VDb25uZWN0b3JJZChuYW1lc3BhY2UsIGNvbm5lY3RvcklkKSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKG5hbWVzcGFjZSkgPT09IGNvbm5lY3RvcklkO1xuICAgIH0sXG4gICAgaXNTb2NpYWxQcm92aWRlcihzb2NpYWxQcm92aWRlcikge1xuICAgICAgICByZXR1cm4gQ29uc3RhbnRzVXRpbC5ERUZBVUxUX1JFTU9URV9GRUFUVVJFUy5zb2NpYWxzLmluY2x1ZGVzKHNvY2lhbFByb3ZpZGVyKTtcbiAgICB9LFxuICAgIGNvbm5lY3RXYWxsZXRDb25uZWN0KHsgd2FsbGV0Q29ubmVjdCwgY29ubmVjdG9yLCBjbG9zZU1vZGFsT25Db25uZWN0ID0gdHJ1ZSwgcmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlID0gJ0Nvbm5lY3QnLCBvbk9wZW4sIG9uQ29ubmVjdCB9KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAod2FsbGV0Q29ubmVjdCkge1xuICAgICAgICAgICAgICAgIENvbm5lY3RvckNvbnRyb2xsZXIuc2V0QWN0aXZlQ29ubmVjdG9yKGNvbm5lY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbk9wZW4/LihDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpICYmIHdhbGxldENvbm5lY3QpO1xuICAgICAgICAgICAgaWYgKHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyID0gTW9kYWxDb250cm9sbGVyLnN1YnNjcmliZUtleSgnb3BlbicsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ICE9PSByZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnJlcGxhY2UocmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdNb2RhbCBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyID0gQ2hhaW5Db250cm9sbGVyLnN1YnNjcmliZUtleSgnYWN0aXZlQ2FpcEFkZHJlc3MnLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0Py4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlTW9kYWxPbkNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3ModmFsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY29ubmVjdEV4dGVybmFsKGNvbm5lY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIgPSBDaGFpbkNvbnRyb2xsZXIuc3Vic2NyaWJlS2V5KCdhY3RpdmVDYWlwQWRkcmVzcycsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyh2YWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLmNvbm5lY3RFeHRlcm5hbChjb25uZWN0b3IsIGNvbm5lY3Rvci5jaGFpbikuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlQ2hhaW5Db250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ29ubmVjdGlvbiByZWplY3RlZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNvbm5lY3RTb2NpYWwoeyBzb2NpYWw6IHNvY2lhbFByb3ZpZGVyLCBuYW1lc3BhY2UsIGNsb3NlTW9kYWxPbkNvbm5lY3QgPSB0cnVlLCBvbk9wZW5GYXJjYXN0ZXIsIG9uQ29ubmVjdCB9KSB7XG4gICAgICAgIGxldCBzb2NpYWxXaW5kb3cgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBpc0Nvbm5lY3RpbmdTb2NpYWwgPSBmYWxzZTtcbiAgICAgICAgbGV0IHBvcHVwV2luZG93ID0gbnVsbDtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlVG9Vc2UgPSBuYW1lc3BhY2UgfHwgQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlciA9IENoYWluQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2FjdGl2ZUNhaXBBZGRyZXNzJywgdmFsID0+IHtcbiAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VNb2RhbE9uQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVDaGFpbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVTb2NpYWxDb25uZWN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGE/LnJlc3VsdFVyaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQub3JpZ2luID09PSBDb21tb25Db25zdGFudHNVdGlsLlNFQ1VSRV9TSVRFX1NES19PUklHSU4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlU29jaWFsQ29ubmVjdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKG5hbWVzcGFjZVRvVXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aENvbm5lY3RvciAmJiAhaXNDb25uZWN0aW5nU29jaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb2NpYWxXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2lhbFdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29ubmVjdGluZ1NvY2lhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVyaSA9IGV2ZW50LmRhdGEucmVzdWx0VXJpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHNDb250cm9sbGVyLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTT0NJQUxfTE9HSU5fUkVRVUVTVF9VU0VSX0RBVEEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBwcm92aWRlcjogc29jaWFsUHJvdmlkZXIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkU29jaWFsUHJvdmlkZXIoc29jaWFsUHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5jb25uZWN0RXh0ZXJuYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGF1dGhDb25uZWN0b3IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBhdXRoQ29ubmVjdG9yLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NpYWxVcmk6IHVyaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBhdXRoQ29ubmVjdG9yLmNoYWluKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2FpcEFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3MoY2FpcEFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnU09DSUFMX0xPR0lOX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBwcm92aWRlcjogc29jaWFsUHJvdmlkZXIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NPQ0lBTF9MT0dJTl9FUlJPUicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyLCBtZXNzYWdlOiBDb3JlSGVscGVyVXRpbC5wYXJzZUVycm9yKGVycikgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTT0NJQUxfTE9HSU5fRVJST1InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyLCBtZXNzYWdlOiAnVW50cnVzdGVkIE9yaWdpbicgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBjb25uZWN0U29jaWFsKCkge1xuICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTT0NJQUxfTE9HSU5fU1RBUlRFRCcsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc29jaWFsUHJvdmlkZXIgPT09ICdmYXJjYXN0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uT3BlbkZhcmNhc3Rlcj8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyID0gTW9kYWxDb250cm9sbGVyLnN1YnNjcmliZUtleSgnb3BlbicsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiBzb2NpYWxQcm92aWRlciA9PT0gJ2ZhcmNhc3RlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdQb3B1cCBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0Py4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aENvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0QXV0aENvbm5lY3RvcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2FjY291bnREYXRhID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZVRvVXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2FjY291bnREYXRhPy5mYXJjYXN0ZXJVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHVybCB9ID0gYXdhaXQgYXV0aENvbm5lY3Rvci5wcm92aWRlci5nZXRGYXJjYXN0ZXJVcmkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdmYXJjYXN0ZXJVcmwnLCB1cmwsIG5hbWVzcGFjZVRvVXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCB0byBmYXJjYXN0ZXInKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoQ29ubmVjdG9yID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRBdXRoQ29ubmVjdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIHBvcHVwV2luZG93ID0gQ29yZUhlbHBlclV0aWwucmV0dXJuT3BlbkhyZWYoYCR7Q29tbW9uQ29uc3RhbnRzVXRpbC5TRUNVUkVfU0lURV9TREtfT1JJR0lOfS9sb2FkaW5nYCwgJ3BvcHVwV2luZG93JywgJ3dpZHRoPTYwMCxoZWlnaHQ9ODAwLHNjcm9sbGJhcnM9eWVzJyk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aENvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdXJpIH0gPSBhd2FpdCBhdXRoQ29ubmVjdG9yLnByb3ZpZGVyLmdldFNvY2lhbFJlZGlyZWN0VXJpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHNvY2lhbFByb3ZpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcHVwV2luZG93ICYmIHVyaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NpYWxXaW5kb3cgPSBwb3B1cFdpbmRvdztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29jaWFsV2luZG93Py5jbG9zZWQgJiYgIWlzQ29ubmVjdGluZ1NvY2lhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1BvcHVwIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlU29jaWFsQ29ubmVjdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBXaW5kb3c/LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWF0ZSBzb2NpYWwgY29ubmVjdGlvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGluaXRpYXRlIHNvY2lhbCBjb25uZWN0aW9uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBXaW5kb3c/LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0U29jaWFsKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgY29ubmVjdEVtYWlsKHsgY2xvc2VNb2RhbE9uQ29ubmVjdCA9IHRydWUsIHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSA9ICdDb25uZWN0Jywgb25PcGVuLCBvbkNvbm5lY3QgfSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgb25PcGVuPy4oKTtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdFZpZXdPbk1vZGFsQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlciA9IE1vZGFsQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ29wZW4nLCB2YWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyAhPT0gcmVkaXJlY3RWaWV3T25Nb2RhbENsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXBsYWNlKHJlZGlyZWN0Vmlld09uTW9kYWxDbG9zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZU1vZGFsQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTW9kYWwgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlciA9IENoYWluQ29udHJvbGxlci5zdWJzY3JpYmVLZXkoJ2FjdGl2ZUNhaXBBZGRyZXNzJywgdmFsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ29ubmVjdD8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZU1vZGFsT25Db25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1bnN1YnNjcmliZUNoYWluQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKHZhbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIHVwZGF0ZUVtYWlsKCkge1xuICAgICAgICBjb25zdCBjb25uZWN0b3JJZCA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3RlZENvbm5lY3RvcklkKENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDaGFpbik7XG4gICAgICAgIGNvbnN0IGF1dGhDb25uZWN0b3IgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldEF1dGhDb25uZWN0b3IoKTtcbiAgICAgICAgaWYgKCFhdXRoQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGF1dGggY29ubmVjdG9yIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3RvcklkICE9PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBjb25uZWN0ZWQgdG8gZW1haWwgb3Igc29jaWFsJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5pdGlhbEVtYWlsID0gYXV0aENvbm5lY3Rvci5wcm92aWRlci5nZXRFbWFpbCgpID8/ICcnO1xuICAgICAgICBhd2FpdCBNb2RhbENvbnRyb2xsZXIub3Blbih7XG4gICAgICAgICAgICB2aWV3OiAnVXBkYXRlRW1haWxXYWxsZXQnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVtYWlsOiBpbml0aWFsRW1haWwsXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RWaWV3OiB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdFbWFpbCA9IGF1dGhDb25uZWN0b3IucHJvdmlkZXIuZ2V0RW1haWwoKSA/PyAnJztcbiAgICAgICAgICAgICAgICBpZiAobmV3RW1haWwgIT09IGluaXRpYWxFbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBlbWFpbDogbmV3RW1haWwgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgVVBEQVRFX0VNQUlMX0lOVEVSVkFMX01TKTtcbiAgICAgICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlTW9kYWxDb250cm9sbGVyID0gTW9kYWxDb250cm9sbGVyLnN1YnNjcmliZUtleSgnb3BlbicsIHZhbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyAhPT0gJ0Nvbm5lY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2goJ0Nvbm5lY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVNb2RhbENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTW9kYWwgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGNhblN3aXRjaFRvU21hcnRBY2NvdW50KG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBpc1NtYXJ0QWNjb3VudEVuYWJsZWQgPSBDaGFpbkNvbnRyb2xsZXIuY2hlY2tJZlNtYXJ0QWNjb3VudEVuYWJsZWQoKTtcbiAgICAgICAgcmV0dXJuIChpc1NtYXJ0QWNjb3VudEVuYWJsZWQgJiZcbiAgICAgICAgICAgIGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSkgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuRU9BKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdG9yQ29udHJvbGxlclV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorControllerUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorUtil.js":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorUtil.js ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectorUtil: () => (/* binding */ ConnectorUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/HelpersUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _OptionsUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./OptionsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n/* harmony import */ var _WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WalletUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletUtil.js\");\n\n\n\n\n\n\n\n\n\n\nconst ConnectorUtil = {\n    getConnectorsByType(connectors, recommended, featured) {\n        const { customWallets } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state;\n        const recent = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__.StorageUtil.getRecentWallets();\n        const filteredRecommended = _WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__.WalletUtil.filterOutDuplicateWallets(recommended);\n        const filteredFeatured = _WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__.WalletUtil.filterOutDuplicateWallets(featured);\n        const multiChain = connectors.filter(connector => connector.type === 'MULTI_CHAIN');\n        const announced = connectors.filter(connector => connector.type === 'ANNOUNCED');\n        const injected = connectors.filter(connector => connector.type === 'INJECTED');\n        const external = connectors.filter(connector => connector.type === 'EXTERNAL');\n        return {\n            custom: customWallets,\n            recent,\n            external,\n            multiChain,\n            announced,\n            injected,\n            recommended: filteredRecommended,\n            featured: filteredFeatured\n        };\n    },\n    showConnector(connector) {\n        const rdns = connector.info?.rdns;\n        const isRDNSExcluded = Boolean(rdns) &&\n            _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_3__.ApiController.state.excludedWallets.some(wallet => Boolean(wallet.rdns) && wallet.rdns === rdns);\n        const isNameExcluded = Boolean(connector.name) &&\n            _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_3__.ApiController.state.excludedWallets.some(wallet => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_4__.HelpersUtil.isLowerCaseMatch(wallet.name, connector.name));\n        if (connector.type === 'INJECTED') {\n            const isBrowserWallet = connector.name === 'Browser Wallet';\n            if (isBrowserWallet) {\n                if (!_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n                    return false;\n                }\n                if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile() && !rdns && !_controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_6__.ConnectionController.checkInstalled()) {\n                    return false;\n                }\n            }\n            if (isRDNSExcluded || isNameExcluded) {\n                return false;\n            }\n        }\n        if ((connector.type === 'ANNOUNCED' || connector.type === 'EXTERNAL') &&\n            (isRDNSExcluded || isNameExcluded)) {\n            return false;\n        }\n        return true;\n    },\n    /**\n     * Returns true if the user is connected to a WalletConnect connector in the any of the available namespaces.\n     * @returns boolean\n     */\n    getIsConnectedWithWC() {\n        const chains = Array.from(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.ChainController.state.chains.values());\n        const isConnectedWithWC = chains.some(chain => {\n            const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.getConnectorId(chain.namespace);\n            return connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;\n        });\n        return isConnectedWithWC;\n    },\n    /**\n     * Returns the connector positions in the order of the user's preference.\n     * @returns ConnectorTypeOrder[]\n     */\n    getConnectorTypeOrder({ recommended, featured, custom, recent, announced, injected, multiChain, external, overriddenConnectors = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state.features?.connectorTypeOrder ?? [] }) {\n        const allConnectors = [\n            { type: 'walletConnect', isEnabled: true },\n            { type: 'recent', isEnabled: recent.length > 0 },\n            { type: 'injected', isEnabled: [...injected, ...announced, ...multiChain].length > 0 },\n            { type: 'featured', isEnabled: featured.length > 0 },\n            { type: 'custom', isEnabled: custom && custom.length > 0 },\n            { type: 'external', isEnabled: external.length > 0 },\n            { type: 'recommended', isEnabled: recommended.length > 0 }\n        ];\n        const enabledConnectors = allConnectors.filter(option => option.isEnabled);\n        const enabledConnectorTypes = new Set(enabledConnectors.map(option => option.type));\n        const prioritizedConnectors = overriddenConnectors\n            .filter(type => enabledConnectorTypes.has(type))\n            .map(type => ({ type, isEnabled: true }));\n        const remainingConnectors = enabledConnectors.filter(({ type: enabledConnectorType }) => {\n            const hasPrioritizedConnector = prioritizedConnectors.some(({ type: prioritizedConnectorType }) => prioritizedConnectorType === enabledConnectorType);\n            return !hasPrioritizedConnector;\n        });\n        return Array.from(new Set([...prioritizedConnectors, ...remainingConnectors].map(({ type }) => type)));\n    },\n    sortConnectorsByExplorerWallet(connectors) {\n        return [...connectors].sort((a, b) => {\n            if (a.explorerWallet && b.explorerWallet) {\n                return (a.explorerWallet.order ?? 0) - (b.explorerWallet.order ?? 0);\n            }\n            if (a.explorerWallet) {\n                return -1;\n            }\n            if (b.explorerWallet) {\n                return 1;\n            }\n            return 0;\n        });\n    },\n    /**\n     * Returns the priority of a connector. Base Account has highest priority, followed by Coinbase then the rest.\n     *\n     * This is needed because Base Account and Coinbase share the same explorer wallet ID.\n     * Without prioritization, selecting Base Account could incorrectly trigger the Coinbase Wallet extension.\n     *\n     * @param connector - The connector to get the priority of.\n     * @returns The priority of the connector.\n     */\n    getPriority(connector) {\n        if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT) {\n            return 0;\n        }\n        if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.COINBASE ||\n            connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK) {\n            return 1;\n        }\n        return 2;\n    },\n    /**\n     * Sorts connectors by priority.\n     * @param connectors - The connectors to sort.\n     * @returns Sorted connectors.\n     */\n    sortConnectorsByPriority(connectors) {\n        return [...connectors].sort((a, b) => ConnectorUtil.getPriority(a) - ConnectorUtil.getPriority(b));\n    },\n    getAuthName({ email, socialUsername, socialProvider }) {\n        if (socialUsername) {\n            if (socialProvider && socialProvider === 'discord' && socialUsername.endsWith('0')) {\n                return socialUsername.slice(0, -1);\n            }\n            return socialUsername;\n        }\n        return email.length > 30 ? `${email.slice(0, -3)}...` : email;\n    },\n    async fetchProviderData(connector) {\n        try {\n            if (connector.name === 'Browser Wallet' && !_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n                return { accounts: [], chainId: undefined };\n            }\n            if (connector.id === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n                return { accounts: [], chainId: undefined };\n            }\n            const [accounts, chainId] = await Promise.all([\n                connector.provider?.request({ method: 'eth_accounts' }),\n                connector.provider\n                    ?.request({ method: 'eth_chainId' })\n                    .then(hexChainId => Number(hexChainId))\n            ]);\n            return { accounts, chainId };\n        }\n        catch (err) {\n            // eslint-disable-next-line no-console\n            console.warn(`Failed to fetch provider data for ${connector.name}`, err);\n            return { accounts: [], chainId: undefined };\n        }\n    },\n    /**\n     * Filter out duplicate custom wallets by RDNS\n     * @param wallets\n     */\n    getFilteredCustomWallets(wallets) {\n        const recent = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__.StorageUtil.getRecentWallets();\n        const connectorRDNSs = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors\n            .map(connector => connector.info?.rdns)\n            .filter(Boolean);\n        const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);\n        const allRDNSs = connectorRDNSs.concat(recentRDNSs);\n        if (allRDNSs.includes('io.metamask.mobile') && _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile()) {\n            const index = allRDNSs.indexOf('io.metamask.mobile');\n            allRDNSs[index] = 'io.metamask';\n        }\n        const filtered = wallets.filter(wallet => !allRDNSs.includes(String(wallet?.rdns)));\n        return filtered;\n    },\n    hasWalletConnector(wallet) {\n        return _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors.some(connector => connector.id === wallet.id || connector.name === wallet.name);\n    },\n    isWalletCompatibleWithCurrentChain(wallet) {\n        const currentNamespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_7__.ChainController.state.activeChain;\n        if (currentNamespace && wallet.chains) {\n            return wallet.chains.some(c => {\n                const chainNamespace = c.split(':')[0];\n                return currentNamespace === chainNamespace;\n            });\n        }\n        return true;\n    },\n    getFilteredRecentWallets() {\n        const recentWallets = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__.StorageUtil.getRecentWallets();\n        const filteredRecentWallets = recentWallets\n            .filter(wallet => !_WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__.WalletUtil.isExcluded(wallet))\n            .filter(wallet => !this.hasWalletConnector(wallet))\n            .filter(wallet => this.isWalletCompatibleWithCurrentChain(wallet));\n        return filteredRecentWallets;\n    },\n    getCappedRecommendedWallets(wallets) {\n        const { connectors } = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state;\n        const { customWallets, featuredWalletIds } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state;\n        const wcConnector = connectors.find(c => c.id === 'walletConnect');\n        const injectedConnectors = connectors.filter(c => c.type === 'INJECTED' || c.type === 'ANNOUNCED' || c.type === 'MULTI_CHAIN');\n        if (!wcConnector && !injectedConnectors.length && !customWallets?.length) {\n            return [];\n        }\n        const isEmailEnabled = _OptionsUtil_js__WEBPACK_IMPORTED_MODULE_10__.OptionsUtil.isEmailEnabled();\n        const isSocialsEnabled = _OptionsUtil_js__WEBPACK_IMPORTED_MODULE_10__.OptionsUtil.isSocialsEnabled();\n        const injectedWallets = injectedConnectors.filter(i => i.name !== 'Browser Wallet' && i.name !== 'WalletConnect');\n        const featuredWalletAmount = featuredWalletIds?.length || 0;\n        const customWalletAmount = customWallets?.length || 0;\n        const injectedWalletAmount = injectedWallets.length || 0;\n        const emailWalletAmount = isEmailEnabled ? 1 : 0;\n        const socialWalletAmount = isSocialsEnabled ? 1 : 0;\n        const walletsDisplayed = featuredWalletAmount +\n            customWalletAmount +\n            injectedWalletAmount +\n            emailWalletAmount +\n            socialWalletAmount;\n        const DISPLAYED_WALLETS_AMOUNT = 4;\n        const sliceAmount = Math.max(0, DISPLAYED_WALLETS_AMOUNT - walletsDisplayed);\n        if (sliceAmount <= 0) {\n            return [];\n        }\n        const filtered = _WalletUtil_js__WEBPACK_IMPORTED_MODULE_2__.WalletUtil.filterOutDuplicateWallets(wallets);\n        return filtered.slice(0, sliceAmount);\n    },\n    processConnectorsByType(connectors, shouldFilter = true) {\n        const sorted = ConnectorUtil.sortConnectorsByExplorerWallet([...connectors]);\n        return shouldFilter ? sorted.filter(ConnectorUtil.showConnector) : sorted;\n    },\n    connectorList() {\n        const byType = ConnectorUtil.getConnectorsByType(_controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors, _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_3__.ApiController.state.recommended, _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_3__.ApiController.state.featured);\n        // Build per-type lists with existing filtering/sorting rules\n        const announced = this.processConnectorsByType(byType.announced.filter(c => c.id !== 'walletConnect'));\n        const injected = this.processConnectorsByType(byType.injected);\n        const multiChain = this.processConnectorsByType(byType.multiChain.filter(c => c.name !== 'WalletConnect'), false);\n        const custom = byType.custom;\n        const recent = byType.recent;\n        const external = this.processConnectorsByType(byType.external.filter(c => c.id !== _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK &&\n            c.id !== _reown_appkit_common__WEBPACK_IMPORTED_MODULE_9__.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT));\n        const recommended = byType.recommended;\n        const featured = byType.featured;\n        const connectorTypeOrder = ConnectorUtil.getConnectorTypeOrder({\n            custom,\n            recent,\n            announced,\n            injected,\n            multiChain,\n            recommended,\n            featured,\n            external\n        });\n        const wcConnector = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors.find(c => c.id === 'walletConnect');\n        const isMobile = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_5__.CoreHelperUtil.isMobile();\n        const items = [];\n        for (const type of connectorTypeOrder) {\n            switch (type) {\n                case 'walletConnect': {\n                    if (!isMobile && wcConnector) {\n                        items.push({ kind: 'connector', subtype: 'walletConnect', connector: wcConnector });\n                    }\n                    break;\n                }\n                case 'recent': {\n                    const filteredRecent = ConnectorUtil.getFilteredRecentWallets();\n                    filteredRecent.forEach(w => items.push({ kind: 'wallet', subtype: 'recent', wallet: w }));\n                    break;\n                }\n                case 'injected': {\n                    multiChain.forEach(c => items.push({ kind: 'connector', subtype: 'multiChain', connector: c }));\n                    announced.forEach(c => items.push({ kind: 'connector', subtype: 'announced', connector: c }));\n                    injected.forEach(c => items.push({ kind: 'connector', subtype: 'injected', connector: c }));\n                    break;\n                }\n                case 'featured': {\n                    featured.forEach(w => items.push({ kind: 'wallet', subtype: 'featured', wallet: w }));\n                    break;\n                }\n                case 'custom': {\n                    const filteredCustom = ConnectorUtil.getFilteredCustomWallets(custom ?? []);\n                    filteredCustom.forEach(w => items.push({ kind: 'wallet', subtype: 'custom', wallet: w }));\n                    break;\n                }\n                case 'external': {\n                    external.forEach(c => items.push({ kind: 'connector', subtype: 'external', connector: c }));\n                    break;\n                }\n                case 'recommended': {\n                    const cappedRecommended = ConnectorUtil.getCappedRecommendedWallets(recommended);\n                    cappedRecommended.forEach(w => items.push({ kind: 'wallet', subtype: 'recommended', wallet: w }));\n                    break;\n                }\n                default:\n                    // eslint-disable-next-line no-console\n                    console.warn(`Unknown connector type: ${type}`);\n            }\n        }\n        return items;\n    },\n    hasInjectedConnectors() {\n        return _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectorController.state.connectors.filter(c => (c.type === 'INJECTED' || c.type === 'ANNOUNCED' || c.type === 'MULTI_CHAIN') &&\n            c.name !== 'Browser Wallet' &&\n            c.name !== 'WalletConnect').length;\n    }\n};\n//# sourceMappingURL=ConnectorUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25uZWN0b3JVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF5RjtBQUN6QjtBQUNJO0FBQ1U7QUFDRjtBQUNKO0FBQ25CO0FBQ047QUFDQTtBQUNGO0FBQ3RDO0FBQ1A7QUFDQSxnQkFBZ0IsZ0JBQWdCLEVBQUUsZ0ZBQWlCO0FBQ25ELHVCQUF1Qix3REFBVztBQUNsQyxvQ0FBb0Msc0RBQVU7QUFDOUMsaUNBQWlDLHNEQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3RUFBYTtBQUN6QjtBQUNBLFlBQVksd0VBQWEsc0NBQXNDLDZEQUFXO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4REFBYztBQUNuQztBQUNBO0FBQ0Esb0JBQW9CLDhEQUFjLHlCQUF5QixzRkFBb0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNEVBQWU7QUFDakQ7QUFDQSxnQ0FBZ0Msb0ZBQW1CO0FBQ25ELG1DQUFtQywrREFBbUI7QUFDdEQsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlHQUF5RyxnRkFBaUIsMkNBQTJDO0FBQ2pNO0FBQ0EsY0FBYyx3Q0FBd0M7QUFDdEQsY0FBYyw4Q0FBOEM7QUFDNUQsY0FBYyxvRkFBb0Y7QUFDbEcsY0FBYyxrREFBa0Q7QUFDaEUsY0FBYyx3REFBd0Q7QUFDdEUsY0FBYyxrREFBa0Q7QUFDaEUsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUJBQXVCO0FBQ25ELGdFQUFnRSw0QkFBNEI7QUFDNUYsMEVBQTBFLGdDQUFnQztBQUMxRztBQUNBLFNBQVM7QUFDVCw0RkFBNEYsTUFBTTtBQUNsRyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwrREFBbUI7QUFDaEQ7QUFDQTtBQUNBLDZCQUE2QiwrREFBbUI7QUFDaEQsNkJBQTZCLCtEQUFtQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLHVDQUF1QztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbUJBQW1CO0FBQ3pELEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0RBQXdELDhEQUFjO0FBQ3RFLHlCQUF5QjtBQUN6QjtBQUNBLGlDQUFpQywrREFBbUI7QUFDcEQseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSw4Q0FBOEMsd0JBQXdCO0FBQ3RFO0FBQ0EsZ0NBQWdDLHVCQUF1QjtBQUN2RDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxlQUFlO0FBQzdFLHFCQUFxQjtBQUNyQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdEQUFXO0FBQ2xDLCtCQUErQixvRkFBbUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsOERBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsb0ZBQW1CO0FBQ2xDLEtBQUs7QUFDTDtBQUNBLGlDQUFpQyw0RUFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOEJBQThCLHdEQUFXO0FBQ3pDO0FBQ0EsK0JBQStCLHNEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGdCQUFnQixhQUFhLEVBQUUsb0ZBQW1CO0FBQ2xELGdCQUFnQixtQ0FBbUMsRUFBRSxnRkFBaUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBVztBQUMxQyxpQ0FBaUMseURBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQVU7QUFDbkM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EseURBQXlELG9GQUFtQixtQkFBbUIsd0VBQWEsb0JBQW9CLHdFQUFhO0FBQzdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRiwrREFBbUI7QUFDOUcscUJBQXFCLCtEQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRCQUE0QixvRkFBbUI7QUFDL0MseUJBQXlCLDhEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMscUVBQXFFO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsOENBQThDO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx3REFBd0Q7QUFDakgsd0RBQXdELHVEQUF1RDtBQUMvRyx1REFBdUQsc0RBQXNEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxnREFBZ0Q7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsOENBQThDO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxzREFBc0Q7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsbURBQW1EO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEtBQUs7QUFDakU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSxvRkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0Nvbm5lY3RvclV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCBhcyBDb21tb25Db25zdGFudHNVdGlsLCBIZWxwZXJzVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IEFwaUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29yZUhlbHBlclV0aWwgfSBmcm9tICcuL0NvcmVIZWxwZXJVdGlsLmpzJztcbmltcG9ydCB7IE9wdGlvbnNVdGlsIH0gZnJvbSAnLi9PcHRpb25zVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4vU3RvcmFnZVV0aWwuanMnO1xuaW1wb3J0IHsgV2FsbGV0VXRpbCB9IGZyb20gJy4vV2FsbGV0VXRpbC5qcyc7XG5leHBvcnQgY29uc3QgQ29ubmVjdG9yVXRpbCA9IHtcbiAgICBnZXRDb25uZWN0b3JzQnlUeXBlKGNvbm5lY3RvcnMsIHJlY29tbWVuZGVkLCBmZWF0dXJlZCkge1xuICAgICAgICBjb25zdCB7IGN1c3RvbVdhbGxldHMgfSA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCByZWNlbnQgPSBTdG9yYWdlVXRpbC5nZXRSZWNlbnRXYWxsZXRzKCk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUmVjb21tZW5kZWQgPSBXYWxsZXRVdGlsLmZpbHRlck91dER1cGxpY2F0ZVdhbGxldHMocmVjb21tZW5kZWQpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEZlYXR1cmVkID0gV2FsbGV0VXRpbC5maWx0ZXJPdXREdXBsaWNhdGVXYWxsZXRzKGZlYXR1cmVkKTtcbiAgICAgICAgY29uc3QgbXVsdGlDaGFpbiA9IGNvbm5lY3RvcnMuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IudHlwZSA9PT0gJ01VTFRJX0NIQUlOJyk7XG4gICAgICAgIGNvbnN0IGFubm91bmNlZCA9IGNvbm5lY3RvcnMuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IudHlwZSA9PT0gJ0FOTk9VTkNFRCcpO1xuICAgICAgICBjb25zdCBpbmplY3RlZCA9IGNvbm5lY3RvcnMuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IudHlwZSA9PT0gJ0lOSkVDVEVEJyk7XG4gICAgICAgIGNvbnN0IGV4dGVybmFsID0gY29ubmVjdG9ycy5maWx0ZXIoY29ubmVjdG9yID0+IGNvbm5lY3Rvci50eXBlID09PSAnRVhURVJOQUwnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN1c3RvbTogY3VzdG9tV2FsbGV0cyxcbiAgICAgICAgICAgIHJlY2VudCxcbiAgICAgICAgICAgIGV4dGVybmFsLFxuICAgICAgICAgICAgbXVsdGlDaGFpbixcbiAgICAgICAgICAgIGFubm91bmNlZCxcbiAgICAgICAgICAgIGluamVjdGVkLFxuICAgICAgICAgICAgcmVjb21tZW5kZWQ6IGZpbHRlcmVkUmVjb21tZW5kZWQsXG4gICAgICAgICAgICBmZWF0dXJlZDogZmlsdGVyZWRGZWF0dXJlZFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgc2hvd0Nvbm5lY3Rvcihjb25uZWN0b3IpIHtcbiAgICAgICAgY29uc3QgcmRucyA9IGNvbm5lY3Rvci5pbmZvPy5yZG5zO1xuICAgICAgICBjb25zdCBpc1JETlNFeGNsdWRlZCA9IEJvb2xlYW4ocmRucykgJiZcbiAgICAgICAgICAgIEFwaUNvbnRyb2xsZXIuc3RhdGUuZXhjbHVkZWRXYWxsZXRzLnNvbWUod2FsbGV0ID0+IEJvb2xlYW4od2FsbGV0LnJkbnMpICYmIHdhbGxldC5yZG5zID09PSByZG5zKTtcbiAgICAgICAgY29uc3QgaXNOYW1lRXhjbHVkZWQgPSBCb29sZWFuKGNvbm5lY3Rvci5uYW1lKSAmJlxuICAgICAgICAgICAgQXBpQ29udHJvbGxlci5zdGF0ZS5leGNsdWRlZFdhbGxldHMuc29tZSh3YWxsZXQgPT4gSGVscGVyc1V0aWwuaXNMb3dlckNhc2VNYXRjaCh3YWxsZXQubmFtZSwgY29ubmVjdG9yLm5hbWUpKTtcbiAgICAgICAgaWYgKGNvbm5lY3Rvci50eXBlID09PSAnSU5KRUNURUQnKSB7XG4gICAgICAgICAgICBjb25zdCBpc0Jyb3dzZXJXYWxsZXQgPSBjb25uZWN0b3IubmFtZSA9PT0gJ0Jyb3dzZXIgV2FsbGV0JztcbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXJXYWxsZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUNvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSAmJiAhcmRucyAmJiAhQ29ubmVjdGlvbkNvbnRyb2xsZXIuY2hlY2tJbnN0YWxsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUkROU0V4Y2x1ZGVkIHx8IGlzTmFtZUV4Y2x1ZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgoY29ubmVjdG9yLnR5cGUgPT09ICdBTk5PVU5DRUQnIHx8IGNvbm5lY3Rvci50eXBlID09PSAnRVhURVJOQUwnKSAmJlxuICAgICAgICAgICAgKGlzUkROU0V4Y2x1ZGVkIHx8IGlzTmFtZUV4Y2x1ZGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1c2VyIGlzIGNvbm5lY3RlZCB0byBhIFdhbGxldENvbm5lY3QgY29ubmVjdG9yIGluIHRoZSBhbnkgb2YgdGhlIGF2YWlsYWJsZSBuYW1lc3BhY2VzLlxuICAgICAqIEByZXR1cm5zIGJvb2xlYW5cbiAgICAgKi9cbiAgICBnZXRJc0Nvbm5lY3RlZFdpdGhXQygpIHtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gQXJyYXkuZnJvbShDaGFpbkNvbnRyb2xsZXIuc3RhdGUuY2hhaW5zLnZhbHVlcygpKTtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWRXaXRoV0MgPSBjaGFpbnMuc29tZShjaGFpbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3JJZCA9IENvbm5lY3RvckNvbnRyb2xsZXIuZ2V0Q29ubmVjdG9ySWQoY2hhaW4ubmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuV0FMTEVUX0NPTk5FQ1Q7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXNDb25uZWN0ZWRXaXRoV0M7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25uZWN0b3IgcG9zaXRpb25zIGluIHRoZSBvcmRlciBvZiB0aGUgdXNlcidzIHByZWZlcmVuY2UuXG4gICAgICogQHJldHVybnMgQ29ubmVjdG9yVHlwZU9yZGVyW11cbiAgICAgKi9cbiAgICBnZXRDb25uZWN0b3JUeXBlT3JkZXIoeyByZWNvbW1lbmRlZCwgZmVhdHVyZWQsIGN1c3RvbSwgcmVjZW50LCBhbm5vdW5jZWQsIGluamVjdGVkLCBtdWx0aUNoYWluLCBleHRlcm5hbCwgb3ZlcnJpZGRlbkNvbm5lY3RvcnMgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uY29ubmVjdG9yVHlwZU9yZGVyID8/IFtdIH0pIHtcbiAgICAgICAgY29uc3QgYWxsQ29ubmVjdG9ycyA9IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ3dhbGxldENvbm5lY3QnLCBpc0VuYWJsZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ3JlY2VudCcsIGlzRW5hYmxlZDogcmVjZW50Lmxlbmd0aCA+IDAgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ2luamVjdGVkJywgaXNFbmFibGVkOiBbLi4uaW5qZWN0ZWQsIC4uLmFubm91bmNlZCwgLi4ubXVsdGlDaGFpbl0ubGVuZ3RoID4gMCB9LFxuICAgICAgICAgICAgeyB0eXBlOiAnZmVhdHVyZWQnLCBpc0VuYWJsZWQ6IGZlYXR1cmVkLmxlbmd0aCA+IDAgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ2N1c3RvbScsIGlzRW5hYmxlZDogY3VzdG9tICYmIGN1c3RvbS5sZW5ndGggPiAwIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdleHRlcm5hbCcsIGlzRW5hYmxlZDogZXh0ZXJuYWwubGVuZ3RoID4gMCB9LFxuICAgICAgICAgICAgeyB0eXBlOiAncmVjb21tZW5kZWQnLCBpc0VuYWJsZWQ6IHJlY29tbWVuZGVkLmxlbmd0aCA+IDAgfVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBlbmFibGVkQ29ubmVjdG9ycyA9IGFsbENvbm5lY3RvcnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uaXNFbmFibGVkKTtcbiAgICAgICAgY29uc3QgZW5hYmxlZENvbm5lY3RvclR5cGVzID0gbmV3IFNldChlbmFibGVkQ29ubmVjdG9ycy5tYXAob3B0aW9uID0+IG9wdGlvbi50eXBlKSk7XG4gICAgICAgIGNvbnN0IHByaW9yaXRpemVkQ29ubmVjdG9ycyA9IG92ZXJyaWRkZW5Db25uZWN0b3JzXG4gICAgICAgICAgICAuZmlsdGVyKHR5cGUgPT4gZW5hYmxlZENvbm5lY3RvclR5cGVzLmhhcyh0eXBlKSlcbiAgICAgICAgICAgIC5tYXAodHlwZSA9PiAoeyB0eXBlLCBpc0VuYWJsZWQ6IHRydWUgfSkpO1xuICAgICAgICBjb25zdCByZW1haW5pbmdDb25uZWN0b3JzID0gZW5hYmxlZENvbm5lY3RvcnMuZmlsdGVyKCh7IHR5cGU6IGVuYWJsZWRDb25uZWN0b3JUeXBlIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhc1ByaW9yaXRpemVkQ29ubmVjdG9yID0gcHJpb3JpdGl6ZWRDb25uZWN0b3JzLnNvbWUoKHsgdHlwZTogcHJpb3JpdGl6ZWRDb25uZWN0b3JUeXBlIH0pID0+IHByaW9yaXRpemVkQ29ubmVjdG9yVHlwZSA9PT0gZW5hYmxlZENvbm5lY3RvclR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuICFoYXNQcmlvcml0aXplZENvbm5lY3RvcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLnByaW9yaXRpemVkQ29ubmVjdG9ycywgLi4ucmVtYWluaW5nQ29ubmVjdG9yc10ubWFwKCh7IHR5cGUgfSkgPT4gdHlwZSkpKTtcbiAgICB9LFxuICAgIHNvcnRDb25uZWN0b3JzQnlFeHBsb3JlcldhbGxldChjb25uZWN0b3JzKSB7XG4gICAgICAgIHJldHVybiBbLi4uY29ubmVjdG9yc10uc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEuZXhwbG9yZXJXYWxsZXQgJiYgYi5leHBsb3JlcldhbGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYS5leHBsb3JlcldhbGxldC5vcmRlciA/PyAwKSAtIChiLmV4cGxvcmVyV2FsbGV0Lm9yZGVyID8/IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGEuZXhwbG9yZXJXYWxsZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYi5leHBsb3JlcldhbGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJpb3JpdHkgb2YgYSBjb25uZWN0b3IuIEJhc2UgQWNjb3VudCBoYXMgaGlnaGVzdCBwcmlvcml0eSwgZm9sbG93ZWQgYnkgQ29pbmJhc2UgdGhlbiB0aGUgcmVzdC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgQmFzZSBBY2NvdW50IGFuZCBDb2luYmFzZSBzaGFyZSB0aGUgc2FtZSBleHBsb3JlciB3YWxsZXQgSUQuXG4gICAgICogV2l0aG91dCBwcmlvcml0aXphdGlvbiwgc2VsZWN0aW5nIEJhc2UgQWNjb3VudCBjb3VsZCBpbmNvcnJlY3RseSB0cmlnZ2VyIHRoZSBDb2luYmFzZSBXYWxsZXQgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbm5lY3RvciAtIFRoZSBjb25uZWN0b3IgdG8gZ2V0IHRoZSBwcmlvcml0eSBvZi5cbiAgICAgKiBAcmV0dXJucyBUaGUgcHJpb3JpdHkgb2YgdGhlIGNvbm5lY3Rvci5cbiAgICAgKi9cbiAgICBnZXRQcmlvcml0eShjb25uZWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rvci5pZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQkFTRV9BQ0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdG9yLmlkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRSB8fFxuICAgICAgICAgICAgY29ubmVjdG9yLmlkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV9TREspIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAyO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU29ydHMgY29ubmVjdG9ycyBieSBwcmlvcml0eS5cbiAgICAgKiBAcGFyYW0gY29ubmVjdG9ycyAtIFRoZSBjb25uZWN0b3JzIHRvIHNvcnQuXG4gICAgICogQHJldHVybnMgU29ydGVkIGNvbm5lY3RvcnMuXG4gICAgICovXG4gICAgc29ydENvbm5lY3RvcnNCeVByaW9yaXR5KGNvbm5lY3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5jb25uZWN0b3JzXS5zb3J0KChhLCBiKSA9PiBDb25uZWN0b3JVdGlsLmdldFByaW9yaXR5KGEpIC0gQ29ubmVjdG9yVXRpbC5nZXRQcmlvcml0eShiKSk7XG4gICAgfSxcbiAgICBnZXRBdXRoTmFtZSh7IGVtYWlsLCBzb2NpYWxVc2VybmFtZSwgc29jaWFsUHJvdmlkZXIgfSkge1xuICAgICAgICBpZiAoc29jaWFsVXNlcm5hbWUpIHtcbiAgICAgICAgICAgIGlmIChzb2NpYWxQcm92aWRlciAmJiBzb2NpYWxQcm92aWRlciA9PT0gJ2Rpc2NvcmQnICYmIHNvY2lhbFVzZXJuYW1lLmVuZHNXaXRoKCcwJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc29jaWFsVXNlcm5hbWUuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNvY2lhbFVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbWFpbC5sZW5ndGggPiAzMCA/IGAke2VtYWlsLnNsaWNlKDAsIC0zKX0uLi5gIDogZW1haWw7XG4gICAgfSxcbiAgICBhc3luYyBmZXRjaFByb3ZpZGVyRGF0YShjb25uZWN0b3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0b3IubmFtZSA9PT0gJ0Jyb3dzZXIgV2FsbGV0JyAmJiAhQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGFjY291bnRzOiBbXSwgY2hhaW5JZDogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yLmlkID09PSBDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5BVVRIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgYWNjb3VudHM6IFtdLCBjaGFpbklkOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFthY2NvdW50cywgY2hhaW5JZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yLnByb3ZpZGVyPy5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2FjY291bnRzJyB9KSxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3IucHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgPy5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2NoYWluSWQnIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGhleENoYWluSWQgPT4gTnVtYmVyKGhleENoYWluSWQpKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4geyBhY2NvdW50cywgY2hhaW5JZCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBmZXRjaCBwcm92aWRlciBkYXRhIGZvciAke2Nvbm5lY3Rvci5uYW1lfWAsIGVycik7XG4gICAgICAgICAgICByZXR1cm4geyBhY2NvdW50czogW10sIGNoYWluSWQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgb3V0IGR1cGxpY2F0ZSBjdXN0b20gd2FsbGV0cyBieSBSRE5TXG4gICAgICogQHBhcmFtIHdhbGxldHNcbiAgICAgKi9cbiAgICBnZXRGaWx0ZXJlZEN1c3RvbVdhbGxldHMod2FsbGV0cykge1xuICAgICAgICBjb25zdCByZWNlbnQgPSBTdG9yYWdlVXRpbC5nZXRSZWNlbnRXYWxsZXRzKCk7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvclJETlNzID0gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5jb25uZWN0b3JzXG4gICAgICAgICAgICAubWFwKGNvbm5lY3RvciA9PiBjb25uZWN0b3IuaW5mbz8ucmRucylcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IHJlY2VudFJETlNzID0gcmVjZW50Lm1hcCh3YWxsZXQgPT4gd2FsbGV0LnJkbnMpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgYWxsUkROU3MgPSBjb25uZWN0b3JSRE5Tcy5jb25jYXQocmVjZW50UkROU3MpO1xuICAgICAgICBpZiAoYWxsUkROU3MuaW5jbHVkZXMoJ2lvLm1ldGFtYXNrLm1vYmlsZScpICYmIENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gYWxsUkROU3MuaW5kZXhPZignaW8ubWV0YW1hc2subW9iaWxlJyk7XG4gICAgICAgICAgICBhbGxSRE5Tc1tpbmRleF0gPSAnaW8ubWV0YW1hc2snO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0gd2FsbGV0cy5maWx0ZXIod2FsbGV0ID0+ICFhbGxSRE5Tcy5pbmNsdWRlcyhTdHJpbmcod2FsbGV0Py5yZG5zKSkpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWQ7XG4gICAgfSxcbiAgICBoYXNXYWxsZXRDb25uZWN0b3Iod2FsbGV0KSB7XG4gICAgICAgIHJldHVybiBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmNvbm5lY3RvcnMuc29tZShjb25uZWN0b3IgPT4gY29ubmVjdG9yLmlkID09PSB3YWxsZXQuaWQgfHwgY29ubmVjdG9yLm5hbWUgPT09IHdhbGxldC5uYW1lKTtcbiAgICB9LFxuICAgIGlzV2FsbGV0Q29tcGF0aWJsZVdpdGhDdXJyZW50Q2hhaW4od2FsbGV0KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmIChjdXJyZW50TmFtZXNwYWNlICYmIHdhbGxldC5jaGFpbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWxsZXQuY2hhaW5zLnNvbWUoYyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhaW5OYW1lc3BhY2UgPSBjLnNwbGl0KCc6JylbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnROYW1lc3BhY2UgPT09IGNoYWluTmFtZXNwYWNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBnZXRGaWx0ZXJlZFJlY2VudFdhbGxldHMoKSB7XG4gICAgICAgIGNvbnN0IHJlY2VudFdhbGxldHMgPSBTdG9yYWdlVXRpbC5nZXRSZWNlbnRXYWxsZXRzKCk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUmVjZW50V2FsbGV0cyA9IHJlY2VudFdhbGxldHNcbiAgICAgICAgICAgIC5maWx0ZXIod2FsbGV0ID0+ICFXYWxsZXRVdGlsLmlzRXhjbHVkZWQod2FsbGV0KSlcbiAgICAgICAgICAgIC5maWx0ZXIod2FsbGV0ID0+ICF0aGlzLmhhc1dhbGxldENvbm5lY3Rvcih3YWxsZXQpKVxuICAgICAgICAgICAgLmZpbHRlcih3YWxsZXQgPT4gdGhpcy5pc1dhbGxldENvbXBhdGlibGVXaXRoQ3VycmVudENoYWluKHdhbGxldCkpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNlbnRXYWxsZXRzO1xuICAgIH0sXG4gICAgZ2V0Q2FwcGVkUmVjb21tZW5kZWRXYWxsZXRzKHdhbGxldHMpIHtcbiAgICAgICAgY29uc3QgeyBjb25uZWN0b3JzIH0gPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCB7IGN1c3RvbVdhbGxldHMsIGZlYXR1cmVkV2FsbGV0SWRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3Qgd2NDb25uZWN0b3IgPSBjb25uZWN0b3JzLmZpbmQoYyA9PiBjLmlkID09PSAnd2FsbGV0Q29ubmVjdCcpO1xuICAgICAgICBjb25zdCBpbmplY3RlZENvbm5lY3RvcnMgPSBjb25uZWN0b3JzLmZpbHRlcihjID0+IGMudHlwZSA9PT0gJ0lOSkVDVEVEJyB8fCBjLnR5cGUgPT09ICdBTk5PVU5DRUQnIHx8IGMudHlwZSA9PT0gJ01VTFRJX0NIQUlOJyk7XG4gICAgICAgIGlmICghd2NDb25uZWN0b3IgJiYgIWluamVjdGVkQ29ubmVjdG9ycy5sZW5ndGggJiYgIWN1c3RvbVdhbGxldHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzRW1haWxFbmFibGVkID0gT3B0aW9uc1V0aWwuaXNFbWFpbEVuYWJsZWQoKTtcbiAgICAgICAgY29uc3QgaXNTb2NpYWxzRW5hYmxlZCA9IE9wdGlvbnNVdGlsLmlzU29jaWFsc0VuYWJsZWQoKTtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWRXYWxsZXRzID0gaW5qZWN0ZWRDb25uZWN0b3JzLmZpbHRlcihpID0+IGkubmFtZSAhPT0gJ0Jyb3dzZXIgV2FsbGV0JyAmJiBpLm5hbWUgIT09ICdXYWxsZXRDb25uZWN0Jyk7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVkV2FsbGV0QW1vdW50ID0gZmVhdHVyZWRXYWxsZXRJZHM/Lmxlbmd0aCB8fCAwO1xuICAgICAgICBjb25zdCBjdXN0b21XYWxsZXRBbW91bnQgPSBjdXN0b21XYWxsZXRzPy5sZW5ndGggfHwgMDtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWRXYWxsZXRBbW91bnQgPSBpbmplY3RlZFdhbGxldHMubGVuZ3RoIHx8IDA7XG4gICAgICAgIGNvbnN0IGVtYWlsV2FsbGV0QW1vdW50ID0gaXNFbWFpbEVuYWJsZWQgPyAxIDogMDtcbiAgICAgICAgY29uc3Qgc29jaWFsV2FsbGV0QW1vdW50ID0gaXNTb2NpYWxzRW5hYmxlZCA/IDEgOiAwO1xuICAgICAgICBjb25zdCB3YWxsZXRzRGlzcGxheWVkID0gZmVhdHVyZWRXYWxsZXRBbW91bnQgK1xuICAgICAgICAgICAgY3VzdG9tV2FsbGV0QW1vdW50ICtcbiAgICAgICAgICAgIGluamVjdGVkV2FsbGV0QW1vdW50ICtcbiAgICAgICAgICAgIGVtYWlsV2FsbGV0QW1vdW50ICtcbiAgICAgICAgICAgIHNvY2lhbFdhbGxldEFtb3VudDtcbiAgICAgICAgY29uc3QgRElTUExBWUVEX1dBTExFVFNfQU1PVU5UID0gNDtcbiAgICAgICAgY29uc3Qgc2xpY2VBbW91bnQgPSBNYXRoLm1heCgwLCBESVNQTEFZRURfV0FMTEVUU19BTU9VTlQgLSB3YWxsZXRzRGlzcGxheWVkKTtcbiAgICAgICAgaWYgKHNsaWNlQW1vdW50IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFdhbGxldFV0aWwuZmlsdGVyT3V0RHVwbGljYXRlV2FsbGV0cyh3YWxsZXRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkLnNsaWNlKDAsIHNsaWNlQW1vdW50KTtcbiAgICB9LFxuICAgIHByb2Nlc3NDb25uZWN0b3JzQnlUeXBlKGNvbm5lY3RvcnMsIHNob3VsZEZpbHRlciA9IHRydWUpIHtcbiAgICAgICAgY29uc3Qgc29ydGVkID0gQ29ubmVjdG9yVXRpbC5zb3J0Q29ubmVjdG9yc0J5RXhwbG9yZXJXYWxsZXQoWy4uLmNvbm5lY3RvcnNdKTtcbiAgICAgICAgcmV0dXJuIHNob3VsZEZpbHRlciA/IHNvcnRlZC5maWx0ZXIoQ29ubmVjdG9yVXRpbC5zaG93Q29ubmVjdG9yKSA6IHNvcnRlZDtcbiAgICB9LFxuICAgIGNvbm5lY3Rvckxpc3QoKSB7XG4gICAgICAgIGNvbnN0IGJ5VHlwZSA9IENvbm5lY3RvclV0aWwuZ2V0Q29ubmVjdG9yc0J5VHlwZShDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmNvbm5lY3RvcnMsIEFwaUNvbnRyb2xsZXIuc3RhdGUucmVjb21tZW5kZWQsIEFwaUNvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZWQpO1xuICAgICAgICAvLyBCdWlsZCBwZXItdHlwZSBsaXN0cyB3aXRoIGV4aXN0aW5nIGZpbHRlcmluZy9zb3J0aW5nIHJ1bGVzXG4gICAgICAgIGNvbnN0IGFubm91bmNlZCA9IHRoaXMucHJvY2Vzc0Nvbm5lY3RvcnNCeVR5cGUoYnlUeXBlLmFubm91bmNlZC5maWx0ZXIoYyA9PiBjLmlkICE9PSAnd2FsbGV0Q29ubmVjdCcpKTtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWQgPSB0aGlzLnByb2Nlc3NDb25uZWN0b3JzQnlUeXBlKGJ5VHlwZS5pbmplY3RlZCk7XG4gICAgICAgIGNvbnN0IG11bHRpQ2hhaW4gPSB0aGlzLnByb2Nlc3NDb25uZWN0b3JzQnlUeXBlKGJ5VHlwZS5tdWx0aUNoYWluLmZpbHRlcihjID0+IGMubmFtZSAhPT0gJ1dhbGxldENvbm5lY3QnKSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjdXN0b20gPSBieVR5cGUuY3VzdG9tO1xuICAgICAgICBjb25zdCByZWNlbnQgPSBieVR5cGUucmVjZW50O1xuICAgICAgICBjb25zdCBleHRlcm5hbCA9IHRoaXMucHJvY2Vzc0Nvbm5lY3RvcnNCeVR5cGUoYnlUeXBlLmV4dGVybmFsLmZpbHRlcihjID0+IGMuaWQgIT09IENvbW1vbkNvbnN0YW50c1V0aWwuQ09OTkVDVE9SX0lELkNPSU5CQVNFX1NESyAmJlxuICAgICAgICAgICAgYy5pZCAhPT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQkFTRV9BQ0NPVU5UKSk7XG4gICAgICAgIGNvbnN0IHJlY29tbWVuZGVkID0gYnlUeXBlLnJlY29tbWVuZGVkO1xuICAgICAgICBjb25zdCBmZWF0dXJlZCA9IGJ5VHlwZS5mZWF0dXJlZDtcbiAgICAgICAgY29uc3QgY29ubmVjdG9yVHlwZU9yZGVyID0gQ29ubmVjdG9yVXRpbC5nZXRDb25uZWN0b3JUeXBlT3JkZXIoe1xuICAgICAgICAgICAgY3VzdG9tLFxuICAgICAgICAgICAgcmVjZW50LFxuICAgICAgICAgICAgYW5ub3VuY2VkLFxuICAgICAgICAgICAgaW5qZWN0ZWQsXG4gICAgICAgICAgICBtdWx0aUNoYWluLFxuICAgICAgICAgICAgcmVjb21tZW5kZWQsXG4gICAgICAgICAgICBmZWF0dXJlZCxcbiAgICAgICAgICAgIGV4dGVybmFsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB3Y0Nvbm5lY3RvciA9IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9ycy5maW5kKGMgPT4gYy5pZCA9PT0gJ3dhbGxldENvbm5lY3QnKTtcbiAgICAgICAgY29uc3QgaXNNb2JpbGUgPSBDb3JlSGVscGVyVXRpbC5pc01vYmlsZSgpO1xuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgY29ubmVjdG9yVHlwZU9yZGVyKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd3YWxsZXRDb25uZWN0Jzoge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTW9iaWxlICYmIHdjQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsga2luZDogJ2Nvbm5lY3RvcicsIHN1YnR5cGU6ICd3YWxsZXRDb25uZWN0JywgY29ubmVjdG9yOiB3Y0Nvbm5lY3RvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAncmVjZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFJlY2VudCA9IENvbm5lY3RvclV0aWwuZ2V0RmlsdGVyZWRSZWNlbnRXYWxsZXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkUmVjZW50LmZvckVhY2godyA9PiBpdGVtcy5wdXNoKHsga2luZDogJ3dhbGxldCcsIHN1YnR5cGU6ICdyZWNlbnQnLCB3YWxsZXQ6IHcgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5qZWN0ZWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIG11bHRpQ2hhaW4uZm9yRWFjaChjID0+IGl0ZW1zLnB1c2goeyBraW5kOiAnY29ubmVjdG9yJywgc3VidHlwZTogJ211bHRpQ2hhaW4nLCBjb25uZWN0b3I6IGMgfSkpO1xuICAgICAgICAgICAgICAgICAgICBhbm5vdW5jZWQuZm9yRWFjaChjID0+IGl0ZW1zLnB1c2goeyBraW5kOiAnY29ubmVjdG9yJywgc3VidHlwZTogJ2Fubm91bmNlZCcsIGNvbm5lY3RvcjogYyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkLmZvckVhY2goYyA9PiBpdGVtcy5wdXNoKHsga2luZDogJ2Nvbm5lY3RvcicsIHN1YnR5cGU6ICdpbmplY3RlZCcsIGNvbm5lY3RvcjogYyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdmZWF0dXJlZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZWQuZm9yRWFjaCh3ID0+IGl0ZW1zLnB1c2goeyBraW5kOiAnd2FsbGV0Jywgc3VidHlwZTogJ2ZlYXR1cmVkJywgd2FsbGV0OiB3IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2N1c3RvbSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRDdXN0b20gPSBDb25uZWN0b3JVdGlsLmdldEZpbHRlcmVkQ3VzdG9tV2FsbGV0cyhjdXN0b20gPz8gW10pO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEN1c3RvbS5mb3JFYWNoKHcgPT4gaXRlbXMucHVzaCh7IGtpbmQ6ICd3YWxsZXQnLCBzdWJ0eXBlOiAnY3VzdG9tJywgd2FsbGV0OiB3IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2V4dGVybmFsJzoge1xuICAgICAgICAgICAgICAgICAgICBleHRlcm5hbC5mb3JFYWNoKGMgPT4gaXRlbXMucHVzaCh7IGtpbmQ6ICdjb25uZWN0b3InLCBzdWJ0eXBlOiAnZXh0ZXJuYWwnLCBjb25uZWN0b3I6IGMgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAncmVjb21tZW5kZWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcHBlZFJlY29tbWVuZGVkID0gQ29ubmVjdG9yVXRpbC5nZXRDYXBwZWRSZWNvbW1lbmRlZFdhbGxldHMocmVjb21tZW5kZWQpO1xuICAgICAgICAgICAgICAgICAgICBjYXBwZWRSZWNvbW1lbmRlZC5mb3JFYWNoKHcgPT4gaXRlbXMucHVzaCh7IGtpbmQ6ICd3YWxsZXQnLCBzdWJ0eXBlOiAncmVjb21tZW5kZWQnLCB3YWxsZXQ6IHcgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmtub3duIGNvbm5lY3RvciB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH0sXG4gICAgaGFzSW5qZWN0ZWRDb25uZWN0b3JzKCkge1xuICAgICAgICByZXR1cm4gQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5jb25uZWN0b3JzLmZpbHRlcihjID0+IChjLnR5cGUgPT09ICdJTkpFQ1RFRCcgfHwgYy50eXBlID09PSAnQU5OT1VOQ0VEJyB8fCBjLnR5cGUgPT09ICdNVUxUSV9DSEFJTicpICYmXG4gICAgICAgICAgICBjLm5hbWUgIT09ICdCcm93c2VyIFdhbGxldCcgJiZcbiAgICAgICAgICAgIGMubmFtZSAhPT0gJ1dhbGxldENvbm5lY3QnKS5sZW5ndGg7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RvclV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstantsUtil: () => (/* binding */ ConstantsUtil),\n/* harmony export */   MELD_PUBLIC_KEY: () => (/* binding */ MELD_PUBLIC_KEY),\n/* harmony export */   ONRAMP_PROVIDERS: () => (/* binding */ ONRAMP_PROVIDERS)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/PresetsUtil.js\");\n\n\nconst SECURE_SITE = \n// eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n(typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? process.env['NEXT_PUBLIC_SECURE_SITE_ORIGIN']\n    : undefined) || 'https://secure.walletconnect.org';\nconst ONRAMP_PROVIDERS = [\n    {\n        label: 'Meld.io',\n        name: 'meld',\n        feeRange: '1-2%',\n        url: 'https://meldcrypto.com',\n        supportedChains: ['eip155', 'solana']\n    }\n];\nconst MELD_PUBLIC_KEY = 'WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU';\nconst ConstantsUtil = {\n    FOUR_MINUTES_MS: 240_000,\n    TEN_SEC_MS: 10_000,\n    FIVE_SEC_MS: 5_000,\n    THREE_SEC_MS: 3_000,\n    ONE_SEC_MS: 1_000,\n    SECURE_SITE,\n    SECURE_SITE_DASHBOARD: `${SECURE_SITE}/dashboard`,\n    SECURE_SITE_FAVICON: `${SECURE_SITE}/images/favicon.png`,\n    SOLANA_NATIVE_TOKEN_ADDRESS: 'So11111111111111111111111111111111111111111',\n    RESTRICTED_TIMEZONES: [\n        'ASIA/SHANGHAI',\n        'ASIA/URUMQI',\n        'ASIA/CHONGQING',\n        'ASIA/HARBIN',\n        'ASIA/KASHGAR',\n        'ASIA/MACAU',\n        'ASIA/HONG_KONG',\n        'ASIA/MACAO',\n        'ASIA/BEIJING',\n        'ASIA/HARBIN'\n    ],\n    SWAP_SUGGESTED_TOKENS: [\n        'ETH',\n        'UNI',\n        '1INCH',\n        'AAVE',\n        'SOL',\n        'ADA',\n        'AVAX',\n        'DOT',\n        'LINK',\n        'NITRO',\n        'GAIA',\n        'MILK',\n        'TRX',\n        'NEAR',\n        'GNO',\n        'WBTC',\n        'DAI',\n        'WETH',\n        'USDC',\n        'USDT',\n        'ARB',\n        'BAL',\n        'BICO',\n        'CRV',\n        'ENS',\n        'MATIC',\n        'OP'\n    ],\n    SWAP_POPULAR_TOKENS: [\n        'ETH',\n        'UNI',\n        '1INCH',\n        'AAVE',\n        'SOL',\n        'ADA',\n        'AVAX',\n        'DOT',\n        'LINK',\n        'NITRO',\n        'GAIA',\n        'MILK',\n        'TRX',\n        'NEAR',\n        'GNO',\n        'WBTC',\n        'DAI',\n        'WETH',\n        'USDC',\n        'USDT',\n        'ARB',\n        'BAL',\n        'BICO',\n        'CRV',\n        'ENS',\n        'MATIC',\n        'OP',\n        'METAL',\n        'DAI',\n        'CHAMP',\n        'WOLF',\n        'SALE',\n        'BAL',\n        'BUSD',\n        'MUST',\n        'BTCpx',\n        'ROUTE',\n        'HEX',\n        'WELT',\n        'amDAI',\n        'VSQ',\n        'VISION',\n        'AURUM',\n        'pSP',\n        'SNX',\n        'VC',\n        'LINK',\n        'CHP',\n        'amUSDT',\n        'SPHERE',\n        'FOX',\n        'GIDDY',\n        'GFC',\n        'OMEN',\n        'OX_OLD',\n        'DE',\n        'WNT'\n    ],\n    SUGGESTED_TOKENS_BY_CHAIN: {\n        // Arbitrum One\n        'eip155:42161': ['USD0']\n    },\n    BALANCE_SUPPORTED_CHAINS: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    SEND_PARAMS_SUPPORTED_CHAINS: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    SWAP_SUPPORTED_NETWORKS: [\n        // Ethereum'\n        'eip155:1',\n        // Arbitrum One'\n        'eip155:42161',\n        // Optimism'\n        'eip155:10',\n        // ZKSync Era'\n        'eip155:324',\n        // Base'\n        'eip155:8453',\n        // BNB Smart Chain'\n        'eip155:56',\n        // Polygon'\n        'eip155:137',\n        // Gnosis'\n        'eip155:100',\n        // Avalanche'\n        'eip155:43114',\n        // Fantom'\n        'eip155:250',\n        // Klaytn'\n        'eip155:8217',\n        // Aurora\n        'eip155:1313161554'\n    ],\n    NAMES_SUPPORTED_CHAIN_NAMESPACES: [_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM],\n    ONRAMP_SUPPORTED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    ACTIVITY_ENABLED_CHAIN_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.TON\n    ],\n    NATIVE_TOKEN_ADDRESS: {\n        eip155: '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee',\n        solana: 'So11111111111111111111111111111111111111111',\n        polkadot: '0x',\n        bip122: '0x',\n        cosmos: '0x',\n        sui: '0x',\n        stacks: '0x',\n        ton: '0x'\n    },\n    CONVERT_SLIPPAGE_TOLERANCE: 1,\n    CONNECT_LABELS: {\n        MOBILE: 'Open and continue in the wallet app',\n        WEB: 'Open and continue in the wallet app'\n    },\n    SEND_SUPPORTED_NAMESPACES: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.EVM,\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA\n    ],\n    DEFAULT_REMOTE_FEATURES: {\n        swaps: ['1inch'],\n        onramp: ['meld'],\n        email: true,\n        socials: [\n            'google',\n            'x',\n            'discord',\n            'farcaster',\n            'github',\n            'apple',\n            'facebook'\n        ],\n        activity: true,\n        reownBranding: true,\n        multiWallet: false,\n        emailCapture: false,\n        payWithExchange: false,\n        payments: false,\n        reownAuthentication: false,\n        headless: false\n    },\n    DEFAULT_REMOTE_FEATURES_DISABLED: {\n        email: false,\n        socials: false,\n        swaps: false,\n        onramp: false,\n        activity: false,\n        reownBranding: false,\n        emailCapture: false,\n        reownAuthentication: false,\n        headless: false\n    },\n    DEFAULT_FEATURES: {\n        receive: true,\n        send: true,\n        emailShowWallets: true,\n        connectorTypeOrder: [\n            'walletConnect',\n            'recent',\n            'injected',\n            'featured',\n            'custom',\n            'external',\n            'recommended'\n        ],\n        analytics: true,\n        allWallets: true,\n        legalCheckbox: false,\n        smartSessions: false,\n        collapseWallets: false,\n        walletFeaturesOrder: ['onramp', 'swaps', 'receive', 'send'],\n        connectMethodsOrder: undefined,\n        pay: false,\n        reownAuthentication: false,\n        headless: false\n    },\n    DEFAULT_SOCIALS: [\n        'google',\n        'x',\n        'farcaster',\n        'discord',\n        'apple',\n        'github',\n        'facebook'\n    ],\n    DEFAULT_ACCOUNT_TYPES: {\n        bip122: 'payment',\n        eip155: 'smartAccount',\n        polkadot: 'eoa',\n        solana: 'eoa',\n        ton: 'eoa'\n    },\n    ADAPTER_TYPES: {\n        UNIVERSAL: 'universal',\n        SOLANA: 'solana',\n        WAGMI: 'wagmi',\n        ETHERS: 'ethers',\n        ETHERS5: 'ethers5',\n        BITCOIN: 'bitcoin'\n    },\n    SIWX_DEFAULTS: {\n        signOutOnDisconnect: true\n    },\n    MANDATORY_WALLET_IDS_ON_MOBILE: [\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.ConnectorExplorerIds[_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE],\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.ConnectorExplorerIds[_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK],\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.ConnectorExplorerIds[_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT],\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.ConnectorExplorerIds[_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.SOLFLARE_CONNECTOR_NAME],\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.ConnectorExplorerIds[_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.PHANTOM_CONNECTOR_NAME],\n        _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.PresetsUtil.ConnectorExplorerIds[_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.BINANCE_CONNECTOR_NAME]\n    ],\n    DEFAULT_CONNECT_METHOD_ORDER: ['email', 'social', 'wallet']\n};\n//# sourceMappingURL=ConstantsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlGO0FBQ25EO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFlBQVk7QUFDMUMsNEJBQTRCLFlBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFFBQVEsK0RBQW1CO0FBQzNCLFFBQVEsK0RBQW1CO0FBQzNCO0FBQ0EsbUNBQW1DLCtEQUFtQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLCtEQUFtQjtBQUMxRDtBQUNBLFFBQVEsK0RBQW1CO0FBQzNCLFFBQVEsK0RBQW1CO0FBQzNCO0FBQ0E7QUFDQSxRQUFRLCtEQUFtQjtBQUMzQixRQUFRLCtEQUFtQjtBQUMzQjtBQUNBO0FBQ0EsUUFBUSwrREFBbUI7QUFDM0IsUUFBUSwrREFBbUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLCtEQUFtQjtBQUMzQixRQUFRLCtEQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSw2REFBVyxzQkFBc0IsK0RBQW1CO0FBQzVELFFBQVEsNkRBQVcsc0JBQXNCLCtEQUFtQjtBQUM1RCxRQUFRLDZEQUFXLHNCQUFzQiwrREFBbUI7QUFDNUQsUUFBUSw2REFBVyxzQkFBc0IsK0RBQW1CO0FBQzVELFFBQVEsNkRBQVcsc0JBQXNCLCtEQUFtQjtBQUM1RCxRQUFRLDZEQUFXLHNCQUFzQiwrREFBbUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db25zdGFudHNVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0YW50c1V0aWwgYXMgQ29tbW9uQ29uc3RhbnRzVXRpbCwgUHJlc2V0c1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQge30gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuY29uc3QgU0VDVVJFX1NJVEUgPSBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLW9wdGlvbmFsLWNoYWluXG4odHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzLmVudiAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19TRUNVUkVfU0lURV9PUklHSU4nXVxuICAgIDogdW5kZWZpbmVkKSB8fCAnaHR0cHM6Ly9zZWN1cmUud2FsbGV0Y29ubmVjdC5vcmcnO1xuZXhwb3J0IGNvbnN0IE9OUkFNUF9QUk9WSURFUlMgPSBbXG4gICAge1xuICAgICAgICBsYWJlbDogJ01lbGQuaW8nLFxuICAgICAgICBuYW1lOiAnbWVsZCcsXG4gICAgICAgIGZlZVJhbmdlOiAnMS0yJScsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vbWVsZGNyeXB0by5jb20nLFxuICAgICAgICBzdXBwb3J0ZWRDaGFpbnM6IFsnZWlwMTU1JywgJ3NvbGFuYSddXG4gICAgfVxuXTtcbmV4cG9ydCBjb25zdCBNRUxEX1BVQkxJQ19LRVkgPSAnV1hFVE11RlVRbXFxeWJIdVJrU2d4djoyNUI4TEpIU2ZwRzZMVmpSMnl0VTVDd2g3WjRTY2gyb2NvVSc7XG5leHBvcnQgY29uc3QgQ29uc3RhbnRzVXRpbCA9IHtcbiAgICBGT1VSX01JTlVURVNfTVM6IDI0MF8wMDAsXG4gICAgVEVOX1NFQ19NUzogMTBfMDAwLFxuICAgIEZJVkVfU0VDX01TOiA1XzAwMCxcbiAgICBUSFJFRV9TRUNfTVM6IDNfMDAwLFxuICAgIE9ORV9TRUNfTVM6IDFfMDAwLFxuICAgIFNFQ1VSRV9TSVRFLFxuICAgIFNFQ1VSRV9TSVRFX0RBU0hCT0FSRDogYCR7U0VDVVJFX1NJVEV9L2Rhc2hib2FyZGAsXG4gICAgU0VDVVJFX1NJVEVfRkFWSUNPTjogYCR7U0VDVVJFX1NJVEV9L2ltYWdlcy9mYXZpY29uLnBuZ2AsXG4gICAgU09MQU5BX05BVElWRV9UT0tFTl9BRERSRVNTOiAnU28xMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMScsXG4gICAgUkVTVFJJQ1RFRF9USU1FWk9ORVM6IFtcbiAgICAgICAgJ0FTSUEvU0hBTkdIQUknLFxuICAgICAgICAnQVNJQS9VUlVNUUknLFxuICAgICAgICAnQVNJQS9DSE9OR1FJTkcnLFxuICAgICAgICAnQVNJQS9IQVJCSU4nLFxuICAgICAgICAnQVNJQS9LQVNIR0FSJyxcbiAgICAgICAgJ0FTSUEvTUFDQVUnLFxuICAgICAgICAnQVNJQS9IT05HX0tPTkcnLFxuICAgICAgICAnQVNJQS9NQUNBTycsXG4gICAgICAgICdBU0lBL0JFSUpJTkcnLFxuICAgICAgICAnQVNJQS9IQVJCSU4nXG4gICAgXSxcbiAgICBTV0FQX1NVR0dFU1RFRF9UT0tFTlM6IFtcbiAgICAgICAgJ0VUSCcsXG4gICAgICAgICdVTkknLFxuICAgICAgICAnMUlOQ0gnLFxuICAgICAgICAnQUFWRScsXG4gICAgICAgICdTT0wnLFxuICAgICAgICAnQURBJyxcbiAgICAgICAgJ0FWQVgnLFxuICAgICAgICAnRE9UJyxcbiAgICAgICAgJ0xJTksnLFxuICAgICAgICAnTklUUk8nLFxuICAgICAgICAnR0FJQScsXG4gICAgICAgICdNSUxLJyxcbiAgICAgICAgJ1RSWCcsXG4gICAgICAgICdORUFSJyxcbiAgICAgICAgJ0dOTycsXG4gICAgICAgICdXQlRDJyxcbiAgICAgICAgJ0RBSScsXG4gICAgICAgICdXRVRIJyxcbiAgICAgICAgJ1VTREMnLFxuICAgICAgICAnVVNEVCcsXG4gICAgICAgICdBUkInLFxuICAgICAgICAnQkFMJyxcbiAgICAgICAgJ0JJQ08nLFxuICAgICAgICAnQ1JWJyxcbiAgICAgICAgJ0VOUycsXG4gICAgICAgICdNQVRJQycsXG4gICAgICAgICdPUCdcbiAgICBdLFxuICAgIFNXQVBfUE9QVUxBUl9UT0tFTlM6IFtcbiAgICAgICAgJ0VUSCcsXG4gICAgICAgICdVTkknLFxuICAgICAgICAnMUlOQ0gnLFxuICAgICAgICAnQUFWRScsXG4gICAgICAgICdTT0wnLFxuICAgICAgICAnQURBJyxcbiAgICAgICAgJ0FWQVgnLFxuICAgICAgICAnRE9UJyxcbiAgICAgICAgJ0xJTksnLFxuICAgICAgICAnTklUUk8nLFxuICAgICAgICAnR0FJQScsXG4gICAgICAgICdNSUxLJyxcbiAgICAgICAgJ1RSWCcsXG4gICAgICAgICdORUFSJyxcbiAgICAgICAgJ0dOTycsXG4gICAgICAgICdXQlRDJyxcbiAgICAgICAgJ0RBSScsXG4gICAgICAgICdXRVRIJyxcbiAgICAgICAgJ1VTREMnLFxuICAgICAgICAnVVNEVCcsXG4gICAgICAgICdBUkInLFxuICAgICAgICAnQkFMJyxcbiAgICAgICAgJ0JJQ08nLFxuICAgICAgICAnQ1JWJyxcbiAgICAgICAgJ0VOUycsXG4gICAgICAgICdNQVRJQycsXG4gICAgICAgICdPUCcsXG4gICAgICAgICdNRVRBTCcsXG4gICAgICAgICdEQUknLFxuICAgICAgICAnQ0hBTVAnLFxuICAgICAgICAnV09MRicsXG4gICAgICAgICdTQUxFJyxcbiAgICAgICAgJ0JBTCcsXG4gICAgICAgICdCVVNEJyxcbiAgICAgICAgJ01VU1QnLFxuICAgICAgICAnQlRDcHgnLFxuICAgICAgICAnUk9VVEUnLFxuICAgICAgICAnSEVYJyxcbiAgICAgICAgJ1dFTFQnLFxuICAgICAgICAnYW1EQUknLFxuICAgICAgICAnVlNRJyxcbiAgICAgICAgJ1ZJU0lPTicsXG4gICAgICAgICdBVVJVTScsXG4gICAgICAgICdwU1AnLFxuICAgICAgICAnU05YJyxcbiAgICAgICAgJ1ZDJyxcbiAgICAgICAgJ0xJTksnLFxuICAgICAgICAnQ0hQJyxcbiAgICAgICAgJ2FtVVNEVCcsXG4gICAgICAgICdTUEhFUkUnLFxuICAgICAgICAnRk9YJyxcbiAgICAgICAgJ0dJRERZJyxcbiAgICAgICAgJ0dGQycsXG4gICAgICAgICdPTUVOJyxcbiAgICAgICAgJ09YX09MRCcsXG4gICAgICAgICdERScsXG4gICAgICAgICdXTlQnXG4gICAgXSxcbiAgICBTVUdHRVNURURfVE9LRU5TX0JZX0NIQUlOOiB7XG4gICAgICAgIC8vIEFyYml0cnVtIE9uZVxuICAgICAgICAnZWlwMTU1OjQyMTYxJzogWydVU0Tigq4wJ11cbiAgICB9LFxuICAgIEJBTEFOQ0VfU1VQUE9SVEVEX0NIQUlOUzogW1xuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkFcbiAgICBdLFxuICAgIFNFTkRfUEFSQU1TX1NVUFBPUlRFRF9DSEFJTlM6IFtDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTV0sXG4gICAgU1dBUF9TVVBQT1JURURfTkVUV09SS1M6IFtcbiAgICAgICAgLy8gRXRoZXJldW0nXG4gICAgICAgICdlaXAxNTU6MScsXG4gICAgICAgIC8vIEFyYml0cnVtIE9uZSdcbiAgICAgICAgJ2VpcDE1NTo0MjE2MScsXG4gICAgICAgIC8vIE9wdGltaXNtJ1xuICAgICAgICAnZWlwMTU1OjEwJyxcbiAgICAgICAgLy8gWktTeW5jIEVyYSdcbiAgICAgICAgJ2VpcDE1NTozMjQnLFxuICAgICAgICAvLyBCYXNlJ1xuICAgICAgICAnZWlwMTU1Ojg0NTMnLFxuICAgICAgICAvLyBCTkIgU21hcnQgQ2hhaW4nXG4gICAgICAgICdlaXAxNTU6NTYnLFxuICAgICAgICAvLyBQb2x5Z29uJ1xuICAgICAgICAnZWlwMTU1OjEzNycsXG4gICAgICAgIC8vIEdub3NpcydcbiAgICAgICAgJ2VpcDE1NToxMDAnLFxuICAgICAgICAvLyBBdmFsYW5jaGUnXG4gICAgICAgICdlaXAxNTU6NDMxMTQnLFxuICAgICAgICAvLyBGYW50b20nXG4gICAgICAgICdlaXAxNTU6MjUwJyxcbiAgICAgICAgLy8gS2xheXRuJ1xuICAgICAgICAnZWlwMTU1OjgyMTcnLFxuICAgICAgICAvLyBBdXJvcmFcbiAgICAgICAgJ2VpcDE1NToxMzEzMTYxNTU0J1xuICAgIF0sXG4gICAgTkFNRVNfU1VQUE9SVEVEX0NIQUlOX05BTUVTUEFDRVM6IFtDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTV0sXG4gICAgT05SQU1QX1NVUFBPUlRFRF9DSEFJTl9OQU1FU1BBQ0VTOiBbXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uRVZNLFxuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLlNPTEFOQVxuICAgIF0sXG4gICAgUEFZX1dJVEhfRVhDSEFOR0VfU1VQUE9SVEVEX0NIQUlOX05BTUVTUEFDRVM6IFtcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0sXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uU09MQU5BXG4gICAgXSxcbiAgICBBQ1RJVklUWV9FTkFCTEVEX0NIQUlOX05BTUVTUEFDRVM6IFtcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0sXG4gICAgICAgIENvbW1vbkNvbnN0YW50c1V0aWwuQ0hBSU4uVE9OXG4gICAgXSxcbiAgICBOQVRJVkVfVE9LRU5fQUREUkVTUzoge1xuICAgICAgICBlaXAxNTU6ICcweGVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWUnLFxuICAgICAgICBzb2xhbmE6ICdTbzExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExJyxcbiAgICAgICAgcG9sa2Fkb3Q6ICcweCcsXG4gICAgICAgIGJpcDEyMjogJzB4JyxcbiAgICAgICAgY29zbW9zOiAnMHgnLFxuICAgICAgICBzdWk6ICcweCcsXG4gICAgICAgIHN0YWNrczogJzB4JyxcbiAgICAgICAgdG9uOiAnMHgnXG4gICAgfSxcbiAgICBDT05WRVJUX1NMSVBQQUdFX1RPTEVSQU5DRTogMSxcbiAgICBDT05ORUNUX0xBQkVMUzoge1xuICAgICAgICBNT0JJTEU6ICdPcGVuIGFuZCBjb250aW51ZSBpbiB0aGUgd2FsbGV0IGFwcCcsXG4gICAgICAgIFdFQjogJ09wZW4gYW5kIGNvbnRpbnVlIGluIHRoZSB3YWxsZXQgYXBwJ1xuICAgIH0sXG4gICAgU0VORF9TVVBQT1JURURfTkFNRVNQQUNFUzogW1xuICAgICAgICBDb21tb25Db25zdGFudHNVdGlsLkNIQUlOLkVWTSxcbiAgICAgICAgQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5TT0xBTkFcbiAgICBdLFxuICAgIERFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTOiB7XG4gICAgICAgIHN3YXBzOiBbJzFpbmNoJ10sXG4gICAgICAgIG9ucmFtcDogWydtZWxkJ10sXG4gICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICBzb2NpYWxzOiBbXG4gICAgICAgICAgICAnZ29vZ2xlJyxcbiAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICdkaXNjb3JkJyxcbiAgICAgICAgICAgICdmYXJjYXN0ZXInLFxuICAgICAgICAgICAgJ2dpdGh1YicsXG4gICAgICAgICAgICAnYXBwbGUnLFxuICAgICAgICAgICAgJ2ZhY2Vib29rJ1xuICAgICAgICBdLFxuICAgICAgICBhY3Rpdml0eTogdHJ1ZSxcbiAgICAgICAgcmVvd25CcmFuZGluZzogdHJ1ZSxcbiAgICAgICAgbXVsdGlXYWxsZXQ6IGZhbHNlLFxuICAgICAgICBlbWFpbENhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXlXaXRoRXhjaGFuZ2U6IGZhbHNlLFxuICAgICAgICBwYXltZW50czogZmFsc2UsXG4gICAgICAgIHJlb3duQXV0aGVudGljYXRpb246IGZhbHNlLFxuICAgICAgICBoZWFkbGVzczogZmFsc2VcbiAgICB9LFxuICAgIERFRkFVTFRfUkVNT1RFX0ZFQVRVUkVTX0RJU0FCTEVEOiB7XG4gICAgICAgIGVtYWlsOiBmYWxzZSxcbiAgICAgICAgc29jaWFsczogZmFsc2UsXG4gICAgICAgIHN3YXBzOiBmYWxzZSxcbiAgICAgICAgb25yYW1wOiBmYWxzZSxcbiAgICAgICAgYWN0aXZpdHk6IGZhbHNlLFxuICAgICAgICByZW93bkJyYW5kaW5nOiBmYWxzZSxcbiAgICAgICAgZW1haWxDYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcmVvd25BdXRoZW50aWNhdGlvbjogZmFsc2UsXG4gICAgICAgIGhlYWRsZXNzOiBmYWxzZVxuICAgIH0sXG4gICAgREVGQVVMVF9GRUFUVVJFUzoge1xuICAgICAgICByZWNlaXZlOiB0cnVlLFxuICAgICAgICBzZW5kOiB0cnVlLFxuICAgICAgICBlbWFpbFNob3dXYWxsZXRzOiB0cnVlLFxuICAgICAgICBjb25uZWN0b3JUeXBlT3JkZXI6IFtcbiAgICAgICAgICAgICd3YWxsZXRDb25uZWN0JyxcbiAgICAgICAgICAgICdyZWNlbnQnLFxuICAgICAgICAgICAgJ2luamVjdGVkJyxcbiAgICAgICAgICAgICdmZWF0dXJlZCcsXG4gICAgICAgICAgICAnY3VzdG9tJyxcbiAgICAgICAgICAgICdleHRlcm5hbCcsXG4gICAgICAgICAgICAncmVjb21tZW5kZWQnXG4gICAgICAgIF0sXG4gICAgICAgIGFuYWx5dGljczogdHJ1ZSxcbiAgICAgICAgYWxsV2FsbGV0czogdHJ1ZSxcbiAgICAgICAgbGVnYWxDaGVja2JveDogZmFsc2UsXG4gICAgICAgIHNtYXJ0U2Vzc2lvbnM6IGZhbHNlLFxuICAgICAgICBjb2xsYXBzZVdhbGxldHM6IGZhbHNlLFxuICAgICAgICB3YWxsZXRGZWF0dXJlc09yZGVyOiBbJ29ucmFtcCcsICdzd2FwcycsICdyZWNlaXZlJywgJ3NlbmQnXSxcbiAgICAgICAgY29ubmVjdE1ldGhvZHNPcmRlcjogdW5kZWZpbmVkLFxuICAgICAgICBwYXk6IGZhbHNlLFxuICAgICAgICByZW93bkF1dGhlbnRpY2F0aW9uOiBmYWxzZSxcbiAgICAgICAgaGVhZGxlc3M6IGZhbHNlXG4gICAgfSxcbiAgICBERUZBVUxUX1NPQ0lBTFM6IFtcbiAgICAgICAgJ2dvb2dsZScsXG4gICAgICAgICd4JyxcbiAgICAgICAgJ2ZhcmNhc3RlcicsXG4gICAgICAgICdkaXNjb3JkJyxcbiAgICAgICAgJ2FwcGxlJyxcbiAgICAgICAgJ2dpdGh1YicsXG4gICAgICAgICdmYWNlYm9vaydcbiAgICBdLFxuICAgIERFRkFVTFRfQUNDT1VOVF9UWVBFUzoge1xuICAgICAgICBiaXAxMjI6ICdwYXltZW50JyxcbiAgICAgICAgZWlwMTU1OiAnc21hcnRBY2NvdW50JyxcbiAgICAgICAgcG9sa2Fkb3Q6ICdlb2EnLFxuICAgICAgICBzb2xhbmE6ICdlb2EnLFxuICAgICAgICB0b246ICdlb2EnXG4gICAgfSxcbiAgICBBREFQVEVSX1RZUEVTOiB7XG4gICAgICAgIFVOSVZFUlNBTDogJ3VuaXZlcnNhbCcsXG4gICAgICAgIFNPTEFOQTogJ3NvbGFuYScsXG4gICAgICAgIFdBR01JOiAnd2FnbWknLFxuICAgICAgICBFVEhFUlM6ICdldGhlcnMnLFxuICAgICAgICBFVEhFUlM1OiAnZXRoZXJzNScsXG4gICAgICAgIEJJVENPSU46ICdiaXRjb2luJ1xuICAgIH0sXG4gICAgU0lXWF9ERUZBVUxUUzoge1xuICAgICAgICBzaWduT3V0T25EaXNjb25uZWN0OiB0cnVlXG4gICAgfSxcbiAgICBNQU5EQVRPUllfV0FMTEVUX0lEU19PTl9NT0JJTEU6IFtcbiAgICAgICAgUHJlc2V0c1V0aWwuQ29ubmVjdG9yRXhwbG9yZXJJZHNbQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQ09JTkJBU0VdLFxuICAgICAgICBQcmVzZXRzVXRpbC5Db25uZWN0b3JFeHBsb3Jlcklkc1tDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5DT0lOQkFTRV9TREtdLFxuICAgICAgICBQcmVzZXRzVXRpbC5Db25uZWN0b3JFeHBsb3Jlcklkc1tDb21tb25Db25zdGFudHNVdGlsLkNPTk5FQ1RPUl9JRC5CQVNFX0FDQ09VTlRdLFxuICAgICAgICBQcmVzZXRzVXRpbC5Db25uZWN0b3JFeHBsb3Jlcklkc1tDb21tb25Db25zdGFudHNVdGlsLlNPTEZMQVJFX0NPTk5FQ1RPUl9OQU1FXSxcbiAgICAgICAgUHJlc2V0c1V0aWwuQ29ubmVjdG9yRXhwbG9yZXJJZHNbQ29tbW9uQ29uc3RhbnRzVXRpbC5QSEFOVE9NX0NPTk5FQ1RPUl9OQU1FXSxcbiAgICAgICAgUHJlc2V0c1V0aWwuQ29ubmVjdG9yRXhwbG9yZXJJZHNbQ29tbW9uQ29uc3RhbnRzVXRpbC5CSU5BTkNFX0NPTk5FQ1RPUl9OQU1FXVxuICAgIF0sXG4gICAgREVGQVVMVF9DT05ORUNUX01FVEhPRF9PUkRFUjogWydlbWFpbCcsICdzb2NpYWwnLCAnd2FsbGV0J11cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25zdGFudHNVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CoreHelperUtil: () => (/* binding */ CoreHelperUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n\n\n\nconst CoreHelperUtil = {\n    getWindow() {\n        if (typeof window === 'undefined') {\n            return undefined;\n        }\n        return window;\n    },\n    isMobile() {\n        if (this.isClient()) {\n            return Boolean((window?.matchMedia &&\n                typeof window.matchMedia === 'function' &&\n                window.matchMedia('(pointer:coarse)')?.matches) ||\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent));\n        }\n        return false;\n    },\n    checkCaipNetwork(network, networkName = '') {\n        return network?.caipNetworkId.toLocaleLowerCase().includes(networkName.toLowerCase());\n    },\n    isAndroid() {\n        if (!this.isMobile()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return CoreHelperUtil.isMobile() && ua.includes('android');\n    },\n    isIos() {\n        if (!this.isMobile()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('iphone') || ua.includes('ipad');\n    },\n    isSafari() {\n        if (!this.isClient()) {\n            return false;\n        }\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('safari');\n    },\n    isClient() {\n        return typeof window !== 'undefined';\n    },\n    isPairingExpired(expiry) {\n        return expiry ? expiry - Date.now() <= _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.TEN_SEC_MS : true;\n    },\n    isAllowedRetry(lastRetry, differenceMs = _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.ONE_SEC_MS) {\n        return Date.now() - lastRetry >= differenceMs;\n    },\n    copyToClopboard(text) {\n        navigator.clipboard.writeText(text);\n    },\n    isIframe() {\n        try {\n            return window?.self !== window?.top;\n        }\n        catch (e) {\n            return false;\n        }\n    },\n    isSafeApp() {\n        if (CoreHelperUtil.isClient() && window.self !== window.top) {\n            try {\n                const ancestor = window?.location?.ancestorOrigins?.[0];\n                const safeAppUrl = 'https://app.safe.global';\n                if (ancestor) {\n                    const ancestorUrl = new URL(ancestor);\n                    const safeUrl = new URL(safeAppUrl);\n                    return ancestorUrl.hostname === safeUrl.hostname;\n                }\n            }\n            catch {\n                return false;\n            }\n        }\n        return false;\n    },\n    getPairingExpiry() {\n        return Date.now() + _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.FOUR_MINUTES_MS;\n    },\n    getNetworkId(caipAddress) {\n        return caipAddress?.split(':')[1];\n    },\n    getPlainAddress(caipAddress) {\n        return caipAddress?.split(':')[2];\n    },\n    async wait(milliseconds) {\n        return new Promise(resolve => {\n            setTimeout(resolve, milliseconds);\n        });\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    debounce(func, timeout = 500) {\n        let timer = undefined;\n        return (...args) => {\n            function next() {\n                func(...args);\n            }\n            if (timer) {\n                clearTimeout(timer);\n            }\n            timer = setTimeout(next, timeout);\n        };\n    },\n    isHttpUrl(url) {\n        return url.startsWith('http://') || url.startsWith('https://');\n    },\n    formatNativeUrl(appUrl, wcUri, universalLink = null) {\n        if (CoreHelperUtil.isHttpUrl(appUrl)) {\n            return this.formatUniversalUrl(appUrl, wcUri);\n        }\n        let safeAppUrl = appUrl;\n        let safeUniversalLink = universalLink;\n        if (!safeAppUrl.includes('://')) {\n            safeAppUrl = appUrl.replaceAll('/', '').replaceAll(':', '');\n            safeAppUrl = `${safeAppUrl}://`;\n        }\n        if (!safeAppUrl.endsWith('/')) {\n            safeAppUrl = `${safeAppUrl}/`;\n        }\n        if (safeUniversalLink && !safeUniversalLink?.endsWith('/')) {\n            safeUniversalLink = `${safeUniversalLink}/`;\n        }\n        // Android deeplinks in tg context require the uri to be encoded twice\n        if (this.isTelegram() && this.isAndroid()) {\n            // eslint-disable-next-line no-param-reassign\n            wcUri = encodeURIComponent(wcUri);\n        }\n        const encodedWcUrl = encodeURIComponent(wcUri);\n        return {\n            redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,\n            redirectUniversalLink: safeUniversalLink\n                ? `${safeUniversalLink}wc?uri=${encodedWcUrl}`\n                : undefined,\n            href: safeAppUrl\n        };\n    },\n    formatUniversalUrl(appUrl, wcUri) {\n        if (!CoreHelperUtil.isHttpUrl(appUrl)) {\n            return this.formatNativeUrl(appUrl, wcUri);\n        }\n        let safeAppUrl = appUrl;\n        if (!safeAppUrl.endsWith('/')) {\n            safeAppUrl = `${safeAppUrl}/`;\n        }\n        const encodedWcUrl = encodeURIComponent(wcUri);\n        return {\n            redirect: `${safeAppUrl}wc?uri=${encodedWcUrl}`,\n            href: safeAppUrl\n        };\n    },\n    getOpenTargetForPlatform(target) {\n        if (target === 'popupWindow') {\n            return target;\n        }\n        // Only '_blank' deeplinks work in Telegram context\n        if (this.isTelegram()) {\n            // But for social login, we need to load the page in the same context\n            if (_StorageUtil_js__WEBPACK_IMPORTED_MODULE_1__.StorageUtil.getTelegramSocialProvider()) {\n                return '_top';\n            }\n            return '_blank';\n        }\n        return target;\n    },\n    openHref(href, target, features) {\n        window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n    },\n    returnOpenHref(href, target, features) {\n        return window?.open(href, this.getOpenTargetForPlatform(target), features || 'noreferrer noopener');\n    },\n    isTelegram() {\n        return (typeof window !== 'undefined' &&\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (Boolean(window.TelegramWebviewProxy) ||\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                Boolean(window.Telegram) ||\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                Boolean(window.TelegramWebviewProxyProto)));\n    },\n    isPWA() {\n        if (typeof window === 'undefined') {\n            return false;\n        }\n        const isStandaloneDisplayMode = window?.matchMedia && typeof window.matchMedia === 'function'\n            ? window.matchMedia('(display-mode: standalone)')?.matches\n            : false;\n        const isIOSStandalone = window?.navigator?.standalone;\n        return Boolean(isStandaloneDisplayMode || isIOSStandalone);\n    },\n    async preloadImage(src) {\n        const imagePromise = new Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = resolve;\n            image.onerror = reject;\n            image.crossOrigin = 'anonymous';\n            image.src = src;\n        });\n        return Promise.race([imagePromise, CoreHelperUtil.wait(2000)]);\n    },\n    parseBalance(balance, symbol) {\n        let formattedBalance = '0.000';\n        if (typeof balance === 'string') {\n            const number = Number(balance);\n            if (!isNaN(number)) {\n                const formattedValue = (Math.floor(number * 1000) / 1000).toFixed(3);\n                if (formattedValue) {\n                    formattedBalance = formattedValue;\n                }\n            }\n        }\n        const [valueString, decimalsString] = formattedBalance.split('.');\n        const value = valueString || '0';\n        const decimals = decimalsString || '000';\n        const formattedText = `${value}.${decimals}${symbol ? ` ${symbol}` : ''}`;\n        return {\n            formattedText,\n            value,\n            decimals,\n            symbol\n        };\n    },\n    getApiUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.W3M_API_URL;\n    },\n    getBlockchainApiUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.BLOCKCHAIN_API_RPC_URL;\n    },\n    getAnalyticsUrl() {\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.PULSE_API_URL;\n    },\n    getUUID() {\n        if (crypto?.randomUUID) {\n            return crypto.randomUUID();\n        }\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/gu, c => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parseError(error) {\n        if (typeof error === 'string') {\n            return error;\n        }\n        else if (typeof error?.issues?.[0]?.message === 'string') {\n            return error.issues[0].message;\n        }\n        else if (error instanceof Error) {\n            return error.message;\n        }\n        return 'Unknown error';\n    },\n    sortRequestedNetworks(approvedIds, requestedNetworks = []) {\n        const approvedIndexMap = {};\n        if (requestedNetworks && approvedIds) {\n            approvedIds.forEach((id, index) => {\n                approvedIndexMap[id] = index;\n            });\n            requestedNetworks.sort((a, b) => {\n                const indexA = approvedIndexMap[a.id];\n                const indexB = approvedIndexMap[b.id];\n                if (indexA !== undefined && indexB !== undefined) {\n                    return indexA - indexB;\n                }\n                else if (indexA !== undefined) {\n                    return -1;\n                }\n                else if (indexB !== undefined) {\n                    return 1;\n                }\n                return 0;\n            });\n        }\n        return requestedNetworks;\n    },\n    calculateBalance(array) {\n        let sum = 0;\n        for (const item of array) {\n            sum += item.value ?? 0;\n        }\n        return sum;\n    },\n    formatTokenBalance(number) {\n        const roundedNumber = number.toFixed(2);\n        const [dollars, pennies] = roundedNumber.split('.');\n        return { dollars, pennies };\n    },\n    isAddress(address, chain = 'eip155') {\n        switch (chain) {\n            case 'eip155':\n                if (!/^(?:0x)?[0-9a-f]{40}$/iu.test(address)) {\n                    return false;\n                }\n                else if (/^(?:0x)?[0-9a-f]{40}$/iu.test(address) ||\n                    /^(?:0x)?[0-9A-F]{40}$/iu.test(address)) {\n                    return true;\n                }\n                return false;\n            case 'solana':\n                return /[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(address);\n            case 'bip122': {\n                const isP2PKH = /^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(address);\n                const isP2SH = /^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(address);\n                const isBech32 = /^bc1[a-z0-9]{39,87}$/u.test(address);\n                const isBech32m = /^bc1p[a-z0-9]{58}$/u.test(address);\n                return isP2PKH || isP2SH || isBech32 || isBech32m;\n            }\n            default:\n                return false;\n        }\n    },\n    uniqueBy(arr, key) {\n        const set = new Set();\n        return arr.filter(item => {\n            const keyValue = item[key];\n            if (set.has(keyValue)) {\n                return false;\n            }\n            set.add(keyValue);\n            return true;\n        });\n    },\n    generateSdkVersion(adapters, platform, version) {\n        const hasNoAdapters = adapters.length === 0;\n        const adapterNames = (hasNoAdapters\n            ? _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL\n            : adapters.map(adapter => adapter.adapterType).join(','));\n        return `${platform}-${adapterNames}-${version}`;\n    },\n    // eslint-disable-next-line max-params\n    createAccount(namespace, address, type, publicKey, path) {\n        return {\n            namespace,\n            address,\n            type,\n            publicKey,\n            path\n        };\n    },\n    isCaipAddress(address) {\n        if (typeof address !== 'string') {\n            return false;\n        }\n        const sections = address.split(':');\n        const namespace = sections[0];\n        return (sections.filter(Boolean).length === 3 &&\n            namespace in _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ConstantsUtil.CHAIN_NAME_MAP);\n    },\n    getAccount(account) {\n        if (!account) {\n            return {\n                address: undefined,\n                chainId: undefined\n            };\n        }\n        if (typeof account === 'string') {\n            return {\n                address: account,\n                chainId: undefined\n            };\n        }\n        return {\n            address: account.address,\n            chainId: account.chainId\n        };\n    },\n    isMac() {\n        const ua = window?.navigator.userAgent.toLowerCase();\n        return ua.includes('macintosh') && !ua.includes('safari');\n    },\n    formatTelegramSocialLoginUrl(url) {\n        const valueToInject = `--${encodeURIComponent(window?.location.href)}`;\n        const paramToInject = 'state=';\n        const parsedUrl = new URL(url);\n        if (parsedUrl.host === 'auth.magic.link') {\n            const providerParam = 'provider_authorization_url=';\n            const providerUrl = url.substring(url.indexOf(providerParam) + providerParam.length);\n            const resultUrl = this.injectIntoUrl(decodeURIComponent(providerUrl), paramToInject, valueToInject);\n            return url.replace(providerUrl, encodeURIComponent(resultUrl));\n        }\n        return this.injectIntoUrl(url, paramToInject, valueToInject);\n    },\n    injectIntoUrl(url, key, appendString) {\n        // Find the position of \"key\" e.g. \"state=\" in the URL\n        const keyIndex = url.indexOf(key);\n        if (keyIndex === -1) {\n            throw new Error(`${key} parameter not found in the URL: ${url}`);\n        }\n        // Find the position of the next \"&\" after \"key\"\n        const keyEndIndex = url.indexOf('&', keyIndex);\n        const keyLength = key.length;\n        // If there is no \"&\" after key, it means \"key\" is the last parameter\n        // eslint-disable-next-line no-negated-condition\n        const keyParamEnd = keyEndIndex !== -1 ? keyEndIndex : url.length;\n        // Extract the part of the URL before the key value\n        const beforeKeyValue = url.substring(0, keyIndex + keyLength);\n        // Extract the current key value\n        const currentKeyValue = url.substring(keyIndex + keyLength, keyParamEnd);\n        // Extract the part of the URL after the key value\n        const afterKeyValue = url.substring(keyEndIndex);\n        // Append the new string to the key value\n        const newKeyValue = currentKeyValue + appendString;\n        // Reconstruct the URL with the appended key value\n        const newUrl = beforeKeyValue + newKeyValue + afterKeyValue;\n        return newUrl;\n    },\n    isNumber(value) {\n        if (typeof value !== 'number' && typeof value !== 'string') {\n            return false;\n        }\n        return !isNaN(Number(value));\n    }\n};\n//# sourceMappingURL=CoreHelperUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db3JlSGVscGVyVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdFO0FBQ3JCO0FBQ0o7QUFDeEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0NBQStDLDREQUFhO0FBQzVELEtBQUs7QUFDTCw2Q0FBNkMsNERBQWE7QUFDMUQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRCQUE0Qiw0REFBYTtBQUN6QyxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixXQUFXO0FBQ3ZDO0FBQ0E7QUFDQSw0QkFBNEIsV0FBVztBQUN2QztBQUNBO0FBQ0EsbUNBQW1DLGtCQUFrQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFdBQVcsU0FBUyxhQUFhO0FBQzFEO0FBQ0EscUJBQXFCLGtCQUFrQixTQUFTLGFBQWE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixXQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixXQUFXLFNBQVMsYUFBYTtBQUMxRDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsTUFBTSxHQUFHLFNBQVMsRUFBRSxhQUFhLE9BQU8sT0FBTztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLCtEQUFlO0FBQzlCLEtBQUs7QUFDTDtBQUNBLGVBQWUsK0RBQWU7QUFDOUIsS0FBSztBQUNMO0FBQ0EsZUFBZSwrREFBZTtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsR0FBRztBQUMxQztBQUNBO0FBQ0EsMkNBQTJDLEdBQUc7QUFDOUMsc0NBQXNDLEdBQUc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsTUFBTTtBQUNuRDtBQUNBLDBEQUEwRCxNQUFNO0FBQ2hFLHlEQUF5RCxNQUFNO0FBQy9ELCtDQUErQyxNQUFNO0FBQ3JELGlEQUFpRCxHQUFHO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFhO0FBQzNCO0FBQ0Esa0JBQWtCLFNBQVMsR0FBRyxhQUFhLEdBQUcsUUFBUTtBQUN0RCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtEQUFlO0FBQ3hDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1DQUFtQywwQ0FBMEM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEtBQUssa0NBQWtDLElBQUk7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Db3JlSGVscGVyVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50cyB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IENvbnN0YW50c1V0aWwgfSBmcm9tICcuL0NvbnN0YW50c1V0aWwuanMnO1xuaW1wb3J0IHsgU3RvcmFnZVV0aWwgfSBmcm9tICcuL1N0b3JhZ2VVdGlsLmpzJztcbmV4cG9ydCBjb25zdCBDb3JlSGVscGVyVXRpbCA9IHtcbiAgICBnZXRXaW5kb3coKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH0sXG4gICAgaXNNb2JpbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2xpZW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3c/Lm1hdGNoTWVkaWEgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKHBvaW50ZXI6Y29hcnNlKScpPy5tYXRjaGVzKSB8fFxuICAgICAgICAgICAgICAgIC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxPcGVyYSBNaW5pL3UudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgY2hlY2tDYWlwTmV0d29yayhuZXR3b3JrLCBuZXR3b3JrTmFtZSA9ICcnKSB7XG4gICAgICAgIHJldHVybiBuZXR3b3JrPy5jYWlwTmV0d29ya0lkLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5jbHVkZXMobmV0d29ya05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgfSxcbiAgICBpc0FuZHJvaWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdWEgPSB3aW5kb3c/Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkgJiYgdWEuaW5jbHVkZXMoJ2FuZHJvaWQnKTtcbiAgICB9LFxuICAgIGlzSW9zKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVhID0gd2luZG93Py5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1YS5pbmNsdWRlcygnaXBob25lJykgfHwgdWEuaW5jbHVkZXMoJ2lwYWQnKTtcbiAgICB9LFxuICAgIGlzU2FmYXJpKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDbGllbnQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVhID0gd2luZG93Py5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1YS5pbmNsdWRlcygnc2FmYXJpJyk7XG4gICAgfSxcbiAgICBpc0NsaWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIH0sXG4gICAgaXNQYWlyaW5nRXhwaXJlZChleHBpcnkpIHtcbiAgICAgICAgcmV0dXJuIGV4cGlyeSA/IGV4cGlyeSAtIERhdGUubm93KCkgPD0gQ29uc3RhbnRzVXRpbC5URU5fU0VDX01TIDogdHJ1ZTtcbiAgICB9LFxuICAgIGlzQWxsb3dlZFJldHJ5KGxhc3RSZXRyeSwgZGlmZmVyZW5jZU1zID0gQ29uc3RhbnRzVXRpbC5PTkVfU0VDX01TKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gbGFzdFJldHJ5ID49IGRpZmZlcmVuY2VNcztcbiAgICB9LFxuICAgIGNvcHlUb0Nsb3Bib2FyZCh0ZXh0KSB7XG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgIH0sXG4gICAgaXNJZnJhbWUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Py5zZWxmICE9PSB3aW5kb3c/LnRvcDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpc1NhZmVBcHAoKSB7XG4gICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0NsaWVudCgpICYmIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2VzdG9yID0gd2luZG93Py5sb2NhdGlvbj8uYW5jZXN0b3JPcmlnaW5zPy5bMF07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FmZUFwcFVybCA9ICdodHRwczovL2FwcC5zYWZlLmdsb2JhbCc7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2VzdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuY2VzdG9yVXJsID0gbmV3IFVSTChhbmNlc3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVVcmwgPSBuZXcgVVJMKHNhZmVBcHBVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5jZXN0b3JVcmwuaG9zdG5hbWUgPT09IHNhZmVVcmwuaG9zdG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBnZXRQYWlyaW5nRXhwaXJ5KCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSArIENvbnN0YW50c1V0aWwuRk9VUl9NSU5VVEVTX01TO1xuICAgIH0sXG4gICAgZ2V0TmV0d29ya0lkKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBjYWlwQWRkcmVzcz8uc3BsaXQoJzonKVsxXTtcbiAgICB9LFxuICAgIGdldFBsYWluQWRkcmVzcyhjYWlwQWRkcmVzcykge1xuICAgICAgICByZXR1cm4gY2FpcEFkZHJlc3M/LnNwbGl0KCc6JylbMl07XG4gICAgfSxcbiAgICBhc3luYyB3YWl0KG1pbGxpc2Vjb25kcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1pbGxpc2Vjb25kcyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBkZWJvdW5jZShmdW5jLCB0aW1lb3V0ID0gNTAwKSB7XG4gICAgICAgIGxldCB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KG5leHQsIHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgaXNIdHRwVXJsKHVybCkge1xuICAgICAgICByZXR1cm4gdXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKTtcbiAgICB9LFxuICAgIGZvcm1hdE5hdGl2ZVVybChhcHBVcmwsIHdjVXJpLCB1bml2ZXJzYWxMaW5rID0gbnVsbCkge1xuICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNIdHRwVXJsKGFwcFVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFVuaXZlcnNhbFVybChhcHBVcmwsIHdjVXJpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2FmZUFwcFVybCA9IGFwcFVybDtcbiAgICAgICAgbGV0IHNhZmVVbml2ZXJzYWxMaW5rID0gdW5pdmVyc2FsTGluaztcbiAgICAgICAgaWYgKCFzYWZlQXBwVXJsLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgICAgICAgICAgc2FmZUFwcFVybCA9IGFwcFVybC5yZXBsYWNlQWxsKCcvJywgJycpLnJlcGxhY2VBbGwoJzonLCAnJyk7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH06Ly9gO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2FmZUFwcFVybC5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH0vYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FmZVVuaXZlcnNhbExpbmsgJiYgIXNhZmVVbml2ZXJzYWxMaW5rPy5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzYWZlVW5pdmVyc2FsTGluayA9IGAke3NhZmVVbml2ZXJzYWxMaW5rfS9gO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFuZHJvaWQgZGVlcGxpbmtzIGluIHRnIGNvbnRleHQgcmVxdWlyZSB0aGUgdXJpIHRvIGJlIGVuY29kZWQgdHdpY2VcbiAgICAgICAgaWYgKHRoaXMuaXNUZWxlZ3JhbSgpICYmIHRoaXMuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgd2NVcmkgPSBlbmNvZGVVUklDb21wb25lbnQod2NVcmkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWRXY1VybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3Y1VyaSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWRpcmVjdDogYCR7c2FmZUFwcFVybH13Yz91cmk9JHtlbmNvZGVkV2NVcmx9YCxcbiAgICAgICAgICAgIHJlZGlyZWN0VW5pdmVyc2FsTGluazogc2FmZVVuaXZlcnNhbExpbmtcbiAgICAgICAgICAgICAgICA/IGAke3NhZmVVbml2ZXJzYWxMaW5rfXdjP3VyaT0ke2VuY29kZWRXY1VybH1gXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBocmVmOiBzYWZlQXBwVXJsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBmb3JtYXRVbml2ZXJzYWxVcmwoYXBwVXJsLCB3Y1VyaSkge1xuICAgICAgICBpZiAoIUNvcmVIZWxwZXJVdGlsLmlzSHR0cFVybChhcHBVcmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXROYXRpdmVVcmwoYXBwVXJsLCB3Y1VyaSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNhZmVBcHBVcmwgPSBhcHBVcmw7XG4gICAgICAgIGlmICghc2FmZUFwcFVybC5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzYWZlQXBwVXJsID0gYCR7c2FmZUFwcFVybH0vYDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVkV2NVcmwgPSBlbmNvZGVVUklDb21wb25lbnQod2NVcmkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IGAke3NhZmVBcHBVcmx9d2M/dXJpPSR7ZW5jb2RlZFdjVXJsfWAsXG4gICAgICAgICAgICBocmVmOiBzYWZlQXBwVXJsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRPcGVuVGFyZ2V0Rm9yUGxhdGZvcm0odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdwb3B1cFdpbmRvdycpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSAnX2JsYW5rJyBkZWVwbGlua3Mgd29yayBpbiBUZWxlZ3JhbSBjb250ZXh0XG4gICAgICAgIGlmICh0aGlzLmlzVGVsZWdyYW0oKSkge1xuICAgICAgICAgICAgLy8gQnV0IGZvciBzb2NpYWwgbG9naW4sIHdlIG5lZWQgdG8gbG9hZCB0aGUgcGFnZSBpbiB0aGUgc2FtZSBjb250ZXh0XG4gICAgICAgICAgICBpZiAoU3RvcmFnZVV0aWwuZ2V0VGVsZWdyYW1Tb2NpYWxQcm92aWRlcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdfdG9wJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnX2JsYW5rJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG4gICAgb3BlbkhyZWYoaHJlZiwgdGFyZ2V0LCBmZWF0dXJlcykge1xuICAgICAgICB3aW5kb3c/Lm9wZW4oaHJlZiwgdGhpcy5nZXRPcGVuVGFyZ2V0Rm9yUGxhdGZvcm0odGFyZ2V0KSwgZmVhdHVyZXMgfHwgJ25vcmVmZXJyZXIgbm9vcGVuZXInKTtcbiAgICB9LFxuICAgIHJldHVybk9wZW5IcmVmKGhyZWYsIHRhcmdldCwgZmVhdHVyZXMpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdz8ub3BlbihocmVmLCB0aGlzLmdldE9wZW5UYXJnZXRGb3JQbGF0Zm9ybSh0YXJnZXQpLCBmZWF0dXJlcyB8fCAnbm9yZWZlcnJlciBub29wZW5lcicpO1xuICAgIH0sXG4gICAgaXNUZWxlZ3JhbSgpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIChCb29sZWFuKHdpbmRvdy5UZWxlZ3JhbVdlYnZpZXdQcm94eSkgfHxcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIEJvb2xlYW4od2luZG93LlRlbGVncmFtKSB8fFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgQm9vbGVhbih3aW5kb3cuVGVsZWdyYW1XZWJ2aWV3UHJveHlQcm90bykpKTtcbiAgICB9LFxuICAgIGlzUFdBKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1N0YW5kYWxvbmVEaXNwbGF5TW9kZSA9IHdpbmRvdz8ubWF0Y2hNZWRpYSAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gd2luZG93Lm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJyk/Lm1hdGNoZXNcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IGlzSU9TU3RhbmRhbG9uZSA9IHdpbmRvdz8ubmF2aWdhdG9yPy5zdGFuZGFsb25lO1xuICAgICAgICByZXR1cm4gQm9vbGVhbihpc1N0YW5kYWxvbmVEaXNwbGF5TW9kZSB8fCBpc0lPU1N0YW5kYWxvbmUpO1xuICAgIH0sXG4gICAgYXN5bmMgcHJlbG9hZEltYWdlKHNyYykge1xuICAgICAgICBjb25zdCBpbWFnZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbaW1hZ2VQcm9taXNlLCBDb3JlSGVscGVyVXRpbC53YWl0KDIwMDApXSk7XG4gICAgfSxcbiAgICBwYXJzZUJhbGFuY2UoYmFsYW5jZSwgc3ltYm9sKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWRCYWxhbmNlID0gJzAuMDAwJztcbiAgICAgICAgaWYgKHR5cGVvZiBiYWxhbmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gTnVtYmVyKGJhbGFuY2UpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihudW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkVmFsdWUgPSAoTWF0aC5mbG9vcihudW1iZXIgKiAxMDAwKSAvIDEwMDApLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hdHRlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEJhbGFuY2UgPSBmb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW3ZhbHVlU3RyaW5nLCBkZWNpbWFsc1N0cmluZ10gPSBmb3JtYXR0ZWRCYWxhbmNlLnNwbGl0KCcuJyk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVTdHJpbmcgfHwgJzAnO1xuICAgICAgICBjb25zdCBkZWNpbWFscyA9IGRlY2ltYWxzU3RyaW5nIHx8ICcwMDAnO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRUZXh0ID0gYCR7dmFsdWV9LiR7ZGVjaW1hbHN9JHtzeW1ib2wgPyBgICR7c3ltYm9sfWAgOiAnJ31gO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0dGVkVGV4dCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGVjaW1hbHMsXG4gICAgICAgICAgICBzeW1ib2xcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldEFwaVVybCgpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbnN0YW50cy5XM01fQVBJX1VSTDtcbiAgICB9LFxuICAgIGdldEJsb2NrY2hhaW5BcGlVcmwoKSB7XG4gICAgICAgIHJldHVybiBDb21tb25Db25zdGFudHMuQkxPQ0tDSEFJTl9BUElfUlBDX1VSTDtcbiAgICB9LFxuICAgIGdldEFuYWx5dGljc1VybCgpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbnN0YW50cy5QVUxTRV9BUElfVVJMO1xuICAgIH0sXG4gICAgZ2V0VVVJRCgpIHtcbiAgICAgICAgaWYgKGNyeXB0bz8ucmFuZG9tVVVJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZ3UsIGMgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcGFyc2VFcnJvcihlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBlcnJvcj8uaXNzdWVzPy5bMF0/Lm1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3IuaXNzdWVzWzBdLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdVbmtub3duIGVycm9yJztcbiAgICB9LFxuICAgIHNvcnRSZXF1ZXN0ZWROZXR3b3JrcyhhcHByb3ZlZElkcywgcmVxdWVzdGVkTmV0d29ya3MgPSBbXSkge1xuICAgICAgICBjb25zdCBhcHByb3ZlZEluZGV4TWFwID0ge307XG4gICAgICAgIGlmIChyZXF1ZXN0ZWROZXR3b3JrcyAmJiBhcHByb3ZlZElkcykge1xuICAgICAgICAgICAgYXBwcm92ZWRJZHMuZm9yRWFjaCgoaWQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgYXBwcm92ZWRJbmRleE1hcFtpZF0gPSBpbmRleDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxdWVzdGVkTmV0d29ya3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QSA9IGFwcHJvdmVkSW5kZXhNYXBbYS5pZF07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhCID0gYXBwcm92ZWRJbmRleE1hcFtiLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhBICE9PSB1bmRlZmluZWQgJiYgaW5kZXhCICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4QSAtIGluZGV4QjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5kZXhBICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleEIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdGVkTmV0d29ya3M7XG4gICAgfSxcbiAgICBjYWxjdWxhdGVCYWxhbmNlKGFycmF5KSB7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXkpIHtcbiAgICAgICAgICAgIHN1bSArPSBpdGVtLnZhbHVlID8/IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9LFxuICAgIGZvcm1hdFRva2VuQmFsYW5jZShudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgcm91bmRlZE51bWJlciA9IG51bWJlci50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zdCBbZG9sbGFycywgcGVubmllc10gPSByb3VuZGVkTnVtYmVyLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiB7IGRvbGxhcnMsIHBlbm5pZXMgfTtcbiAgICB9LFxuICAgIGlzQWRkcmVzcyhhZGRyZXNzLCBjaGFpbiA9ICdlaXAxNTUnKSB7XG4gICAgICAgIHN3aXRjaCAoY2hhaW4pIHtcbiAgICAgICAgICAgIGNhc2UgJ2VpcDE1NSc6XG4gICAgICAgICAgICAgICAgaWYgKCEvXig/OjB4KT9bMC05YS1mXXs0MH0kL2l1LnRlc3QoYWRkcmVzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgvXig/OjB4KT9bMC05YS1mXXs0MH0kL2l1LnRlc3QoYWRkcmVzcykgfHxcbiAgICAgICAgICAgICAgICAgICAgL14oPzoweCk/WzAtOUEtRl17NDB9JC9pdS50ZXN0KGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdzb2xhbmEnOlxuICAgICAgICAgICAgICAgIHJldHVybiAvWzEtOUEtSEotTlAtWmEta20tel17MzIsNDR9JC9pdS50ZXN0KGFkZHJlc3MpO1xuICAgICAgICAgICAgY2FzZSAnYmlwMTIyJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUDJQS0ggPSAvXlsxXVthLWttLXpBLUhKLU5QLVoxLTldezI1LDM0fSQvdS50ZXN0KGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUDJTSCA9IC9eWzNdW2Eta20tekEtSEotTlAtWjEtOV17MjUsMzR9JC91LnRlc3QoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWNoMzIgPSAvXmJjMVthLXowLTldezM5LDg3fSQvdS50ZXN0KGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQmVjaDMybSA9IC9eYmMxcFthLXowLTldezU4fSQvdS50ZXN0KGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1AyUEtIIHx8IGlzUDJTSCB8fCBpc0JlY2gzMiB8fCBpc0JlY2gzMm07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdW5pcXVlQnkoYXJyLCBrZXkpIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgICByZXR1cm4gYXJyLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gaXRlbVtrZXldO1xuICAgICAgICAgICAgaWYgKHNldC5oYXMoa2V5VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0LmFkZChrZXlWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZW5lcmF0ZVNka1ZlcnNpb24oYWRhcHRlcnMsIHBsYXRmb3JtLCB2ZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IGhhc05vQWRhcHRlcnMgPSBhZGFwdGVycy5sZW5ndGggPT09IDA7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXJOYW1lcyA9IChoYXNOb0FkYXB0ZXJzXG4gICAgICAgICAgICA/IENvbnN0YW50c1V0aWwuQURBUFRFUl9UWVBFUy5VTklWRVJTQUxcbiAgICAgICAgICAgIDogYWRhcHRlcnMubWFwKGFkYXB0ZXIgPT4gYWRhcHRlci5hZGFwdGVyVHlwZSkuam9pbignLCcpKTtcbiAgICAgICAgcmV0dXJuIGAke3BsYXRmb3JtfS0ke2FkYXB0ZXJOYW1lc30tJHt2ZXJzaW9ufWA7XG4gICAgfSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICAgIGNyZWF0ZUFjY291bnQobmFtZXNwYWNlLCBhZGRyZXNzLCB0eXBlLCBwdWJsaWNLZXksIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcHVibGljS2V5LFxuICAgICAgICAgICAgcGF0aFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgaXNDYWlwQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWRkcmVzcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IGFkZHJlc3Muc3BsaXQoJzonKTtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gc2VjdGlvbnNbMF07XG4gICAgICAgIHJldHVybiAoc2VjdGlvbnMuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA9PT0gMyAmJlxuICAgICAgICAgICAgbmFtZXNwYWNlIGluIENvbW1vbkNvbnN0YW50cy5DSEFJTl9OQU1FX01BUCk7XG4gICAgfSxcbiAgICBnZXRBY2NvdW50KGFjY291bnQpIHtcbiAgICAgICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBhY2NvdW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhY2NvdW50LFxuICAgICAgICAgICAgICAgIGNoYWluSWQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogYWNjb3VudC5hZGRyZXNzLFxuICAgICAgICAgICAgY2hhaW5JZDogYWNjb3VudC5jaGFpbklkXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBpc01hYygpIHtcbiAgICAgICAgY29uc3QgdWEgPSB3aW5kb3c/Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHVhLmluY2x1ZGVzKCdtYWNpbnRvc2gnKSAmJiAhdWEuaW5jbHVkZXMoJ3NhZmFyaScpO1xuICAgIH0sXG4gICAgZm9ybWF0VGVsZWdyYW1Tb2NpYWxMb2dpblVybCh1cmwpIHtcbiAgICAgICAgY29uc3QgdmFsdWVUb0luamVjdCA9IGAtLSR7ZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdz8ubG9jYXRpb24uaHJlZil9YDtcbiAgICAgICAgY29uc3QgcGFyYW1Ub0luamVjdCA9ICdzdGF0ZT0nO1xuICAgICAgICBjb25zdCBwYXJzZWRVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIGlmIChwYXJzZWRVcmwuaG9zdCA9PT0gJ2F1dGgubWFnaWMubGluaycpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyUGFyYW0gPSAncHJvdmlkZXJfYXV0aG9yaXphdGlvbl91cmw9JztcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyVXJsID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZihwcm92aWRlclBhcmFtKSArIHByb3ZpZGVyUGFyYW0ubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFVybCA9IHRoaXMuaW5qZWN0SW50b1VybChkZWNvZGVVUklDb21wb25lbnQocHJvdmlkZXJVcmwpLCBwYXJhbVRvSW5qZWN0LCB2YWx1ZVRvSW5qZWN0KTtcbiAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZShwcm92aWRlclVybCwgZW5jb2RlVVJJQ29tcG9uZW50KHJlc3VsdFVybCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluamVjdEludG9VcmwodXJsLCBwYXJhbVRvSW5qZWN0LCB2YWx1ZVRvSW5qZWN0KTtcbiAgICB9LFxuICAgIGluamVjdEludG9VcmwodXJsLCBrZXksIGFwcGVuZFN0cmluZykge1xuICAgICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiBcImtleVwiIGUuZy4gXCJzdGF0ZT1cIiBpbiB0aGUgVVJMXG4gICAgICAgIGNvbnN0IGtleUluZGV4ID0gdXJsLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgaWYgKGtleUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2tleX0gcGFyYW1ldGVyIG5vdCBmb3VuZCBpbiB0aGUgVVJMOiAke3VybH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgbmV4dCBcIiZcIiBhZnRlciBcImtleVwiXG4gICAgICAgIGNvbnN0IGtleUVuZEluZGV4ID0gdXJsLmluZGV4T2YoJyYnLCBrZXlJbmRleCk7XG4gICAgICAgIGNvbnN0IGtleUxlbmd0aCA9IGtleS5sZW5ndGg7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIFwiJlwiIGFmdGVyIGtleSwgaXQgbWVhbnMgXCJrZXlcIiBpcyB0aGUgbGFzdCBwYXJhbWV0ZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lZ2F0ZWQtY29uZGl0aW9uXG4gICAgICAgIGNvbnN0IGtleVBhcmFtRW5kID0ga2V5RW5kSW5kZXggIT09IC0xID8ga2V5RW5kSW5kZXggOiB1cmwubGVuZ3RoO1xuICAgICAgICAvLyBFeHRyYWN0IHRoZSBwYXJ0IG9mIHRoZSBVUkwgYmVmb3JlIHRoZSBrZXkgdmFsdWVcbiAgICAgICAgY29uc3QgYmVmb3JlS2V5VmFsdWUgPSB1cmwuc3Vic3RyaW5nKDAsIGtleUluZGV4ICsga2V5TGVuZ3RoKTtcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgY3VycmVudCBrZXkgdmFsdWVcbiAgICAgICAgY29uc3QgY3VycmVudEtleVZhbHVlID0gdXJsLnN1YnN0cmluZyhrZXlJbmRleCArIGtleUxlbmd0aCwga2V5UGFyYW1FbmQpO1xuICAgICAgICAvLyBFeHRyYWN0IHRoZSBwYXJ0IG9mIHRoZSBVUkwgYWZ0ZXIgdGhlIGtleSB2YWx1ZVxuICAgICAgICBjb25zdCBhZnRlcktleVZhbHVlID0gdXJsLnN1YnN0cmluZyhrZXlFbmRJbmRleCk7XG4gICAgICAgIC8vIEFwcGVuZCB0aGUgbmV3IHN0cmluZyB0byB0aGUga2V5IHZhbHVlXG4gICAgICAgIGNvbnN0IG5ld0tleVZhbHVlID0gY3VycmVudEtleVZhbHVlICsgYXBwZW5kU3RyaW5nO1xuICAgICAgICAvLyBSZWNvbnN0cnVjdCB0aGUgVVJMIHdpdGggdGhlIGFwcGVuZGVkIGtleSB2YWx1ZVxuICAgICAgICBjb25zdCBuZXdVcmwgPSBiZWZvcmVLZXlWYWx1ZSArIG5ld0tleVZhbHVlICsgYWZ0ZXJLZXlWYWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ld1VybDtcbiAgICB9LFxuICAgIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWlzTmFOKE51bWJlcih2YWx1ZSkpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlSGVscGVyVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERC7811Utils: () => (/* binding */ ERC7811Utils)\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.44.4_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/viem/_esm/utils/unit/formatUnits.js\");\n\nconst ERC7811Utils = {\n    /**\n     * Creates a Balance object from an ERC7811 Asset object\n     * @param asset - Asset object to convert\n     * @param chainId - Chain ID in CAIP-2 format\n     * @returns Balance object\n     */\n    createBalance(asset, chainId) {\n        const metadata = {\n            name: (asset.metadata['name'] || ''),\n            symbol: (asset.metadata['symbol'] || ''),\n            decimals: (asset.metadata['decimals'] || 0),\n            value: (asset.metadata['value'] || 0),\n            price: (asset.metadata['price'] || 0),\n            iconUrl: (asset.metadata['iconUrl'] || '')\n        };\n        return {\n            name: metadata.name,\n            symbol: metadata.symbol,\n            chainId,\n            address: asset.address === 'native'\n                ? undefined\n                : this.convertAddressToCAIP10Address(asset.address, chainId),\n            value: metadata.value,\n            price: metadata.price,\n            quantity: {\n                decimals: metadata.decimals.toString(),\n                numeric: this.convertHexToBalance({\n                    hex: asset.balance,\n                    decimals: metadata.decimals\n                })\n            },\n            iconUrl: metadata.iconUrl\n        };\n    },\n    /**\n     * Converts a hex string to a Balance object\n     * @param hex - Hex string to convert\n     * @param decimals - Number of decimals to use\n     * @returns Balance object\n     */\n    convertHexToBalance({ hex, decimals }) {\n        return (0,viem__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(BigInt(hex), decimals);\n    },\n    /**\n     * Converts an address to a CAIP-10 address\n     * @param address - Address to convert\n     * @param chainId - Chain ID in CAIP-2 format\n     * @returns CAIP-10 address\n     */\n    convertAddressToCAIP10Address(address, chainId) {\n        return `${chainId}:${address}`;\n    },\n    /**\n     *  Creates a CAIP-2 Chain ID from a chain ID and namespace\n     * @param chainId  - Chain ID in hex format\n     * @param namespace  - Chain namespace\n     * @returns\n     */\n    createCAIP2ChainId(chainId, namespace) {\n        return `${namespace}:${parseInt(chainId, 16)}`;\n    },\n    /**\n     * Gets the chain ID in hex format from a CAIP-2 Chain ID\n     * @param caip2ChainId - CAIP-2 Chain ID\n     * @returns Chain ID in hex format\n     */\n    getChainIdHexFromCAIP2ChainId(caip2ChainId) {\n        const parts = caip2ChainId.split(':');\n        if (parts.length < 2 || !parts[1]) {\n            return '0x0';\n        }\n        const chainPart = parts[1];\n        const parsed = parseInt(chainPart, 10);\n        return isNaN(parsed) ? '0x0' : `0x${parsed.toString(16)}`;\n    },\n    /**\n     * Checks if a response is a valid WalletGetAssetsResponse\n     * @param response - The response to check\n     * @returns True if the response is a valid WalletGetAssetsResponse, false otherwise\n     */\n    isWalletGetAssetsResponse(response) {\n        // Check if response is an object and has the expected structure\n        if (typeof response !== 'object' || response === null) {\n            return false;\n        }\n        // Check if all values are arrays and conform to the expected asset structure\n        return Object.values(response).every(value => Array.isArray(value) && value.every(asset => this.isValidAsset(asset)));\n    },\n    /**\n     * Checks if an asset object is valid.\n     * @param asset - The asset object to check.\n     * @returns True if the asset is valid, false otherwise.\n     */\n    isValidAsset(asset) {\n        return (typeof asset === 'object' &&\n            asset !== null &&\n            typeof asset.address === 'string' &&\n            typeof asset.balance === 'string' &&\n            (asset.type === 'ERC20' || asset.type === 'NATIVE') &&\n            typeof asset.metadata === 'object' &&\n            asset.metadata !== null &&\n            typeof asset.metadata['name'] === 'string' &&\n            typeof asset.metadata['symbol'] === 'string' &&\n            typeof asset.metadata['decimals'] === 'number' &&\n            typeof asset.metadata['price'] === 'number' &&\n            typeof asset.metadata['iconUrl'] === 'string');\n    }\n};\n//# sourceMappingURL=ERC7811Util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FUkM3ODExVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQztBQUM1QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWU7QUFDekMsZUFBZSxpREFBVztBQUMxQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUSxHQUFHLFFBQVE7QUFDckMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsR0FBRyxzQkFBc0I7QUFDckQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxvQkFBb0I7QUFDaEUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FUkM3ODExVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXRVbml0cyB9IGZyb20gJ3ZpZW0nO1xuZXhwb3J0IGNvbnN0IEVSQzc4MTFVdGlscyA9IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQmFsYW5jZSBvYmplY3QgZnJvbSBhbiBFUkM3ODExIEFzc2V0IG9iamVjdFxuICAgICAqIEBwYXJhbSBhc3NldCAtIEFzc2V0IG9iamVjdCB0byBjb252ZXJ0XG4gICAgICogQHBhcmFtIGNoYWluSWQgLSBDaGFpbiBJRCBpbiBDQUlQLTIgZm9ybWF0XG4gICAgICogQHJldHVybnMgQmFsYW5jZSBvYmplY3RcbiAgICAgKi9cbiAgICBjcmVhdGVCYWxhbmNlKGFzc2V0LCBjaGFpbklkKSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogKGFzc2V0Lm1ldGFkYXRhWyduYW1lJ10gfHwgJycpLFxuICAgICAgICAgICAgc3ltYm9sOiAoYXNzZXQubWV0YWRhdGFbJ3N5bWJvbCddIHx8ICcnKSxcbiAgICAgICAgICAgIGRlY2ltYWxzOiAoYXNzZXQubWV0YWRhdGFbJ2RlY2ltYWxzJ10gfHwgMCksXG4gICAgICAgICAgICB2YWx1ZTogKGFzc2V0Lm1ldGFkYXRhWyd2YWx1ZSddIHx8IDApLFxuICAgICAgICAgICAgcHJpY2U6IChhc3NldC5tZXRhZGF0YVsncHJpY2UnXSB8fCAwKSxcbiAgICAgICAgICAgIGljb25Vcmw6IChhc3NldC5tZXRhZGF0YVsnaWNvblVybCddIHx8ICcnKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogbWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgIHN5bWJvbDogbWV0YWRhdGEuc3ltYm9sLFxuICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgIGFkZHJlc3M6IGFzc2V0LmFkZHJlc3MgPT09ICduYXRpdmUnXG4gICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA6IHRoaXMuY29udmVydEFkZHJlc3NUb0NBSVAxMEFkZHJlc3MoYXNzZXQuYWRkcmVzcywgY2hhaW5JZCksXG4gICAgICAgICAgICB2YWx1ZTogbWV0YWRhdGEudmFsdWUsXG4gICAgICAgICAgICBwcmljZTogbWV0YWRhdGEucHJpY2UsXG4gICAgICAgICAgICBxdWFudGl0eToge1xuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBtZXRhZGF0YS5kZWNpbWFscy50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG51bWVyaWM6IHRoaXMuY29udmVydEhleFRvQmFsYW5jZSh7XG4gICAgICAgICAgICAgICAgICAgIGhleDogYXNzZXQuYmFsYW5jZSxcbiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IG1ldGFkYXRhLmRlY2ltYWxzXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpY29uVXJsOiBtZXRhZGF0YS5pY29uVXJsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIGhleCBzdHJpbmcgdG8gYSBCYWxhbmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSBoZXggLSBIZXggc3RyaW5nIHRvIGNvbnZlcnRcbiAgICAgKiBAcGFyYW0gZGVjaW1hbHMgLSBOdW1iZXIgb2YgZGVjaW1hbHMgdG8gdXNlXG4gICAgICogQHJldHVybnMgQmFsYW5jZSBvYmplY3RcbiAgICAgKi9cbiAgICBjb252ZXJ0SGV4VG9CYWxhbmNlKHsgaGV4LCBkZWNpbWFscyB9KSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRVbml0cyhCaWdJbnQoaGV4KSwgZGVjaW1hbHMpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYWRkcmVzcyB0byBhIENBSVAtMTAgYWRkcmVzc1xuICAgICAqIEBwYXJhbSBhZGRyZXNzIC0gQWRkcmVzcyB0byBjb252ZXJ0XG4gICAgICogQHBhcmFtIGNoYWluSWQgLSBDaGFpbiBJRCBpbiBDQUlQLTIgZm9ybWF0XG4gICAgICogQHJldHVybnMgQ0FJUC0xMCBhZGRyZXNzXG4gICAgICovXG4gICAgY29udmVydEFkZHJlc3NUb0NBSVAxMEFkZHJlc3MoYWRkcmVzcywgY2hhaW5JZCkge1xuICAgICAgICByZXR1cm4gYCR7Y2hhaW5JZH06JHthZGRyZXNzfWA7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiAgQ3JlYXRlcyBhIENBSVAtMiBDaGFpbiBJRCBmcm9tIGEgY2hhaW4gSUQgYW5kIG5hbWVzcGFjZVxuICAgICAqIEBwYXJhbSBjaGFpbklkICAtIENoYWluIElEIGluIGhleCBmb3JtYXRcbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlICAtIENoYWluIG5hbWVzcGFjZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgY3JlYXRlQ0FJUDJDaGFpbklkKGNoYWluSWQsIG5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gYCR7bmFtZXNwYWNlfToke3BhcnNlSW50KGNoYWluSWQsIDE2KX1gO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY2hhaW4gSUQgaW4gaGV4IGZvcm1hdCBmcm9tIGEgQ0FJUC0yIENoYWluIElEXG4gICAgICogQHBhcmFtIGNhaXAyQ2hhaW5JZCAtIENBSVAtMiBDaGFpbiBJRFxuICAgICAqIEByZXR1cm5zIENoYWluIElEIGluIGhleCBmb3JtYXRcbiAgICAgKi9cbiAgICBnZXRDaGFpbklkSGV4RnJvbUNBSVAyQ2hhaW5JZChjYWlwMkNoYWluSWQpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBjYWlwMkNoYWluSWQuc3BsaXQoJzonKTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8IDIgfHwgIXBhcnRzWzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gJzB4MCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW5QYXJ0ID0gcGFydHNbMV07XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KGNoYWluUGFydCwgMTApO1xuICAgICAgICByZXR1cm4gaXNOYU4ocGFyc2VkKSA/ICcweDAnIDogYDB4JHtwYXJzZWQudG9TdHJpbmcoMTYpfWA7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSByZXNwb25zZSBpcyBhIHZhbGlkIFdhbGxldEdldEFzc2V0c1Jlc3BvbnNlXG4gICAgICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlIHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcmVzcG9uc2UgaXMgYSB2YWxpZCBXYWxsZXRHZXRBc3NldHNSZXNwb25zZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNXYWxsZXRHZXRBc3NldHNSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBhbiBvYmplY3QgYW5kIGhhcyB0aGUgZXhwZWN0ZWQgc3RydWN0dXJlXG4gICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICdvYmplY3QnIHx8IHJlc3BvbnNlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHZhbHVlcyBhcmUgYXJyYXlzIGFuZCBjb25mb3JtIHRvIHRoZSBleHBlY3RlZCBhc3NldCBzdHJ1Y3R1cmVcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzcG9uc2UpLmV2ZXJ5KHZhbHVlID0+IEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGFzc2V0ID0+IHRoaXMuaXNWYWxpZEFzc2V0KGFzc2V0KSkpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGFuIGFzc2V0IG9iamVjdCBpcyB2YWxpZC5cbiAgICAgKiBAcGFyYW0gYXNzZXQgLSBUaGUgYXNzZXQgb2JqZWN0IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGFzc2V0IGlzIHZhbGlkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNWYWxpZEFzc2V0KGFzc2V0KSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGFzc2V0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgYXNzZXQgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5hZGRyZXNzID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdHlwZW9mIGFzc2V0LmJhbGFuY2UgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAoYXNzZXQudHlwZSA9PT0gJ0VSQzIwJyB8fCBhc3NldC50eXBlID09PSAnTkFUSVZFJykgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5tZXRhZGF0YSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGFzc2V0Lm1ldGFkYXRhICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQubWV0YWRhdGFbJ25hbWUnXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhc3NldC5tZXRhZGF0YVsnc3ltYm9sJ10gPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQubWV0YWRhdGFbJ2RlY2ltYWxzJ10gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQubWV0YWRhdGFbJ3ByaWNlJ10gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0eXBlb2YgYXNzZXQubWV0YWRhdGFbJ2ljb25VcmwnXSA9PT0gJ3N0cmluZycpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FUkM3ODExVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ERC7811Util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnsUtil: () => (/* binding */ EnsUtil)\n/* harmony export */ });\nconst SLIP44_MSB = 0x80000000;\nconst EnsUtil = {\n    convertEVMChainIdToCoinType(chainId) {\n        if (chainId >= SLIP44_MSB) {\n            throw new Error('Invalid chainId');\n        }\n        return (SLIP44_MSB | chainId) >>> 0;\n    }\n};\n//# sourceMappingURL=EnsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FbnNVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0Vuc1V0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0xJUDQ0X01TQiA9IDB4ODAwMDAwMDA7XG5leHBvcnQgY29uc3QgRW5zVXRpbCA9IHtcbiAgICBjb252ZXJ0RVZNQ2hhaW5JZFRvQ29pblR5cGUoY2hhaW5JZCkge1xuICAgICAgICBpZiAoY2hhaW5JZCA+PSBTTElQNDRfTVNCKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY2hhaW5JZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoU0xJUDQ0X01TQiB8IGNoYWluSWQpID4+PiAwO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbnNVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/EnsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assets: () => (/* binding */ assets),\n/* harmony export */   baseSepoliaUSDC: () => (/* binding */ baseSepoliaUSDC),\n/* harmony export */   baseUSDC: () => (/* binding */ baseUSDC),\n/* harmony export */   formatCaip19Asset: () => (/* binding */ formatCaip19Asset),\n/* harmony export */   getApiUrl: () => (/* binding */ getApiUrl),\n/* harmony export */   getBuyStatus: () => (/* binding */ getBuyStatus),\n/* harmony export */   getExchanges: () => (/* binding */ getExchanges),\n/* harmony export */   getPayUrl: () => (/* binding */ getPayUrl),\n/* harmony export */   getPaymentAssetsForNetwork: () => (/* binding */ getPaymentAssetsForNetwork)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\nconst CHAIN_ASSET_INFO_MAP = {\n    eip155: {\n        native: { assetNamespace: 'slip44', assetReference: '60' },\n        defaultTokenNamespace: 'erc20'\n    },\n    solana: {\n        native: { assetNamespace: 'slip44', assetReference: '501' },\n        defaultTokenNamespace: 'token'\n    }\n};\nclass JsonRpcError extends Error {\n}\nfunction getApiUrl() {\n    const { sdkType, sdkVersion, projectId } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.getSnapshot();\n    const url = new URL('https://rpc.walletconnect.org/v1/json-rpc');\n    url.searchParams.set('projectId', projectId);\n    url.searchParams.set('st', sdkType);\n    url.searchParams.set('sv', sdkVersion);\n    url.searchParams.set('source', 'fund-wallet');\n    return url.toString();\n}\nasync function sendRequest(method, params) {\n    const url = getApiUrl();\n    const { projectId } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.getSnapshot();\n    const requestBody = {\n        jsonrpc: '2.0',\n        id: 1,\n        method,\n        params: {\n            ...(params || {}),\n            projectId\n        }\n    };\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: { 'Content-Type': 'application/json' }\n    });\n    const json = await response.json();\n    if (json.error) {\n        throw new JsonRpcError(json.error.message);\n    }\n    return json;\n}\nasync function getExchanges(params) {\n    const response = await sendRequest('reown_getExchanges', params);\n    return response.result;\n}\nasync function getPayUrl(params) {\n    const response = await sendRequest('reown_getExchangePayUrl', params);\n    return response.result;\n}\nasync function getBuyStatus(params) {\n    const response = await sendRequest('reown_getExchangeBuyStatus', params);\n    return response.result;\n}\nfunction formatCaip19Asset(caipNetworkId, asset) {\n    const { chainNamespace, chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ParseUtil.parseCaipNetworkId(caipNetworkId);\n    const chainInfo = CHAIN_ASSET_INFO_MAP[chainNamespace];\n    if (!chainInfo) {\n        throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${chainNamespace}`);\n    }\n    let assetNamespace = chainInfo.native.assetNamespace;\n    let assetReference = chainInfo.native.assetReference;\n    if (asset !== 'native') {\n        assetNamespace = chainInfo.defaultTokenNamespace;\n        assetReference = asset;\n    }\n    const networkPart = `${chainNamespace}:${chainId}`;\n    return `${networkPart}/${assetNamespace}:${assetReference}`;\n}\n// -- Assets ------------------------------------------------------------------ //\nconst ethereumETH = {\n    network: 'eip155:1',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst baseETH = {\n    network: 'eip155:8453',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst baseUSDC = {\n    network: 'eip155:8453',\n    asset: '0x833589fcd6edb6e08f4c7c32d4f71b54bda02913',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst baseSepoliaUSDC = {\n    network: 'eip155:84532',\n    asset: '0x036CbD53842c5426634e7929541eC2318f3dCF7e',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst baseSepoliaETH = {\n    network: 'eip155:84532',\n    asset: 'native',\n    metadata: {\n        name: 'Ethereum',\n        symbol: 'ETH',\n        decimals: 18\n    }\n};\nconst ethereumUSDC = {\n    network: 'eip155:1',\n    asset: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst arbitrumUSDC = {\n    network: 'eip155:42161',\n    asset: '0xaf88d065e77c8cC2239327C5EDb3A432268e5831',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst polygonUSDC = {\n    network: 'eip155:137',\n    asset: '0x2791bca1f2de4661ed88a30c99a7a9449aa84174',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst solanaUSDC = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',\n    metadata: {\n        name: 'USD Coin',\n        symbol: 'USDC',\n        decimals: 6\n    }\n};\nconst ethereumUSDT = {\n    network: 'eip155:1',\n    asset: '0xdAC17F958D2ee523a2206206994597C13D831ec7',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst optimismUSDT = {\n    network: 'eip155:10',\n    asset: '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst arbitrumUSDT = {\n    network: 'eip155:42161',\n    asset: '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst polygonUSDT = {\n    network: 'eip155:137',\n    asset: '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst solanaUSDT = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB',\n    metadata: {\n        name: 'Tether USD',\n        symbol: 'USDT',\n        decimals: 6\n    }\n};\nconst solanaSOL = {\n    network: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\n    asset: 'native',\n    metadata: {\n        name: 'Solana',\n        symbol: 'SOL',\n        decimals: 9\n    }\n};\nconst assets = {\n    ethereumETH,\n    baseETH,\n    baseUSDC,\n    baseSepoliaETH,\n    ethereumUSDC,\n    arbitrumUSDC,\n    polygonUSDC,\n    solanaUSDC,\n    ethereumUSDT,\n    optimismUSDT,\n    arbitrumUSDT,\n    polygonUSDT,\n    solanaUSDT,\n    solanaSOL\n};\nfunction getPaymentAssetsForNetwork(network) {\n    return Object.values(assets).filter(asset => asset.network === network);\n}\n//# sourceMappingURL=ExchangeUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9FeGNoYW5nZVV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDdUI7QUFDeEU7QUFDQTtBQUNBLGtCQUFrQixnREFBZ0Q7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQSxrQkFBa0IsaURBQWlEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksaUNBQWlDLEVBQUUsZ0ZBQWlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWSxFQUFFLGdGQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLDBCQUEwQixFQUFFLDJEQUFTO0FBQ2pEO0FBQ0E7QUFDQSwrRUFBK0UsZUFBZTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixlQUFlLEdBQUcsUUFBUTtBQUNyRCxjQUFjLFlBQVksR0FBRyxlQUFlLEdBQUcsZUFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL0V4Y2hhbmdlVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL09wdGlvbnNDb250cm9sbGVyLmpzJztcbmNvbnN0IENIQUlOX0FTU0VUX0lORk9fTUFQID0ge1xuICAgIGVpcDE1NToge1xuICAgICAgICBuYXRpdmU6IHsgYXNzZXROYW1lc3BhY2U6ICdzbGlwNDQnLCBhc3NldFJlZmVyZW5jZTogJzYwJyB9LFxuICAgICAgICBkZWZhdWx0VG9rZW5OYW1lc3BhY2U6ICdlcmMyMCdcbiAgICB9LFxuICAgIHNvbGFuYToge1xuICAgICAgICBuYXRpdmU6IHsgYXNzZXROYW1lc3BhY2U6ICdzbGlwNDQnLCBhc3NldFJlZmVyZW5jZTogJzUwMScgfSxcbiAgICAgICAgZGVmYXVsdFRva2VuTmFtZXNwYWNlOiAndG9rZW4nXG4gICAgfVxufTtcbmNsYXNzIEpzb25ScGNFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcGlVcmwoKSB7XG4gICAgY29uc3QgeyBzZGtUeXBlLCBzZGtWZXJzaW9uLCBwcm9qZWN0SWQgfSA9IE9wdGlvbnNDb250cm9sbGVyLmdldFNuYXBzaG90KCk7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCgnaHR0cHM6Ly9ycGMud2FsbGV0Y29ubmVjdC5vcmcvdjEvanNvbi1ycGMnKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncHJvamVjdElkJywgcHJvamVjdElkKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3QnLCBzZGtUeXBlKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc3YnLCBzZGtWZXJzaW9uKTtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnc291cmNlJywgJ2Z1bmQtd2FsbGV0Jyk7XG4gICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xufVxuYXN5bmMgZnVuY3Rpb24gc2VuZFJlcXVlc3QobWV0aG9kLCBwYXJhbXMpIHtcbiAgICBjb25zdCB1cmwgPSBnZXRBcGlVcmwoKTtcbiAgICBjb25zdCB7IHByb2plY3RJZCB9ID0gT3B0aW9uc0NvbnRyb2xsZXIuZ2V0U25hcHNob3QoKTtcbiAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgIGlkOiAxLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgLi4uKHBhcmFtcyB8fCB7fSksXG4gICAgICAgICAgICBwcm9qZWN0SWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9KTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmIChqc29uLmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBKc29uUnBjRXJyb3IoanNvbi5lcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RXhjaGFuZ2VzKHBhcmFtcykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QoJ3Jlb3duX2dldEV4Y2hhbmdlcycsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXlVcmwocGFyYW1zKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdCgncmVvd25fZ2V0RXhjaGFuZ2VQYXlVcmwnLCBwYXJhbXMpO1xuICAgIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QnV5U3RhdHVzKHBhcmFtcykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QoJ3Jlb3duX2dldEV4Y2hhbmdlQnV5U3RhdHVzJywgcGFyYW1zKTtcbiAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdENhaXAxOUFzc2V0KGNhaXBOZXR3b3JrSWQsIGFzc2V0KSB7XG4gICAgY29uc3QgeyBjaGFpbk5hbWVzcGFjZSwgY2hhaW5JZCB9ID0gUGFyc2VVdGlsLnBhcnNlQ2FpcE5ldHdvcmtJZChjYWlwTmV0d29ya0lkKTtcbiAgICBjb25zdCBjaGFpbkluZm8gPSBDSEFJTl9BU1NFVF9JTkZPX01BUFtjaGFpbk5hbWVzcGFjZV07XG4gICAgaWYgKCFjaGFpbkluZm8pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaGFpbiBuYW1lc3BhY2UgZm9yIENBSVAtMTkgZm9ybWF0dGluZzogJHtjaGFpbk5hbWVzcGFjZX1gKTtcbiAgICB9XG4gICAgbGV0IGFzc2V0TmFtZXNwYWNlID0gY2hhaW5JbmZvLm5hdGl2ZS5hc3NldE5hbWVzcGFjZTtcbiAgICBsZXQgYXNzZXRSZWZlcmVuY2UgPSBjaGFpbkluZm8ubmF0aXZlLmFzc2V0UmVmZXJlbmNlO1xuICAgIGlmIChhc3NldCAhPT0gJ25hdGl2ZScpIHtcbiAgICAgICAgYXNzZXROYW1lc3BhY2UgPSBjaGFpbkluZm8uZGVmYXVsdFRva2VuTmFtZXNwYWNlO1xuICAgICAgICBhc3NldFJlZmVyZW5jZSA9IGFzc2V0O1xuICAgIH1cbiAgICBjb25zdCBuZXR3b3JrUGFydCA9IGAke2NoYWluTmFtZXNwYWNlfToke2NoYWluSWR9YDtcbiAgICByZXR1cm4gYCR7bmV0d29ya1BhcnR9LyR7YXNzZXROYW1lc3BhY2V9OiR7YXNzZXRSZWZlcmVuY2V9YDtcbn1cbi8vIC0tIEFzc2V0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmNvbnN0IGV0aGVyZXVtRVRIID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6MScsXG4gICAgYXNzZXQ6ICduYXRpdmUnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgIH1cbn07XG5jb25zdCBiYXNlRVRIID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6ODQ1MycsXG4gICAgYXNzZXQ6ICduYXRpdmUnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgYmFzZVVTREMgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NTo4NDUzJyxcbiAgICBhc3NldDogJzB4ODMzNTg5ZmNkNmVkYjZlMDhmNGM3YzMyZDRmNzFiNTRiZGEwMjkxMycsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1VTRCBDb2luJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEQycsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBiYXNlU2Vwb2xpYVVTREMgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NTo4NDUzMicsXG4gICAgYXNzZXQ6ICcweDAzNkNiRDUzODQyYzU0MjY2MzRlNzkyOTU0MWVDMjMxOGYzZENGN2UnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdVU0QgQ29pbicsXG4gICAgICAgIHN5bWJvbDogJ1VTREMnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBiYXNlU2Vwb2xpYUVUSCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1Ojg0NTMyJyxcbiAgICBhc3NldDogJ25hdGl2ZScsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ0V0aGVyZXVtJyxcbiAgICAgICAgc3ltYm9sOiAnRVRIJyxcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgfVxufTtcbmNvbnN0IGV0aGVyZXVtVVNEQyA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjEnLFxuICAgIGFzc2V0OiAnMHhBMGI4Njk5MWM2MjE4YjM2YzFkMTlENGEyZTlFYjBjRTM2MDZlQjQ4JyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3QgYXJiaXRydW1VU0RDID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6NDIxNjEnLFxuICAgIGFzc2V0OiAnMHhhZjg4ZDA2NWU3N2M4Y0MyMjM5MzI3QzVFRGIzQTQzMjI2OGU1ODMxJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3QgcG9seWdvblVTREMgPSB7XG4gICAgbmV0d29yazogJ2VpcDE1NToxMzcnLFxuICAgIGFzc2V0OiAnMHgyNzkxYmNhMWYyZGU0NjYxZWQ4OGEzMGM5OWE3YTk0NDlhYTg0MTc0JyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3Qgc29sYW5hVVNEQyA9IHtcbiAgICBuZXR3b3JrOiAnc29sYW5hOjVleWt0NFVzRnY4UDhOSmRUUkVwWTF2enFLcVpLdmRwJyxcbiAgICBhc3NldDogJ0VQakZXZGQ1QXVmcVNTcWVNMnFOMXh6eWJhcEM4RzR3RUdHa1p3eVREdDF2JyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVVNEIENvaW4nLFxuICAgICAgICBzeW1ib2w6ICdVU0RDJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3QgZXRoZXJldW1VU0RUID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6MScsXG4gICAgYXNzZXQ6ICcweGRBQzE3Rjk1OEQyZWU1MjNhMjIwNjIwNjk5NDU5N0MxM0Q4MzFlYzcnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdUZXRoZXIgVVNEJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEVCcsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IG9wdGltaXNtVVNEVCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjEwJyxcbiAgICBhc3NldDogJzB4OTRiMDA4YUEwMDU3OWMxMzA3QjBFRjJjNDk5YUQ5OGE4Y2U1OGU1OCcsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1RldGhlciBVU0QnLFxuICAgICAgICBzeW1ib2w6ICdVU0RUJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3QgYXJiaXRydW1VU0RUID0ge1xuICAgIG5ldHdvcms6ICdlaXAxNTU6NDIxNjEnLFxuICAgIGFzc2V0OiAnMHhGZDA4NmJDN0NENUM0ODFEQ0M5Qzg1ZWJFNDc4QTFDMGI2OUZDYmI5JyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnVGV0aGVyIFVTRCcsXG4gICAgICAgIHN5bWJvbDogJ1VTRFQnLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgIH1cbn07XG5jb25zdCBwb2x5Z29uVVNEVCA9IHtcbiAgICBuZXR3b3JrOiAnZWlwMTU1OjEzNycsXG4gICAgYXNzZXQ6ICcweGMyMTMyZDA1ZDMxYzkxNGE4N2M2NjExYzEwNzQ4YWViMDRiNThlOGYnLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG5hbWU6ICdUZXRoZXIgVVNEJyxcbiAgICAgICAgc3ltYm9sOiAnVVNEVCcsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgfVxufTtcbmNvbnN0IHNvbGFuYVVTRFQgPSB7XG4gICAgbmV0d29yazogJ3NvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcCcsXG4gICAgYXNzZXQ6ICdFczl2TUZyemFDRVJtSmZyRjRIMkZZRDRLQ29Oa1kxMU1jQ2U4QmVud05ZQicsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbmFtZTogJ1RldGhlciBVU0QnLFxuICAgICAgICBzeW1ib2w6ICdVU0RUJyxcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICB9XG59O1xuY29uc3Qgc29sYW5hU09MID0ge1xuICAgIG5ldHdvcms6ICdzb2xhbmE6NWV5a3Q0VXNGdjhQOE5KZFRSRXBZMXZ6cUtxWkt2ZHAnLFxuICAgIGFzc2V0OiAnbmF0aXZlJyxcbiAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiAnU29sYW5hJyxcbiAgICAgICAgc3ltYm9sOiAnU09MJyxcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGFzc2V0cyA9IHtcbiAgICBldGhlcmV1bUVUSCxcbiAgICBiYXNlRVRILFxuICAgIGJhc2VVU0RDLFxuICAgIGJhc2VTZXBvbGlhRVRILFxuICAgIGV0aGVyZXVtVVNEQyxcbiAgICBhcmJpdHJ1bVVTREMsXG4gICAgcG9seWdvblVTREMsXG4gICAgc29sYW5hVVNEQyxcbiAgICBldGhlcmV1bVVTRFQsXG4gICAgb3B0aW1pc21VU0RULFxuICAgIGFyYml0cnVtVVNEVCxcbiAgICBwb2x5Z29uVVNEVCxcbiAgICBzb2xhbmFVU0RULFxuICAgIHNvbGFuYVNPTFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXltZW50QXNzZXRzRm9yTmV0d29yayhuZXR3b3JrKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoYXNzZXRzKS5maWx0ZXIoYXNzZXQgPT4gYXNzZXQubmV0d29yayA9PT0gbmV0d29yayk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeGNoYW5nZVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ExchangeUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchUtil: () => (/* binding */ FetchUtil)\n/* harmony export */ });\nasync function fetchData(...args) {\n    const response = await fetch(...args);\n    if (!response.ok) {\n        // Create error object and reject if not a 2xx response code\n        const err = new Error(`HTTP status code: ${response.status}`, {\n            cause: response\n        });\n        throw err;\n    }\n    return response;\n}\n// -- Utility --------------------------------------------------------------------\nclass FetchUtil {\n    constructor({ baseUrl, clientId }) {\n        this.baseUrl = baseUrl;\n        this.clientId = clientId;\n    }\n    async get({ headers, signal, cache, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, { method: 'GET', headers, signal, cache });\n        return response.json();\n    }\n    async getBlob({ headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, { method: 'GET', headers, signal });\n        return response.blob();\n    }\n    async post({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'POST',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    async put({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'PUT',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    async delete({ body, headers, signal, ...args }) {\n        const url = this.createUrl(args);\n        const response = await fetchData(url, {\n            method: 'DELETE',\n            headers,\n            body: body ? JSON.stringify(body) : undefined,\n            signal\n        });\n        return response.json();\n    }\n    createUrl({ path, params }) {\n        const url = new URL(path, this.baseUrl);\n        if (params) {\n            Object.entries(params).forEach(([key, value]) => {\n                if (value) {\n                    url.searchParams.append(key, value);\n                }\n            });\n        }\n        if (this.clientId) {\n            url.searchParams.append('clientId', this.clientId);\n        }\n        return url;\n    }\n    sendBeacon({ body, ...args }) {\n        const url = this.createUrl(args);\n        return navigator.sendBeacon(url.toString(), body ? JSON.stringify(body) : undefined);\n    }\n}\n//# sourceMappingURL=FetchUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9GZXRjaFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdCQUFnQjtBQUNuRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQ0FBaUM7QUFDakQ7QUFDQSxnREFBZ0QsdUNBQXVDO0FBQ3ZGO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0EsZ0RBQWdELGdDQUFnQztBQUNoRjtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdCQUFnQixnQ0FBZ0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQkFBbUIsZ0NBQWdDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9GZXRjaFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKC4uLmFyZ3MpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKC4uLmFyZ3MpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgLy8gQ3JlYXRlIGVycm9yIG9iamVjdCBhbmQgcmVqZWN0IGlmIG5vdCBhIDJ4eCByZXNwb25zZSBjb2RlXG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgSFRUUCBzdGF0dXMgY29kZTogJHtyZXNwb25zZS5zdGF0dXN9YCwge1xuICAgICAgICAgICAgY2F1c2U6IHJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbn1cbi8vIC0tIFV0aWxpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBGZXRjaFV0aWwge1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgY2xpZW50SWQgfSkge1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG4gICAgfVxuICAgIGFzeW5jIGdldCh7IGhlYWRlcnMsIHNpZ25hbCwgY2FjaGUsIC4uLmFyZ3MgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNyZWF0ZVVybChhcmdzKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaERhdGEodXJsLCB7IG1ldGhvZDogJ0dFVCcsIGhlYWRlcnMsIHNpZ25hbCwgY2FjaGUgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldEJsb2IoeyBoZWFkZXJzLCBzaWduYWwsIC4uLmFyZ3MgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNyZWF0ZVVybChhcmdzKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaERhdGEodXJsLCB7IG1ldGhvZDogJ0dFVCcsIGhlYWRlcnMsIHNpZ25hbCB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICB9XG4gICAgYXN5bmMgcG9zdCh7IGJvZHksIGhlYWRlcnMsIHNpZ25hbCwgLi4uYXJncyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKGFyZ3MpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRGF0YSh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNpZ25hbFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgYXN5bmMgcHV0KHsgYm9keSwgaGVhZGVycywgc2lnbmFsLCAuLi5hcmdzIH0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5jcmVhdGVVcmwoYXJncyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hEYXRhKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzaWduYWxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZSh7IGJvZHksIGhlYWRlcnMsIHNpZ25hbCwgLi4uYXJncyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKGFyZ3MpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoRGF0YSh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2lnbmFsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICBjcmVhdGVVcmwoeyBwYXRoLCBwYXJhbXMgfSkge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHBhdGgsIHRoaXMuYmFzZVVybCk7XG4gICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsaWVudElkKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnY2xpZW50SWQnLCB0aGlzLmNsaWVudElkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBzZW5kQmVhY29uKHsgYm9keSwgLi4uYXJncyB9KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY3JlYXRlVXJsKGFyZ3MpO1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlbmRCZWFjb24odXJsLnRvU3RyaW5nKCksIGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmV0Y2hVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/FetchUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js":
/*!*******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js ***!
  \*******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CUSTOM_DEEPLINK_WALLETS: () => (/* binding */ CUSTOM_DEEPLINK_WALLETS),\n/* harmony export */   MobileWalletUtil: () => (/* binding */ MobileWalletUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n\n\n/*\n * Exclude wallets that do not support relay connections but have custom deeplink mechanisms\n * Excludes:\n * - Phantom\n * - Coinbase\n */\nconst CUSTOM_DEEPLINK_WALLETS = {\n    PHANTOM: {\n        id: 'a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393',\n        url: 'https://phantom.app'\n    },\n    SOLFLARE: {\n        id: '1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79',\n        url: 'https://solflare.com'\n    },\n    COINBASE: {\n        id: 'fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa',\n        url: 'https://go.cb-w.com'\n    },\n    /*\n     * Got details from their npm package:\n     * https://www.npmjs.com/package/@binance/w3w-utils?activeTab=code\n     * https://developers.binance.com/docs/binance-w3w/evm-compatible-provider#getdeeplink\n     */\n    BINANCE: {\n        id: '2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25',\n        appId: 'yFK5FCqYprrXDiVFbhyRx7',\n        deeplink: 'bnc://app.binance.com/mp/app',\n        url: 'https://app.binance.com/en/download'\n    }\n};\nconst MobileWalletUtil = {\n    /**\n     * Handles mobile wallet redirection for wallets that have Universal Links and doesn't support WalletConnect Deep Links.\n     *\n     * @param {string} id - The id of the wallet.\n     * @param {ChainNamespace} namespace - The namespace of the chain.\n     */\n    handleMobileDeeplinkRedirect(id, namespace) {\n        /**\n         * Universal Links requires explicit user interaction to open the wallet app.\n         * Previously we've been calling this with the life-cycle methods in the Solana clients by listening the SELECT_WALLET event of EventController.\n         * But this breaks the UL functionality for some wallets like Phantom.\n         */\n        const href = window.location.href;\n        const encodedHref = encodeURIComponent(href);\n        if (id === CUSTOM_DEEPLINK_WALLETS.PHANTOM.id && !('phantom' in window)) {\n            const protocol = href.startsWith('https') ? 'https' : 'http';\n            const host = href.split('/')[2];\n            const encodedRef = encodeURIComponent(`${protocol}://${host}`);\n            window.location.href = `${CUSTOM_DEEPLINK_WALLETS.PHANTOM.url}/ul/browse/${encodedHref}?ref=${encodedRef}`;\n        }\n        if (id === CUSTOM_DEEPLINK_WALLETS.SOLFLARE.id && !('solflare' in window)) {\n            window.location.href = `${CUSTOM_DEEPLINK_WALLETS.SOLFLARE.url}/ul/v1/browse/${encodedHref}?ref=${encodedHref}`;\n        }\n        if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.SOLANA) {\n            if (id === CUSTOM_DEEPLINK_WALLETS.COINBASE.id && !('coinbaseSolana' in window)) {\n                window.location.href = `${CUSTOM_DEEPLINK_WALLETS.COINBASE.url}/dapp?cb_url=${encodedHref}`;\n            }\n        }\n        /*\n         * Binance Web3 Wallet doesn't support WalletConnect for Bitcoin.\n         * For now we use their deeplink to open the in-app browser instead.\n         */\n        if (namespace === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.CHAIN.BITCOIN) {\n            if (id === CUSTOM_DEEPLINK_WALLETS.BINANCE.id && !('binancew3w' in window)) {\n                const activeCaipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork;\n                const startPagePath = window.btoa('/pages/browser/index');\n                const startPageQuery = window.btoa(`url=${encodedHref}&defaultChainId=${activeCaipNetwork?.id ?? 1}`);\n                const deeplink = new URL(CUSTOM_DEEPLINK_WALLETS.BINANCE.deeplink);\n                deeplink.searchParams.set('appId', CUSTOM_DEEPLINK_WALLETS.BINANCE.appId);\n                deeplink.searchParams.set('startPagePath', startPagePath);\n                deeplink.searchParams.set('startPageQuery', startPageQuery);\n                const universalLink = new URL(CUSTOM_DEEPLINK_WALLETS.BINANCE.url);\n                universalLink.searchParams.set('_dp', window.btoa(deeplink.toString()));\n                window.location.href = universalLink.toString();\n            }\n        }\n    }\n};\n//# sourceMappingURL=MobileWallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Nb2JpbGVXYWxsZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRDtBQUNlO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFNBQVMsS0FBSyxLQUFLO0FBQ3hFLHNDQUFzQyxvQ0FBb0MsYUFBYSxZQUFZLE9BQU8sV0FBVztBQUNySDtBQUNBO0FBQ0Esc0NBQXNDLHFDQUFxQyxnQkFBZ0IsWUFBWSxPQUFPLFlBQVk7QUFDMUg7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkM7QUFDQSwwQ0FBMEMscUNBQXFDLGVBQWUsWUFBWTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0RBQWE7QUFDdkM7QUFDQSwwQ0FBMEMsNEVBQWU7QUFDekQ7QUFDQSwwREFBMEQsWUFBWSxrQkFBa0IsMkJBQTJCO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL01vYmlsZVdhbGxldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbi8qXG4gKiBFeGNsdWRlIHdhbGxldHMgdGhhdCBkbyBub3Qgc3VwcG9ydCByZWxheSBjb25uZWN0aW9ucyBidXQgaGF2ZSBjdXN0b20gZGVlcGxpbmsgbWVjaGFuaXNtc1xuICogRXhjbHVkZXM6XG4gKiAtIFBoYW50b21cbiAqIC0gQ29pbmJhc2VcbiAqL1xuZXhwb3J0IGNvbnN0IENVU1RPTV9ERUVQTElOS19XQUxMRVRTID0ge1xuICAgIFBIQU5UT006IHtcbiAgICAgICAgaWQ6ICdhNzk3YWEzNWMwZmFkYmZjMWE1M2U3ZjY3NTE2MmVkNTIyNjk2OGI0NGExOWVlM2QyNDM4NWM2NGQxZDNjMzkzJyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9waGFudG9tLmFwcCdcbiAgICB9LFxuICAgIFNPTEZMQVJFOiB7XG4gICAgICAgIGlkOiAnMWNhMGJkZDQ3NDc1Nzg3MDViMTkzOWFmMDIzZDEyMDY3N2M2NGZlNmNhNzZhZGQ4MWZkYTM2ZTM1MDYwNWU3OScsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vc29sZmxhcmUuY29tJ1xuICAgIH0sXG4gICAgQ09JTkJBU0U6IHtcbiAgICAgICAgaWQ6ICdmZDIwZGM0MjZmYjM3NTY2ZDgwMzIwNWIxOWJiYzFkNDA5NmIyNDhhYzA0NTQ4ZTNjZmI2YjNhMzhiZDAzM2FhJyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9nby5jYi13LmNvbSdcbiAgICB9LFxuICAgIC8qXG4gICAgICogR290IGRldGFpbHMgZnJvbSB0aGVpciBucG0gcGFja2FnZTpcbiAgICAgKiBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9AYmluYW5jZS93M3ctdXRpbHM/YWN0aXZlVGFiPWNvZGVcbiAgICAgKiBodHRwczovL2RldmVsb3BlcnMuYmluYW5jZS5jb20vZG9jcy9iaW5hbmNlLXczdy9ldm0tY29tcGF0aWJsZS1wcm92aWRlciNnZXRkZWVwbGlua1xuICAgICAqL1xuICAgIEJJTkFOQ0U6IHtcbiAgICAgICAgaWQ6ICcyZmFmZWEzNWJiNDcxZDIyODg5Y2NiNDljMDhkOTlkZDBhMThhMzc5ODI2MDJjMzNmNjk2YTU3MjM5MzRiYTI1JyxcbiAgICAgICAgYXBwSWQ6ICd5Rks1RkNxWXByclhEaVZGYmh5Ung3JyxcbiAgICAgICAgZGVlcGxpbms6ICdibmM6Ly9hcHAuYmluYW5jZS5jb20vbXAvYXBwJyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcHAuYmluYW5jZS5jb20vZW4vZG93bmxvYWQnXG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBNb2JpbGVXYWxsZXRVdGlsID0ge1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgbW9iaWxlIHdhbGxldCByZWRpcmVjdGlvbiBmb3Igd2FsbGV0cyB0aGF0IGhhdmUgVW5pdmVyc2FsIExpbmtzIGFuZCBkb2Vzbid0IHN1cHBvcnQgV2FsbGV0Q29ubmVjdCBEZWVwIExpbmtzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSB3YWxsZXQuXG4gICAgICogQHBhcmFtIHtDaGFpbk5hbWVzcGFjZX0gbmFtZXNwYWNlIC0gVGhlIG5hbWVzcGFjZSBvZiB0aGUgY2hhaW4uXG4gICAgICovXG4gICAgaGFuZGxlTW9iaWxlRGVlcGxpbmtSZWRpcmVjdChpZCwgbmFtZXNwYWNlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbml2ZXJzYWwgTGlua3MgcmVxdWlyZXMgZXhwbGljaXQgdXNlciBpbnRlcmFjdGlvbiB0byBvcGVuIHRoZSB3YWxsZXQgYXBwLlxuICAgICAgICAgKiBQcmV2aW91c2x5IHdlJ3ZlIGJlZW4gY2FsbGluZyB0aGlzIHdpdGggdGhlIGxpZmUtY3ljbGUgbWV0aG9kcyBpbiB0aGUgU29sYW5hIGNsaWVudHMgYnkgbGlzdGVuaW5nIHRoZSBTRUxFQ1RfV0FMTEVUIGV2ZW50IG9mIEV2ZW50Q29udHJvbGxlci5cbiAgICAgICAgICogQnV0IHRoaXMgYnJlYWtzIHRoZSBVTCBmdW5jdGlvbmFsaXR5IGZvciBzb21lIHdhbGxldHMgbGlrZSBQaGFudG9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICBjb25zdCBlbmNvZGVkSHJlZiA9IGVuY29kZVVSSUNvbXBvbmVudChocmVmKTtcbiAgICAgICAgaWYgKGlkID09PSBDVVNUT01fREVFUExJTktfV0FMTEVUUy5QSEFOVE9NLmlkICYmICEoJ3BoYW50b20nIGluIHdpbmRvdykpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3RvY29sID0gaHJlZi5zdGFydHNXaXRoKCdodHRwcycpID8gJ2h0dHBzJyA6ICdodHRwJztcbiAgICAgICAgICAgIGNvbnN0IGhvc3QgPSBocmVmLnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVkUmVmID0gZW5jb2RlVVJJQ29tcG9uZW50KGAke3Byb3RvY29sfTovLyR7aG9zdH1gKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYCR7Q1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuUEhBTlRPTS51cmx9L3VsL2Jyb3dzZS8ke2VuY29kZWRIcmVmfT9yZWY9JHtlbmNvZGVkUmVmfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkID09PSBDVVNUT01fREVFUExJTktfV0FMTEVUUy5TT0xGTEFSRS5pZCAmJiAhKCdzb2xmbGFyZScgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtDVVNUT01fREVFUExJTktfV0FMTEVUUy5TT0xGTEFSRS51cmx9L3VsL3YxL2Jyb3dzZS8ke2VuY29kZWRIcmVmfT9yZWY9JHtlbmNvZGVkSHJlZn1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09IENvbnN0YW50c1V0aWwuQ0hBSU4uU09MQU5BKSB7XG4gICAgICAgICAgICBpZiAoaWQgPT09IENVU1RPTV9ERUVQTElOS19XQUxMRVRTLkNPSU5CQVNFLmlkICYmICEoJ2NvaW5iYXNlU29sYW5hJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtDVVNUT01fREVFUExJTktfV0FMTEVUUy5DT0lOQkFTRS51cmx9L2RhcHA/Y2JfdXJsPSR7ZW5jb2RlZEhyZWZ9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICAgKiBCaW5hbmNlIFdlYjMgV2FsbGV0IGRvZXNuJ3Qgc3VwcG9ydCBXYWxsZXRDb25uZWN0IGZvciBCaXRjb2luLlxuICAgICAgICAgKiBGb3Igbm93IHdlIHVzZSB0aGVpciBkZWVwbGluayB0byBvcGVuIHRoZSBpbi1hcHAgYnJvd3NlciBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gQ29uc3RhbnRzVXRpbC5DSEFJTi5CSVRDT0lOKSB7XG4gICAgICAgICAgICBpZiAoaWQgPT09IENVU1RPTV9ERUVQTElOS19XQUxMRVRTLkJJTkFOQ0UuaWQgJiYgISgnYmluYW5jZXczdycgaW4gd2luZG93KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0UGFnZVBhdGggPSB3aW5kb3cuYnRvYSgnL3BhZ2VzL2Jyb3dzZXIvaW5kZXgnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFBhZ2VRdWVyeSA9IHdpbmRvdy5idG9hKGB1cmw9JHtlbmNvZGVkSHJlZn0mZGVmYXVsdENoYWluSWQ9JHthY3RpdmVDYWlwTmV0d29yaz8uaWQgPz8gMX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWVwbGluayA9IG5ldyBVUkwoQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuQklOQU5DRS5kZWVwbGluayk7XG4gICAgICAgICAgICAgICAgZGVlcGxpbmsuc2VhcmNoUGFyYW1zLnNldCgnYXBwSWQnLCBDVVNUT01fREVFUExJTktfV0FMTEVUUy5CSU5BTkNFLmFwcElkKTtcbiAgICAgICAgICAgICAgICBkZWVwbGluay5zZWFyY2hQYXJhbXMuc2V0KCdzdGFydFBhZ2VQYXRoJywgc3RhcnRQYWdlUGF0aCk7XG4gICAgICAgICAgICAgICAgZGVlcGxpbmsuc2VhcmNoUGFyYW1zLnNldCgnc3RhcnRQYWdlUXVlcnknLCBzdGFydFBhZ2VRdWVyeSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdmVyc2FsTGluayA9IG5ldyBVUkwoQ1VTVE9NX0RFRVBMSU5LX1dBTExFVFMuQklOQU5DRS51cmwpO1xuICAgICAgICAgICAgICAgIHVuaXZlcnNhbExpbmsuc2VhcmNoUGFyYW1zLnNldCgnX2RwJywgd2luZG93LmJ0b2EoZGVlcGxpbmsudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdW5pdmVyc2FsTGluay50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vYmlsZVdhbGxldC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/MobileWallet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ModalUtil.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ModalUtil.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModalUtil: () => (/* binding */ ModalUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _SIWXUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SIWXUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\");\n\n\n\n\nconst ModalUtil = {\n    isUnsupportedChainView() {\n        return (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'UnsupportedChain' ||\n            (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'SwitchNetwork' &&\n                _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.history.includes('UnsupportedChain')));\n    },\n    async safeClose() {\n        if (this.isUnsupportedChainView()) {\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__.ModalController.shake();\n            return;\n        }\n        const isSIWXCloseDisabled = await _SIWXUtil_js__WEBPACK_IMPORTED_MODULE_2__.SIWXUtil.isSIWXCloseDisabled();\n        if (isSIWXCloseDisabled) {\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__.ModalController.shake();\n            return;\n        }\n        if (_controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'DataCapture' ||\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'DataCaptureOtpConfirm') {\n            _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_3__.ConnectionController.disconnect();\n        }\n        _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_1__.ModalController.close();\n    }\n};\n//# sourceMappingURL=ModalUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Nb2RhbFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEU7QUFDVjtBQUNFO0FBQzdCO0FBQ2xDO0FBQ1A7QUFDQSxnQkFBZ0IsOEVBQWdCO0FBQ2hDLGFBQWEsOEVBQWdCO0FBQzdCLGdCQUFnQiw4RUFBZ0I7QUFDaEMsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLDRFQUFlO0FBQzNCO0FBQ0E7QUFDQSwwQ0FBMEMsa0RBQVE7QUFDbEQ7QUFDQSxZQUFZLDRFQUFlO0FBQzNCO0FBQ0E7QUFDQSxZQUFZLDhFQUFnQjtBQUM1QixZQUFZLDhFQUFnQjtBQUM1QixZQUFZLHNGQUFvQjtBQUNoQztBQUNBLFFBQVEsNEVBQWU7QUFDdkI7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvTW9kYWxVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvTW9kYWxDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFNJV1hVdGlsIH0gZnJvbSAnLi9TSVdYVXRpbC5qcyc7XG5leHBvcnQgY29uc3QgTW9kYWxVdGlsID0ge1xuICAgIGlzVW5zdXBwb3J0ZWRDaGFpblZpZXcoKSB7XG4gICAgICAgIHJldHVybiAoUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnVW5zdXBwb3J0ZWRDaGFpbicgfHxcbiAgICAgICAgICAgIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdTd2l0Y2hOZXR3b3JrJyAmJlxuICAgICAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuc3RhdGUuaGlzdG9yeS5pbmNsdWRlcygnVW5zdXBwb3J0ZWRDaGFpbicpKSk7XG4gICAgfSxcbiAgICBhc3luYyBzYWZlQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVW5zdXBwb3J0ZWRDaGFpblZpZXcoKSkge1xuICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLnNoYWtlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTSVdYQ2xvc2VEaXNhYmxlZCA9IGF3YWl0IFNJV1hVdGlsLmlzU0lXWENsb3NlRGlzYWJsZWQoKTtcbiAgICAgICAgaWYgKGlzU0lXWENsb3NlRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIE1vZGFsQ29udHJvbGxlci5zaGFrZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChSb3V0ZXJDb250cm9sbGVyLnN0YXRlLnZpZXcgPT09ICdEYXRhQ2FwdHVyZScgfHxcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIuc3RhdGUudmlldyA9PT0gJ0RhdGFDYXB0dXJlT3RwQ29uZmlybScpIHtcbiAgICAgICAgICAgIENvbm5lY3Rpb25Db250cm9sbGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kYWxVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ModalUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NetworkUtil: () => (/* binding */ NetworkUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n\n\n\n\nconst NetworkUtil = {\n    /**\n     * Function to handle the network switch.\n     * This function has variety of conditions to handle the network switch depending on the connectors or namespace's connection states.\n     * @param args.network - The network to switch to.\n     * @param args.shouldConfirmSwitch - Whether to confirm the switch. If true, the user will be asked to confirm the switch if necessary.\n     * @returns void\n     */\n    onSwitchNetwork({ network, ignoreSwitchConfirmation = false }) {\n        const currentNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeCaipNetwork;\n        const currentNamespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.state.activeChain;\n        const routerData = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.state.data;\n        const isSameNetwork = network.id === currentNetwork?.id;\n        if (isSameNetwork) {\n            return;\n        }\n        const isCurrentNamespaceConnected = Boolean(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(currentNamespace)?.address);\n        const isNextNamespaceConnected = Boolean(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_0__.ChainController.getAccountData(network.chainNamespace)?.address);\n        const isDifferentNamespace = network.chainNamespace !== currentNamespace;\n        const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectorController.getConnectorId(currentNamespace);\n        /**\n         * If the network is supported by the auth connector, we don't need to show switch active chain view.\n         * But there are some cases like switching from Ethereum to Bitcoin where Bitcoin is not supported by the auth connector and users should connect with another connector.\n         */\n        const isConnectedWithAuth = connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.CONNECTOR_ID.AUTH;\n        const isSupportedForAuthConnector = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_3__.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(c => c === network.chainNamespace);\n        /**\n         * 1. If the ignoreSwitchConfirmation is set to true, we should switch to the network,\n         * 2. If user connected with auth connector and the next network is supported by the auth connector,\n         * we should switch to the network without confirmation screen.\n         */\n        if (ignoreSwitchConfirmation || (isConnectedWithAuth && isSupportedForAuthConnector)) {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchNetwork', { ...routerData, network });\n        }\n        else if (\n        /**\n         * If user switching to a different namespace and next namespace is not connected, we need to show switch active chain view for confirmation first.\n         */\n        isCurrentNamespaceConnected &&\n            isDifferentNamespace &&\n            !isNextNamespaceConnected) {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchActiveChain', {\n                switchToChain: network.chainNamespace,\n                navigateTo: 'Connect',\n                navigateWithReplace: true,\n                network\n            });\n        }\n        else {\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_1__.RouterController.push('SwitchNetwork', { ...routerData, network });\n        }\n    }\n};\n//# sourceMappingURL=NetworkUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9OZXR3b3JrVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNlO0FBQ1E7QUFDTjtBQUMvRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJDQUEyQztBQUNqRSwrQkFBK0IsNEVBQWU7QUFDOUMsaUNBQWlDLDRFQUFlO0FBQ2hELDJCQUEyQiw4RUFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNEVBQWU7QUFDbkUsaURBQWlELDRFQUFlO0FBQ2hFO0FBQ0EsNEJBQTRCLG9GQUFtQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwrREFBYTtBQUNqRSw0Q0FBNEMsK0RBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4RUFBZ0IseUJBQXlCLHdCQUF3QjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4RUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVksOEVBQWdCLHlCQUF5Qix3QkFBd0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9OZXR3b3JrVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnQHJlb3duL2FwcGtpdC1jb21tb24nO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IFJvdXRlckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Sb3V0ZXJDb250cm9sbGVyLmpzJztcbmV4cG9ydCBjb25zdCBOZXR3b3JrVXRpbCA9IHtcbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBoYW5kbGUgdGhlIG5ldHdvcmsgc3dpdGNoLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaGFzIHZhcmlldHkgb2YgY29uZGl0aW9ucyB0byBoYW5kbGUgdGhlIG5ldHdvcmsgc3dpdGNoIGRlcGVuZGluZyBvbiB0aGUgY29ubmVjdG9ycyBvciBuYW1lc3BhY2UncyBjb25uZWN0aW9uIHN0YXRlcy5cbiAgICAgKiBAcGFyYW0gYXJncy5uZXR3b3JrIC0gVGhlIG5ldHdvcmsgdG8gc3dpdGNoIHRvLlxuICAgICAqIEBwYXJhbSBhcmdzLnNob3VsZENvbmZpcm1Td2l0Y2ggLSBXaGV0aGVyIHRvIGNvbmZpcm0gdGhlIHN3aXRjaC4gSWYgdHJ1ZSwgdGhlIHVzZXIgd2lsbCBiZSBhc2tlZCB0byBjb25maXJtIHRoZSBzd2l0Y2ggaWYgbmVjZXNzYXJ5LlxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICBvblN3aXRjaE5ldHdvcmsoeyBuZXR3b3JrLCBpZ25vcmVTd2l0Y2hDb25maXJtYXRpb24gPSBmYWxzZSB9KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBjb25zdCBjdXJyZW50TmFtZXNwYWNlID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNoYWluO1xuICAgICAgICBjb25zdCByb3V0ZXJEYXRhID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS5kYXRhO1xuICAgICAgICBjb25zdCBpc1NhbWVOZXR3b3JrID0gbmV0d29yay5pZCA9PT0gY3VycmVudE5ldHdvcms/LmlkO1xuICAgICAgICBpZiAoaXNTYW1lTmV0d29yaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQ3VycmVudE5hbWVzcGFjZUNvbm5lY3RlZCA9IEJvb2xlYW4oQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKGN1cnJlbnROYW1lc3BhY2UpPy5hZGRyZXNzKTtcbiAgICAgICAgY29uc3QgaXNOZXh0TmFtZXNwYWNlQ29ubmVjdGVkID0gQm9vbGVhbihDaGFpbkNvbnRyb2xsZXIuZ2V0QWNjb3VudERhdGEobmV0d29yay5jaGFpbk5hbWVzcGFjZSk/LmFkZHJlc3MpO1xuICAgICAgICBjb25zdCBpc0RpZmZlcmVudE5hbWVzcGFjZSA9IG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UgIT09IGN1cnJlbnROYW1lc3BhY2U7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcklkID0gQ29ubmVjdG9yQ29udHJvbGxlci5nZXRDb25uZWN0b3JJZChjdXJyZW50TmFtZXNwYWNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBuZXR3b3JrIGlzIHN1cHBvcnRlZCBieSB0aGUgYXV0aCBjb25uZWN0b3IsIHdlIGRvbid0IG5lZWQgdG8gc2hvdyBzd2l0Y2ggYWN0aXZlIGNoYWluIHZpZXcuXG4gICAgICAgICAqIEJ1dCB0aGVyZSBhcmUgc29tZSBjYXNlcyBsaWtlIHN3aXRjaGluZyBmcm9tIEV0aGVyZXVtIHRvIEJpdGNvaW4gd2hlcmUgQml0Y29pbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBhdXRoIGNvbm5lY3RvciBhbmQgdXNlcnMgc2hvdWxkIGNvbm5lY3Qgd2l0aCBhbm90aGVyIGNvbm5lY3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkV2l0aEF1dGggPSBjb25uZWN0b3JJZCA9PT0gQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSDtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWRGb3JBdXRoQ29ubmVjdG9yID0gQ29uc3RhbnRzVXRpbC5BVVRIX0NPTk5FQ1RPUl9TVVBQT1JURURfQ0hBSU5TLmZpbmQoYyA9PiBjID09PSBuZXR3b3JrLmNoYWluTmFtZXNwYWNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDEuIElmIHRoZSBpZ25vcmVTd2l0Y2hDb25maXJtYXRpb24gaXMgc2V0IHRvIHRydWUsIHdlIHNob3VsZCBzd2l0Y2ggdG8gdGhlIG5ldHdvcmssXG4gICAgICAgICAqIDIuIElmIHVzZXIgY29ubmVjdGVkIHdpdGggYXV0aCBjb25uZWN0b3IgYW5kIHRoZSBuZXh0IG5ldHdvcmsgaXMgc3VwcG9ydGVkIGJ5IHRoZSBhdXRoIGNvbm5lY3RvcixcbiAgICAgICAgICogd2Ugc2hvdWxkIHN3aXRjaCB0byB0aGUgbmV0d29yayB3aXRob3V0IGNvbmZpcm1hdGlvbiBzY3JlZW4uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoaWdub3JlU3dpdGNoQ29uZmlybWF0aW9uIHx8IChpc0Nvbm5lY3RlZFdpdGhBdXRoICYmIGlzU3VwcG9ydGVkRm9yQXV0aENvbm5lY3RvcikpIHtcbiAgICAgICAgICAgIFJvdXRlckNvbnRyb2xsZXIucHVzaCgnU3dpdGNoTmV0d29yaycsIHsgLi4ucm91dGVyRGF0YSwgbmV0d29yayB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHVzZXIgc3dpdGNoaW5nIHRvIGEgZGlmZmVyZW50IG5hbWVzcGFjZSBhbmQgbmV4dCBuYW1lc3BhY2UgaXMgbm90IGNvbm5lY3RlZCwgd2UgbmVlZCB0byBzaG93IHN3aXRjaCBhY3RpdmUgY2hhaW4gdmlldyBmb3IgY29uZmlybWF0aW9uIGZpcnN0LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNDdXJyZW50TmFtZXNwYWNlQ29ubmVjdGVkICYmXG4gICAgICAgICAgICBpc0RpZmZlcmVudE5hbWVzcGFjZSAmJlxuICAgICAgICAgICAgIWlzTmV4dE5hbWVzcGFjZUNvbm5lY3RlZCkge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdTd2l0Y2hBY3RpdmVDaGFpbicsIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hUb0NoYWluOiBuZXR3b3JrLmNoYWluTmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgIG5hdmlnYXRlVG86ICdDb25uZWN0JyxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVdpdGhSZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5ldHdvcmtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5wdXNoKCdTd2l0Y2hOZXR3b3JrJywgeyAuLi5yb3V0ZXJEYXRhLCBuZXR3b3JrIH0pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5ldHdvcmtVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/NetworkUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionsUtil: () => (/* binding */ OptionsUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\nconst OptionsUtil = {\n    getFeatureValue(key, features) {\n        const optionValue = features?.[key];\n        if (optionValue === undefined) {\n            return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_0__.ConstantsUtil.DEFAULT_FEATURES[key];\n        }\n        return optionValue;\n    },\n    filterSocialsByPlatform(socials) {\n        if (!socials || !socials.length) {\n            return socials;\n        }\n        let filteredSocials = socials;\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isTelegram()) {\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isIos()) {\n                filteredSocials = filteredSocials.filter(s => s !== 'google');\n            }\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isMac()) {\n                filteredSocials = filteredSocials.filter(s => s !== 'x');\n            }\n            if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isAndroid()) {\n                filteredSocials = filteredSocials.filter(s => !['facebook', 'x'].includes(s));\n            }\n        }\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_1__.CoreHelperUtil.isMobile()) {\n            filteredSocials = filteredSocials.filter(s => s !== 'facebook');\n        }\n        return filteredSocials;\n    },\n    isSocialsEnabled() {\n        return ((Array.isArray(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.socials) &&\n            _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.socials.length > 0) ||\n            (Array.isArray(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.socials) &&\n                _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.socials.length > 0));\n    },\n    isEmailEnabled() {\n        return Boolean(_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.features?.email || _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_2__.OptionsController.state.remoteFeatures?.email);\n    }\n};\n//# sourceMappingURL=OptionsUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9PcHRpb25zVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdFO0FBQ3JCO0FBQ0U7QUFDOUM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQWE7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBYztBQUMxQixnQkFBZ0IsOERBQWM7QUFDOUI7QUFDQTtBQUNBLGdCQUFnQiw4REFBYztBQUM5QjtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0JBQStCLGdGQUFpQjtBQUNoRCxZQUFZLGdGQUFpQjtBQUM3QiwyQkFBMkIsZ0ZBQWlCO0FBQzVDLGdCQUFnQixnRkFBaUI7QUFDakMsS0FBSztBQUNMO0FBQ0EsdUJBQXVCLGdGQUFpQiwwQkFBMEIsZ0ZBQWlCO0FBQ25GO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL09wdGlvbnNVdGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzVXRpbCB9IGZyb20gJy4vQ29uc3RhbnRzVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4vQ29yZUhlbHBlclV0aWwuanMnO1xuZXhwb3J0IGNvbnN0IE9wdGlvbnNVdGlsID0ge1xuICAgIGdldEZlYXR1cmVWYWx1ZShrZXksIGZlYXR1cmVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZmVhdHVyZXM/LltrZXldO1xuICAgICAgICBpZiAob3B0aW9uVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9GRUFUVVJFU1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25WYWx1ZTtcbiAgICB9LFxuICAgIGZpbHRlclNvY2lhbHNCeVBsYXRmb3JtKHNvY2lhbHMpIHtcbiAgICAgICAgaWYgKCFzb2NpYWxzIHx8ICFzb2NpYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNvY2lhbHM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZpbHRlcmVkU29jaWFscyA9IHNvY2lhbHM7XG4gICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc1RlbGVncmFtKCkpIHtcbiAgICAgICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc0lvcygpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTb2NpYWxzID0gZmlsdGVyZWRTb2NpYWxzLmZpbHRlcihzID0+IHMgIT09ICdnb29nbGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChDb3JlSGVscGVyVXRpbC5pc01hYygpKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTb2NpYWxzID0gZmlsdGVyZWRTb2NpYWxzLmZpbHRlcihzID0+IHMgIT09ICd4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFNvY2lhbHMgPSBmaWx0ZXJlZFNvY2lhbHMuZmlsdGVyKHMgPT4gIVsnZmFjZWJvb2snLCAneCddLmluY2x1ZGVzKHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgZmlsdGVyZWRTb2NpYWxzID0gZmlsdGVyZWRTb2NpYWxzLmZpbHRlcihzID0+IHMgIT09ICdmYWNlYm9vaycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFNvY2lhbHM7XG4gICAgfSxcbiAgICBpc1NvY2lhbHNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gKChBcnJheS5pc0FycmF5KE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5zb2NpYWxzKSAmJlxuICAgICAgICAgICAgT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZXM/LnNvY2lhbHMubGVuZ3RoID4gMCkgfHxcbiAgICAgICAgICAgIChBcnJheS5pc0FycmF5KE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5zb2NpYWxzKSAmJlxuICAgICAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5zb2NpYWxzLmxlbmd0aCA+IDApKTtcbiAgICB9LFxuICAgIGlzRW1haWxFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5mZWF0dXJlcz8uZW1haWwgfHwgT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucmVtb3RlRmVhdHVyZXM/LmVtYWlsKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9uc1V0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/OptionsUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SIWXUtil: () => (/* binding */ SIWXUtil)\n/* harmony export */ });\n/* harmony import */ var _walletconnect_universal_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @walletconnect/universal-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+universal-provider@2.23.2_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/@walletconnect/universal-provider/dist/index.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @reown/appkit-wallet/utils */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-wallet@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10/node_modules/@reown/appkit-wallet/dist/esm/src/W3mFrameConstants.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/EventsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EventsController.js\");\n/* harmony import */ var _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controllers/ModalController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ModalController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controllers/RouterController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/RouterController.js\");\n/* harmony import */ var _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controllers/SnackController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/SnackController.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * SIWXUtil holds the methods to interact with the SIWX plugin and must be called internally on AppKit.\n */\nlet addEmbeddedWalletSessionPromise = null;\nconst SIWXUtil = {\n    getSIWX() {\n        return _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n    },\n    async initializeIfEnabled(caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        if (!(siwx && caipAddress)) {\n            return;\n        }\n        const [namespace, chainId, address] = caipAddress.split(':');\n        if (!_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.checkIfSupportedNetwork(namespace, `${namespace}:${chainId}`)) {\n            return;\n        }\n        try {\n            if (_controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.remoteFeatures?.emailCapture) {\n                const user = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAccountData(namespace)?.user;\n                await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                    view: 'DataCapture',\n                    data: {\n                        email: user?.email ?? undefined\n                    }\n                });\n                return;\n            }\n            if (addEmbeddedWalletSessionPromise) {\n                await addEmbeddedWalletSessionPromise;\n            }\n            const sessions = await siwx.getSessions(`${namespace}:${chainId}`, address);\n            if (sessions.length) {\n                return;\n            }\n            await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                view: 'SIWXSignMessage'\n            });\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('SIWXUtil:initializeIfEnabled', error);\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_ERROR',\n                properties: this.getSIWXEventProperties(error)\n            });\n            // eslint-disable-next-line no-console\n            await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController._getClient()?.disconnect().catch(console.error);\n            _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.reset('Connect');\n            _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('A problem occurred while trying initialize authentication');\n        }\n    },\n    async isAuthenticated(caipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        if (!siwx) {\n            return true;\n        }\n        // If there is no active caip address, there is nothing to authenticate\n        if (!caipAddress) {\n            return true;\n        }\n        const { chainNamespace, chainId, address } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_8__.ParseUtil.parseCaipAddress(caipAddress);\n        const caipNetworkId = `${chainNamespace}:${chainId}`;\n        const sessions = await SIWXUtil.getSessions({\n            address,\n            caipNetworkId\n        });\n        return sessions.length > 0;\n    },\n    async requestSignMessage() {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        const address = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress());\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        if (!siwx) {\n            throw new Error('SIWX is not enabled');\n        }\n        if (!address) {\n            throw new Error('No ActiveCaipAddress found');\n        }\n        if (!network) {\n            throw new Error('No ActiveCaipNetwork or client found');\n        }\n        try {\n            const siwxMessage = await siwx.createMessage({\n                chainId: network.caipNetworkId,\n                accountAddress: address\n            });\n            const message = siwxMessage.toString();\n            let signature = '';\n            if (siwx.signMessage) {\n                signature = await siwx.signMessage({\n                    message,\n                    chainId: network.caipNetworkId,\n                    accountAddress: address\n                });\n            }\n            else {\n                const connectorId = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_11__.ConnectorController.getConnectorId(network.chainNamespace);\n                if (connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.ConstantsUtil.CONNECTOR_ID.AUTH) {\n                    _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.pushTransactionStack({});\n                }\n                signature = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.signMessage(message)) || '';\n            }\n            await siwx.addSession({\n                data: siwxMessage,\n                message,\n                signature\n            });\n            _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_SUCCESS',\n                properties: this.getSIWXEventProperties()\n            });\n        }\n        catch (error) {\n            if (!_controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.state.open || _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'ApproveTransaction') {\n                await _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.open({\n                    view: 'SIWXSignMessage'\n                });\n            }\n            _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showError('Error signing message');\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                type: 'track',\n                event: 'SIWX_AUTH_ERROR',\n                properties: this.getSIWXEventProperties(error)\n            });\n            // eslint-disable-next-line no-console\n            console.error('SWIXUtil:requestSignMessage', error);\n        }\n    },\n    async cancelSignMessage() {\n        try {\n            const siwx = this.getSIWX();\n            const isRequired = siwx?.getRequired?.();\n            if (isRequired) {\n                const lastNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getLastConnectedSIWECaipNetwork();\n                if (lastNetwork) {\n                    const sessions = await siwx?.getSessions(lastNetwork?.caipNetworkId, _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) || '');\n                    if (sessions && sessions.length > 0) {\n                        await _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.switchActiveNetwork(lastNetwork);\n                    }\n                    else {\n                        await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.disconnect();\n                    }\n                }\n                else {\n                    await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_5__.ConnectionController.disconnect();\n                }\n            }\n            else {\n                _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            }\n            _controllers_ModalController_js__WEBPACK_IMPORTED_MODULE_3__.ModalController.close();\n            _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                event: 'CLICK_CANCEL_SIWX',\n                type: 'track',\n                properties: this.getSIWXEventProperties()\n            });\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.error('SIWXUtil:cancelSignMessage', error);\n        }\n    },\n    async getAllSessions() {\n        const siwx = this.getSIWX();\n        const allRequestedCaipNetworks = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getAllRequestedCaipNetworks();\n        const sessions = [];\n        await Promise.all(allRequestedCaipNetworks.map(async (caipNetwork) => {\n            const session = await siwx?.getSessions(caipNetwork.caipNetworkId, _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(_controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress()) || '');\n            if (session) {\n                sessions.push(...session);\n            }\n        }));\n        return sessions;\n    },\n    async getSessions(args) {\n        const siwx = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.siwx;\n        let address = args?.address;\n        if (!address) {\n            const activeCaipAddress = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipAddress();\n            address = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.getPlainAddress(activeCaipAddress);\n        }\n        let network = args?.caipNetworkId;\n        if (!network) {\n            const activeCaipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.getActiveCaipNetwork();\n            network = activeCaipNetwork?.caipNetworkId;\n        }\n        if (!(siwx && address && network)) {\n            return [];\n        }\n        return siwx.getSessions(network, address);\n    },\n    async isSIWXCloseDisabled() {\n        const siwx = this.getSIWX();\n        if (siwx) {\n            const isApproveSignScreen = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'ApproveTransaction';\n            const isSiwxSignMessage = _controllers_RouterController_js__WEBPACK_IMPORTED_MODULE_6__.RouterController.state.view === 'SIWXSignMessage';\n            if (isApproveSignScreen || isSiwxSignMessage) {\n                return siwx.getRequired?.() && (await this.getSessions()).length === 0;\n            }\n        }\n        return false;\n    },\n    async authConnectorAuthenticate({ authConnector, chainId, socialUri, preferredAccountType, chainNamespace }) {\n        const siwx = SIWXUtil.getSIWX();\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        if (!siwx ||\n            !chainNamespace.includes(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_12__.ConstantsUtil.CHAIN.EVM) ||\n            // Request to input email and sign message when email capture is enabled\n            _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.remoteFeatures?.emailCapture) {\n            const result = await authConnector.connect({\n                chainId,\n                socialUri,\n                preferredAccountType\n            });\n            return {\n                address: result.address,\n                chainId: result.chainId,\n                accounts: result.accounts\n            };\n        }\n        const caipNetwork = `${chainNamespace}:${chainId}`;\n        const siwxMessage = await siwx.createMessage({\n            chainId: caipNetwork,\n            accountAddress: '<<AccountAddress>>'\n        });\n        // Extract only the serializable data properties for postMessage, toString() is not possible to include in the postMessage\n        const siwxMessageData = {\n            accountAddress: siwxMessage.accountAddress,\n            chainId: siwxMessage.chainId,\n            domain: siwxMessage.domain,\n            uri: siwxMessage.uri,\n            version: siwxMessage.version,\n            nonce: siwxMessage.nonce,\n            notBefore: siwxMessage.notBefore,\n            statement: siwxMessage.statement,\n            resources: siwxMessage.resources,\n            requestId: siwxMessage.requestId,\n            issuedAt: siwxMessage.issuedAt,\n            expirationTime: siwxMessage.expirationTime,\n            serializedMessage: siwxMessage.toString()\n        };\n        const result = await authConnector.connect({\n            chainId,\n            socialUri,\n            siwxMessage: siwxMessageData,\n            preferredAccountType\n        });\n        siwxMessageData.accountAddress = result.address;\n        siwxMessageData.serializedMessage = result.message || '';\n        if (result.signature && result.message) {\n            const promise = SIWXUtil.addEmbeddedWalletSession(siwxMessageData, result.message, result.signature);\n            await promise;\n        }\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n        return {\n            address: result.address,\n            chainId: result.chainId,\n            accounts: result.accounts\n        };\n    },\n    async addEmbeddedWalletSession(siwxMessageData, message, signature) {\n        if (addEmbeddedWalletSessionPromise) {\n            return addEmbeddedWalletSessionPromise;\n        }\n        const siwx = SIWXUtil.getSIWX();\n        if (!siwx) {\n            return Promise.resolve();\n        }\n        addEmbeddedWalletSessionPromise = siwx\n            .addSession({\n            data: siwxMessageData,\n            message,\n            signature\n        })\n            .finally(() => {\n            addEmbeddedWalletSessionPromise = null;\n        });\n        return addEmbeddedWalletSessionPromise;\n    },\n    async universalProviderAuthenticate({ universalProvider, chains, methods }) {\n        const siwx = SIWXUtil.getSIWX();\n        const network = (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)();\n        const namespaces = new Set(chains.map(chain => chain.split(':')[0]));\n        if (!siwx || namespaces.size !== 1 || !namespaces.has('eip155')) {\n            return false;\n        }\n        // Ignores chainId and account address to get other message data\n        const siwxMessage = await siwx.createMessage({\n            chainId: (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getActiveCaipNetwork)()?.caipNetworkId || '',\n            accountAddress: ''\n        });\n        const result = await universalProvider.authenticate({\n            nonce: siwxMessage.nonce,\n            domain: siwxMessage.domain,\n            uri: siwxMessage.uri,\n            exp: siwxMessage.expirationTime,\n            iat: siwxMessage.issuedAt,\n            nbf: siwxMessage.notBefore,\n            requestId: siwxMessage.requestId,\n            version: siwxMessage.version,\n            resources: siwxMessage.resources,\n            statement: siwxMessage.statement,\n            chainId: siwxMessage.chainId,\n            methods,\n            // The first chainId is what is used for universal provider to build the message\n            chains: [siwxMessage.chainId, ...chains.filter(chain => chain !== siwxMessage.chainId)]\n        });\n        _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.showLoading('Authenticating...', { autoClose: false });\n        const walletInfo = {\n            ...result.session.peer.metadata,\n            name: result.session.peer.metadata.name,\n            icon: result.session.peer.metadata.icons?.[0],\n            type: 'WALLET_CONNECT'\n        };\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setAccountProp('connectedWalletInfo', walletInfo, Array.from(namespaces)[0]);\n        if (result?.auths?.length) {\n            const sessions = result.auths.map(cacao => {\n                const message = universalProvider.client.formatAuthMessage({\n                    request: cacao.p,\n                    iss: cacao.p.iss\n                });\n                return {\n                    data: {\n                        ...cacao.p,\n                        accountAddress: cacao.p.iss.split(':').slice(-1).join(''),\n                        chainId: cacao.p.iss.split(':').slice(2, 4).join(':'),\n                        uri: cacao.p.aud ?? '',\n                        version: cacao.p.version || siwxMessage.version,\n                        expirationTime: cacao.p.exp,\n                        issuedAt: cacao.p.iat,\n                        notBefore: cacao.p.nbf\n                    },\n                    message,\n                    signature: cacao.s.s,\n                    cacao\n                };\n            });\n            try {\n                await siwx.setSessions(sessions);\n                if (network) {\n                    _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.setLastConnectedSIWECaipNetwork(network);\n                }\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SIWX_AUTH_SUCCESS',\n                    properties: SIWXUtil.getSIWXEventProperties()\n                });\n            }\n            catch (error) {\n                // eslint-disable-next-line no-console\n                console.error('SIWX:universalProviderAuth - failed to set sessions', error);\n                _controllers_EventsController_js__WEBPACK_IMPORTED_MODULE_4__.EventsController.sendEvent({\n                    type: 'track',\n                    event: 'SIWX_AUTH_ERROR',\n                    properties: SIWXUtil.getSIWXEventProperties(error)\n                });\n                // eslint-disable-next-line no-console\n                await universalProvider.disconnect().catch(console.error);\n                throw error;\n            }\n            finally {\n                _controllers_SnackController_js__WEBPACK_IMPORTED_MODULE_7__.SnackController.hide();\n            }\n        }\n        return true;\n    },\n    getSIWXEventProperties(error) {\n        const namespace = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeChain;\n        if (!namespace) {\n            throw new Error('SIWXUtil:getSIWXEventProperties - namespace is required');\n        }\n        return {\n            network: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_2__.ChainController.state.activeCaipNetwork?.caipNetworkId || '',\n            isSmartAccount: (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_10__.getPreferredAccountType)(namespace) === _reown_appkit_wallet_utils__WEBPACK_IMPORTED_MODULE_13__.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,\n            message: error ? _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_9__.CoreHelperUtil.parseError(error) : undefined\n        };\n    },\n    async clearSessions() {\n        const siwx = this.getSIWX();\n        if (siwx) {\n            await siwx.setSessions([]);\n        }\n    }\n};\n//# sourceMappingURL=SIWXUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TSVdYVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0U7QUFDcUI7QUFDckI7QUFDRTtBQUNVO0FBQ0Y7QUFDTjtBQUNGO0FBQ0k7QUFDRjtBQUNGO0FBQ3FCO0FBQ3BDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGVBQWUsZ0ZBQWlCO0FBQ2hDLEtBQUs7QUFDTCw0Q0FBNEMsNEVBQWU7QUFDM0QscUJBQXFCLGdGQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNEVBQWUsdUNBQXVDLFVBQVUsR0FBRyxRQUFRO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnRkFBaUI7QUFDakMsNkJBQTZCLDRFQUFlO0FBQzVDLHNCQUFzQiw0RUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVUsR0FBRyxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RUFBZTtBQUNqQztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEVBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGtCQUFrQixzRkFBb0I7QUFDdEMsWUFBWSw4RUFBZ0I7QUFDNUIsWUFBWSw0RUFBZTtBQUMzQjtBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsNEVBQWU7QUFDdkQscUJBQXFCLGdGQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQ0FBbUMsRUFBRSwyREFBUztBQUM5RCxpQ0FBaUMsZUFBZSxHQUFHLFFBQVE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUJBQXFCLGdGQUFpQjtBQUN0Qyx3QkFBd0IsOERBQWMsaUJBQWlCLDRFQUFlO0FBQ3RFLHdCQUF3Qiw4RUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG9DQUFvQyxxRkFBbUI7QUFDdkQsb0NBQW9DLGdFQUFtQjtBQUN2RCxvQkFBb0IsOEVBQWdCLHdCQUF3QjtBQUM1RDtBQUNBLG1DQUFtQyxzRkFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLDRFQUFlO0FBQzNCLFlBQVksNEVBQWU7QUFDM0IsWUFBWSw4RUFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQkFBaUIsNEVBQWUsZUFBZSw4RUFBZ0I7QUFDL0Qsc0JBQXNCLDRFQUFlO0FBQ3JDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsWUFBWSw0RUFBZTtBQUMzQixZQUFZLDhFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNEVBQWU7QUFDbkQ7QUFDQSx5RkFBeUYsOERBQWMsaUJBQWlCLDRFQUFlO0FBQ3ZJO0FBQ0EsOEJBQThCLDRFQUFlO0FBQzdDO0FBQ0E7QUFDQSw4QkFBOEIsc0ZBQW9CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzRkFBb0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDRFQUFlO0FBQy9CO0FBQ0EsWUFBWSw0RUFBZTtBQUMzQixZQUFZLDhFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUNBQXlDLDRFQUFlO0FBQ3hEO0FBQ0E7QUFDQSwrRUFBK0UsOERBQWMsaUJBQWlCLDRFQUFlO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLHFCQUFxQixnRkFBaUI7QUFDdEM7QUFDQTtBQUNBLHNDQUFzQyw0RUFBZTtBQUNyRCxzQkFBc0IsOERBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDRFQUFlO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsOEVBQWdCO0FBQ3hELHNDQUFzQyw4RUFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MseUVBQXlFO0FBQy9HO0FBQ0Esd0JBQXdCLDhFQUFvQjtBQUM1QztBQUNBLHFDQUFxQyxnRUFBbUI7QUFDeEQ7QUFDQSxZQUFZLGdGQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZSxHQUFHLFFBQVE7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDRFQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCwwQ0FBMEMsb0NBQW9DO0FBQzlFO0FBQ0Esd0JBQXdCLDhFQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOEVBQW9CO0FBQ3pDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDRFQUFlLG9DQUFvQyxrQkFBa0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0RUFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0RUFBZTtBQUNuQztBQUNBLGdCQUFnQiw4RUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhFQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw0RUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwwQkFBMEIsNEVBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNEVBQWU7QUFDcEMsNEJBQTRCLGlGQUF1QixnQkFBZ0IsNkVBQW9CO0FBQ3ZGLDZCQUE2Qiw4REFBYztBQUMzQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvU0lXWFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXZlcnNhbFByb3ZpZGVyIGZyb20gJ0B3YWxsZXRjb25uZWN0L3VuaXZlcnNhbC1wcm92aWRlcic7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIFBhcnNlVXRpbCB9IGZyb20gJ0ByZW93bi9hcHBraXQtY29tbW9uJztcbmltcG9ydCB7IFczbUZyYW1lUnBjQ29uc3RhbnRzIH0gZnJvbSAnQHJlb3duL2FwcGtpdC13YWxsZXQvdXRpbHMnO1xuaW1wb3J0IHsgQ2hhaW5Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ2hhaW5Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Db250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29ubmVjdGlvbkNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3RvckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgRXZlbnRzQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0V2ZW50c0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgTW9kYWxDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvTW9kYWxDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgUm91dGVyQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1JvdXRlckNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgU25hY2tDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvU25hY2tDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IGdldEFjdGl2ZUNhaXBOZXR3b3JrLCBnZXRQcmVmZXJyZWRBY2NvdW50VHlwZSB9IGZyb20gJy4vQ2hhaW5Db250cm9sbGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBDb3JlSGVscGVyVXRpbCB9IGZyb20gJy4vQ29yZUhlbHBlclV0aWwuanMnO1xuLyoqXG4gKiBTSVdYVXRpbCBob2xkcyB0aGUgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBTSVdYIHBsdWdpbiBhbmQgbXVzdCBiZSBjYWxsZWQgaW50ZXJuYWxseSBvbiBBcHBLaXQuXG4gKi9cbmxldCBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlID0gbnVsbDtcbmV4cG9ydCBjb25zdCBTSVdYVXRpbCA9IHtcbiAgICBnZXRTSVdYKCkge1xuICAgICAgICByZXR1cm4gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuc2l3eDtcbiAgICB9LFxuICAgIGFzeW5jIGluaXRpYWxpemVJZkVuYWJsZWQoY2FpcEFkZHJlc3MgPSBDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSkge1xuICAgICAgICBjb25zdCBzaXd4ID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUuc2l3eDtcbiAgICAgICAgaWYgKCEoc2l3eCAmJiBjYWlwQWRkcmVzcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbbmFtZXNwYWNlLCBjaGFpbklkLCBhZGRyZXNzXSA9IGNhaXBBZGRyZXNzLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmICghQ2hhaW5Db250cm9sbGVyLmNoZWNrSWZTdXBwb3J0ZWROZXR3b3JrKG5hbWVzcGFjZSwgYCR7bmFtZXNwYWNlfToke2NoYWluSWR9YCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5lbWFpbENhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gQ2hhaW5Db250cm9sbGVyLmdldEFjY291bnREYXRhKG5hbWVzcGFjZSk/LnVzZXI7XG4gICAgICAgICAgICAgICAgYXdhaXQgTW9kYWxDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICB2aWV3OiAnRGF0YUNhcHR1cmUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlcj8uZW1haWwgPz8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvblByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IHNpd3guZ2V0U2Vzc2lvbnMoYCR7bmFtZXNwYWNlfToke2NoYWluSWR9YCwgYWRkcmVzcyk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgTW9kYWxDb250cm9sbGVyLm9wZW4oe1xuICAgICAgICAgICAgICAgIHZpZXc6ICdTSVdYU2lnbk1lc3NhZ2UnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTSVdYVXRpbDppbml0aWFsaXplSWZFbmFibGVkJywgZXJyb3IpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfRVJST1InLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLl9nZXRDbGllbnQoKT8uZGlzY29ubmVjdCgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICAgICAgUm91dGVyQ29udHJvbGxlci5yZXNldCgnQ29ubmVjdCcpO1xuICAgICAgICAgICAgU25hY2tDb250cm9sbGVyLnNob3dFcnJvcignQSBwcm9ibGVtIG9jY3VycmVkIHdoaWxlIHRyeWluZyBpbml0aWFsaXplIGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGlzQXV0aGVudGljYXRlZChjYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgICAgICBpZiAoIXNpd3gpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGFjdGl2ZSBjYWlwIGFkZHJlc3MsIHRoZXJlIGlzIG5vdGhpbmcgdG8gYXV0aGVudGljYXRlXG4gICAgICAgIGlmICghY2FpcEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2hhaW5OYW1lc3BhY2UsIGNoYWluSWQsIGFkZHJlc3MgfSA9IFBhcnNlVXRpbC5wYXJzZUNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKTtcbiAgICAgICAgY29uc3QgY2FpcE5ldHdvcmtJZCA9IGAke2NoYWluTmFtZXNwYWNlfToke2NoYWluSWR9YDtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCBTSVdYVXRpbC5nZXRTZXNzaW9ucyh7XG4gICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgY2FpcE5ldHdvcmtJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25zLmxlbmd0aCA+IDA7XG4gICAgfSxcbiAgICBhc3luYyByZXF1ZXN0U2lnbk1lc3NhZ2UoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5zaXd4O1xuICAgICAgICBjb25zdCBhZGRyZXNzID0gQ29yZUhlbHBlclV0aWwuZ2V0UGxhaW5BZGRyZXNzKENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpKTtcbiAgICAgICAgY29uc3QgbmV0d29yayA9IGdldEFjdGl2ZUNhaXBOZXR3b3JrKCk7XG4gICAgICAgIGlmICghc2l3eCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTSVdYIGlzIG5vdCBlbmFibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEFjdGl2ZUNhaXBBZGRyZXNzIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuZXR3b3JrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEFjdGl2ZUNhaXBOZXR3b3JrIG9yIGNsaWVudCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzaXd4TWVzc2FnZSA9IGF3YWl0IHNpd3guY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgY2hhaW5JZDogbmV0d29yay5jYWlwTmV0d29ya0lkLFxuICAgICAgICAgICAgICAgIGFjY291bnRBZGRyZXNzOiBhZGRyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBzaXd4TWVzc2FnZS50b1N0cmluZygpO1xuICAgICAgICAgICAgbGV0IHNpZ25hdHVyZSA9ICcnO1xuICAgICAgICAgICAgaWYgKHNpd3guc2lnbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBzaWduYXR1cmUgPSBhd2FpdCBzaXd4LnNpZ25NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogbmV0d29yay5jYWlwTmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50QWRkcmVzczogYWRkcmVzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdG9ySWQgPSBDb25uZWN0b3JDb250cm9sbGVyLmdldENvbm5lY3RvcklkKG5ldHdvcmsuY2hhaW5OYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSCkge1xuICAgICAgICAgICAgICAgICAgICBSb3V0ZXJDb250cm9sbGVyLnB1c2hUcmFuc2FjdGlvblN0YWNrKHt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlID0gKGF3YWl0IENvbm5lY3Rpb25Db250cm9sbGVyLnNpZ25NZXNzYWdlKG1lc3NhZ2UpKSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNpd3guYWRkU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgZGF0YTogc2l3eE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIGV2ZW50OiAnU0lXWF9BVVRIX1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICghTW9kYWxDb250cm9sbGVyLnN0YXRlLm9wZW4gfHwgUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnQXBwcm92ZVRyYW5zYWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IE1vZGFsQ29udHJvbGxlci5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgdmlldzogJ1NJV1hTaWduTWVzc2FnZSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFNuYWNrQ29udHJvbGxlci5zaG93RXJyb3IoJ0Vycm9yIHNpZ25pbmcgbWVzc2FnZScpO1xuICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFjaycsXG4gICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfRVJST1InLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NXSVhVdGlsOnJlcXVlc3RTaWduTWVzc2FnZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY2FuY2VsU2lnbk1lc3NhZ2UoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzaXd4ID0gdGhpcy5nZXRTSVdYKCk7XG4gICAgICAgICAgICBjb25zdCBpc1JlcXVpcmVkID0gc2l3eD8uZ2V0UmVxdWlyZWQ/LigpO1xuICAgICAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmV0d29yayA9IENoYWluQ29udHJvbGxlci5nZXRMYXN0Q29ubmVjdGVkU0lXRUNhaXBOZXR3b3JrKCk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3ROZXR3b3JrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgc2l3eD8uZ2V0U2Vzc2lvbnMobGFzdE5ldHdvcms/LmNhaXBOZXR3b3JrSWQsIENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSkgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbnMgJiYgc2Vzc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQ2hhaW5Db250cm9sbGVyLnN3aXRjaEFjdGl2ZU5ldHdvcmsobGFzdE5ldHdvcmspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgQ29ubmVjdGlvbkNvbnRyb2xsZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgTW9kYWxDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNb2RhbENvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICBldmVudDogJ0NMSUNLX0NBTkNFTF9TSVdYJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0U0lXWEV2ZW50UHJvcGVydGllcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTSVdYVXRpbDpjYW5jZWxTaWduTWVzc2FnZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZ2V0QWxsU2Vzc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSB0aGlzLmdldFNJV1goKTtcbiAgICAgICAgY29uc3QgYWxsUmVxdWVzdGVkQ2FpcE5ldHdvcmtzID0gQ2hhaW5Db250cm9sbGVyLmdldEFsbFJlcXVlc3RlZENhaXBOZXR3b3JrcygpO1xuICAgICAgICBjb25zdCBzZXNzaW9ucyA9IFtdO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChhbGxSZXF1ZXN0ZWRDYWlwTmV0d29ya3MubWFwKGFzeW5jIChjYWlwTmV0d29yaykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNpd3g/LmdldFNlc3Npb25zKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQsIENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhDaGFpbkNvbnRyb2xsZXIuZ2V0QWN0aXZlQ2FpcEFkZHJlc3MoKSkgfHwgJycpO1xuICAgICAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9ucy5wdXNoKC4uLnNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzZXNzaW9ucztcbiAgICB9LFxuICAgIGFzeW5jIGdldFNlc3Npb25zKGFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc2l3eCA9IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnNpd3g7XG4gICAgICAgIGxldCBhZGRyZXNzID0gYXJncz8uYWRkcmVzcztcbiAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVDYWlwQWRkcmVzcyA9IENoYWluQ29udHJvbGxlci5nZXRBY3RpdmVDYWlwQWRkcmVzcygpO1xuICAgICAgICAgICAgYWRkcmVzcyA9IENvcmVIZWxwZXJVdGlsLmdldFBsYWluQWRkcmVzcyhhY3RpdmVDYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ldHdvcmsgPSBhcmdzPy5jYWlwTmV0d29ya0lkO1xuICAgICAgICBpZiAoIW5ldHdvcmspIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLmdldEFjdGl2ZUNhaXBOZXR3b3JrKCk7XG4gICAgICAgICAgICBuZXR3b3JrID0gYWN0aXZlQ2FpcE5ldHdvcms/LmNhaXBOZXR3b3JrSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoc2l3eCAmJiBhZGRyZXNzICYmIG5ldHdvcmspKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpd3guZ2V0U2Vzc2lvbnMobmV0d29yaywgYWRkcmVzcyk7XG4gICAgfSxcbiAgICBhc3luYyBpc1NJV1hDbG9zZURpc2FibGVkKCkge1xuICAgICAgICBjb25zdCBzaXd4ID0gdGhpcy5nZXRTSVdYKCk7XG4gICAgICAgIGlmIChzaXd4KSB7XG4gICAgICAgICAgICBjb25zdCBpc0FwcHJvdmVTaWduU2NyZWVuID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnQXBwcm92ZVRyYW5zYWN0aW9uJztcbiAgICAgICAgICAgIGNvbnN0IGlzU2l3eFNpZ25NZXNzYWdlID0gUm91dGVyQ29udHJvbGxlci5zdGF0ZS52aWV3ID09PSAnU0lXWFNpZ25NZXNzYWdlJztcbiAgICAgICAgICAgIGlmIChpc0FwcHJvdmVTaWduU2NyZWVuIHx8IGlzU2l3eFNpZ25NZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpd3guZ2V0UmVxdWlyZWQ/LigpICYmIChhd2FpdCB0aGlzLmdldFNlc3Npb25zKCkpLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBhc3luYyBhdXRoQ29ubmVjdG9yQXV0aGVudGljYXRlKHsgYXV0aENvbm5lY3RvciwgY2hhaW5JZCwgc29jaWFsVXJpLCBwcmVmZXJyZWRBY2NvdW50VHlwZSwgY2hhaW5OYW1lc3BhY2UgfSkge1xuICAgICAgICBjb25zdCBzaXd4ID0gU0lXWFV0aWwuZ2V0U0lXWCgpO1xuICAgICAgICBjb25zdCBuZXR3b3JrID0gZ2V0QWN0aXZlQ2FpcE5ldHdvcmsoKTtcbiAgICAgICAgaWYgKCFzaXd4IHx8XG4gICAgICAgICAgICAhY2hhaW5OYW1lc3BhY2UuaW5jbHVkZXMoQ29tbW9uQ29uc3RhbnRzVXRpbC5DSEFJTi5FVk0pIHx8XG4gICAgICAgICAgICAvLyBSZXF1ZXN0IHRvIGlucHV0IGVtYWlsIGFuZCBzaWduIG1lc3NhZ2Ugd2hlbiBlbWFpbCBjYXB0dXJlIGlzIGVuYWJsZWRcbiAgICAgICAgICAgIE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLnJlbW90ZUZlYXR1cmVzPy5lbWFpbENhcHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhDb25uZWN0b3IuY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBzb2NpYWxVcmksXG4gICAgICAgICAgICAgICAgcHJlZmVycmVkQWNjb3VudFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiByZXN1bHQuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjaGFpbklkOiByZXN1bHQuY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBhY2NvdW50czogcmVzdWx0LmFjY291bnRzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7Y2hhaW5JZH1gO1xuICAgICAgICBjb25zdCBzaXd4TWVzc2FnZSA9IGF3YWl0IHNpd3guY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBjaGFpbklkOiBjYWlwTmV0d29yayxcbiAgICAgICAgICAgIGFjY291bnRBZGRyZXNzOiAnPDxBY2NvdW50QWRkcmVzcz4+J1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRXh0cmFjdCBvbmx5IHRoZSBzZXJpYWxpemFibGUgZGF0YSBwcm9wZXJ0aWVzIGZvciBwb3N0TWVzc2FnZSwgdG9TdHJpbmcoKSBpcyBub3QgcG9zc2libGUgdG8gaW5jbHVkZSBpbiB0aGUgcG9zdE1lc3NhZ2VcbiAgICAgICAgY29uc3Qgc2l3eE1lc3NhZ2VEYXRhID0ge1xuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IHNpd3hNZXNzYWdlLmFjY291bnRBZGRyZXNzLFxuICAgICAgICAgICAgY2hhaW5JZDogc2l3eE1lc3NhZ2UuY2hhaW5JZCxcbiAgICAgICAgICAgIGRvbWFpbjogc2l3eE1lc3NhZ2UuZG9tYWluLFxuICAgICAgICAgICAgdXJpOiBzaXd4TWVzc2FnZS51cmksXG4gICAgICAgICAgICB2ZXJzaW9uOiBzaXd4TWVzc2FnZS52ZXJzaW9uLFxuICAgICAgICAgICAgbm9uY2U6IHNpd3hNZXNzYWdlLm5vbmNlLFxuICAgICAgICAgICAgbm90QmVmb3JlOiBzaXd4TWVzc2FnZS5ub3RCZWZvcmUsXG4gICAgICAgICAgICBzdGF0ZW1lbnQ6IHNpd3hNZXNzYWdlLnN0YXRlbWVudCxcbiAgICAgICAgICAgIHJlc291cmNlczogc2l3eE1lc3NhZ2UucmVzb3VyY2VzLFxuICAgICAgICAgICAgcmVxdWVzdElkOiBzaXd4TWVzc2FnZS5yZXF1ZXN0SWQsXG4gICAgICAgICAgICBpc3N1ZWRBdDogc2l3eE1lc3NhZ2UuaXNzdWVkQXQsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZTogc2l3eE1lc3NhZ2UuZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgICBzZXJpYWxpemVkTWVzc2FnZTogc2l3eE1lc3NhZ2UudG9TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhdXRoQ29ubmVjdG9yLmNvbm5lY3Qoe1xuICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgIHNvY2lhbFVyaSxcbiAgICAgICAgICAgIHNpd3hNZXNzYWdlOiBzaXd4TWVzc2FnZURhdGEsXG4gICAgICAgICAgICBwcmVmZXJyZWRBY2NvdW50VHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgc2l3eE1lc3NhZ2VEYXRhLmFjY291bnRBZGRyZXNzID0gcmVzdWx0LmFkZHJlc3M7XG4gICAgICAgIHNpd3hNZXNzYWdlRGF0YS5zZXJpYWxpemVkTWVzc2FnZSA9IHJlc3VsdC5tZXNzYWdlIHx8ICcnO1xuICAgICAgICBpZiAocmVzdWx0LnNpZ25hdHVyZSAmJiByZXN1bHQubWVzc2FnZSkge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IFNJV1hVdGlsLmFkZEVtYmVkZGVkV2FsbGV0U2Vzc2lvbihzaXd4TWVzc2FnZURhdGEsIHJlc3VsdC5tZXNzYWdlLCByZXN1bHQuc2lnbmF0dXJlKTtcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiByZXN1bHQuYWRkcmVzcyxcbiAgICAgICAgICAgIGNoYWluSWQ6IHJlc3VsdC5jaGFpbklkLFxuICAgICAgICAgICAgYWNjb3VudHM6IHJlc3VsdC5hY2NvdW50c1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uKHNpd3hNZXNzYWdlRGF0YSwgbWVzc2FnZSwgc2lnbmF0dXJlKSB7XG4gICAgICAgIGlmIChhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaXd4ID0gU0lXWFV0aWwuZ2V0U0lXWCgpO1xuICAgICAgICBpZiAoIXNpd3gpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRFbWJlZGRlZFdhbGxldFNlc3Npb25Qcm9taXNlID0gc2l3eFxuICAgICAgICAgICAgLmFkZFNlc3Npb24oe1xuICAgICAgICAgICAgZGF0YTogc2l3eE1lc3NhZ2VEYXRhLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWRkRW1iZWRkZWRXYWxsZXRTZXNzaW9uUHJvbWlzZTtcbiAgICB9LFxuICAgIGFzeW5jIHVuaXZlcnNhbFByb3ZpZGVyQXV0aGVudGljYXRlKHsgdW5pdmVyc2FsUHJvdmlkZXIsIGNoYWlucywgbWV0aG9kcyB9KSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSBTSVdYVXRpbC5nZXRTSVdYKCk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSBnZXRBY3RpdmVDYWlwTmV0d29yaygpO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gbmV3IFNldChjaGFpbnMubWFwKGNoYWluID0+IGNoYWluLnNwbGl0KCc6JylbMF0pKTtcbiAgICAgICAgaWYgKCFzaXd4IHx8IG5hbWVzcGFjZXMuc2l6ZSAhPT0gMSB8fCAhbmFtZXNwYWNlcy5oYXMoJ2VpcDE1NScpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWdub3JlcyBjaGFpbklkIGFuZCBhY2NvdW50IGFkZHJlc3MgdG8gZ2V0IG90aGVyIG1lc3NhZ2UgZGF0YVxuICAgICAgICBjb25zdCBzaXd4TWVzc2FnZSA9IGF3YWl0IHNpd3guY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBjaGFpbklkOiBnZXRBY3RpdmVDYWlwTmV0d29yaygpPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6ICcnXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1bml2ZXJzYWxQcm92aWRlci5hdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgbm9uY2U6IHNpd3hNZXNzYWdlLm5vbmNlLFxuICAgICAgICAgICAgZG9tYWluOiBzaXd4TWVzc2FnZS5kb21haW4sXG4gICAgICAgICAgICB1cmk6IHNpd3hNZXNzYWdlLnVyaSxcbiAgICAgICAgICAgIGV4cDogc2l3eE1lc3NhZ2UuZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgICBpYXQ6IHNpd3hNZXNzYWdlLmlzc3VlZEF0LFxuICAgICAgICAgICAgbmJmOiBzaXd4TWVzc2FnZS5ub3RCZWZvcmUsXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHNpd3hNZXNzYWdlLnJlcXVlc3RJZCxcbiAgICAgICAgICAgIHZlcnNpb246IHNpd3hNZXNzYWdlLnZlcnNpb24sXG4gICAgICAgICAgICByZXNvdXJjZXM6IHNpd3hNZXNzYWdlLnJlc291cmNlcyxcbiAgICAgICAgICAgIHN0YXRlbWVudDogc2l3eE1lc3NhZ2Uuc3RhdGVtZW50LFxuICAgICAgICAgICAgY2hhaW5JZDogc2l3eE1lc3NhZ2UuY2hhaW5JZCxcbiAgICAgICAgICAgIG1ldGhvZHMsXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgY2hhaW5JZCBpcyB3aGF0IGlzIHVzZWQgZm9yIHVuaXZlcnNhbCBwcm92aWRlciB0byBidWlsZCB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgY2hhaW5zOiBbc2l3eE1lc3NhZ2UuY2hhaW5JZCwgLi4uY2hhaW5zLmZpbHRlcihjaGFpbiA9PiBjaGFpbiAhPT0gc2l3eE1lc3NhZ2UuY2hhaW5JZCldXG4gICAgICAgIH0pO1xuICAgICAgICBTbmFja0NvbnRyb2xsZXIuc2hvd0xvYWRpbmcoJ0F1dGhlbnRpY2F0aW5nLi4uJywgeyBhdXRvQ2xvc2U6IGZhbHNlIH0pO1xuICAgICAgICBjb25zdCB3YWxsZXRJbmZvID0ge1xuICAgICAgICAgICAgLi4ucmVzdWx0LnNlc3Npb24ucGVlci5tZXRhZGF0YSxcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5zZXNzaW9uLnBlZXIubWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgIGljb246IHJlc3VsdC5zZXNzaW9uLnBlZXIubWV0YWRhdGEuaWNvbnM/LlswXSxcbiAgICAgICAgICAgIHR5cGU6ICdXQUxMRVRfQ09OTkVDVCdcbiAgICAgICAgfTtcbiAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldEFjY291bnRQcm9wKCdjb25uZWN0ZWRXYWxsZXRJbmZvJywgd2FsbGV0SW5mbywgQXJyYXkuZnJvbShuYW1lc3BhY2VzKVswXSk7XG4gICAgICAgIGlmIChyZXN1bHQ/LmF1dGhzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zID0gcmVzdWx0LmF1dGhzLm1hcChjYWNhbyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVuaXZlcnNhbFByb3ZpZGVyLmNsaWVudC5mb3JtYXRBdXRoTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGNhY2FvLnAsXG4gICAgICAgICAgICAgICAgICAgIGlzczogY2FjYW8ucC5pc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jYWNhby5wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IGNhY2FvLnAuaXNzLnNwbGl0KCc6Jykuc2xpY2UoLTEpLmpvaW4oJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2FjYW8ucC5pc3Muc3BsaXQoJzonKS5zbGljZSgyLCA0KS5qb2luKCc6JyksXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmk6IGNhY2FvLnAuYXVkID8/ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogY2FjYW8ucC52ZXJzaW9uIHx8IHNpd3hNZXNzYWdlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uVGltZTogY2FjYW8ucC5leHAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZWRBdDogY2FjYW8ucC5pYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RCZWZvcmU6IGNhY2FvLnAubmJmXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogY2FjYW8ucy5zLFxuICAgICAgICAgICAgICAgICAgICBjYWNhb1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2l3eC5zZXRTZXNzaW9ucyhzZXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKG5ldHdvcmspIHtcbiAgICAgICAgICAgICAgICAgICAgQ2hhaW5Db250cm9sbGVyLnNldExhc3RDb25uZWN0ZWRTSVdFQ2FpcE5ldHdvcmsobmV0d29yayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEV2ZW50c0NvbnRyb2xsZXIuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYWNrJyxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdTSVdYX0FVVEhfU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFNJV1hVdGlsLmdldFNJV1hFdmVudFByb3BlcnRpZXMoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTSVdYOnVuaXZlcnNhbFByb3ZpZGVyQXV0aCAtIGZhaWxlZCB0byBzZXQgc2Vzc2lvbnMnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgRXZlbnRzQ29udHJvbGxlci5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhY2snLFxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ1NJV1hfQVVUSF9FUlJPUicsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFNJV1hVdGlsLmdldFNJV1hFdmVudFByb3BlcnRpZXMoZXJyb3IpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBhd2FpdCB1bml2ZXJzYWxQcm92aWRlci5kaXNjb25uZWN0KCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBTbmFja0NvbnRyb2xsZXIuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2V0U0lXWEV2ZW50UHJvcGVydGllcyhlcnJvcikge1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW47XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NJV1hVdGlsOmdldFNJV1hFdmVudFByb3BlcnRpZXMgLSBuYW1lc3BhY2UgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV0d29yazogQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrPy5jYWlwTmV0d29ya0lkIHx8ICcnLFxuICAgICAgICAgICAgaXNTbWFydEFjY291bnQ6IGdldFByZWZlcnJlZEFjY291bnRUeXBlKG5hbWVzcGFjZSkgPT09IFczbUZyYW1lUnBjQ29uc3RhbnRzLkFDQ09VTlRfVFlQRVMuU01BUlRfQUNDT1VOVCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yID8gQ29yZUhlbHBlclV0aWwucGFyc2VFcnJvcihlcnJvcikgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFzeW5jIGNsZWFyU2Vzc2lvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNpd3ggPSB0aGlzLmdldFNJV1goKTtcbiAgICAgICAgaWYgKHNpd3gpIHtcbiAgICAgICAgICAgIGF3YWl0IHNpd3guc2V0U2Vzc2lvbnMoW10pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNJV1hVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SIWXUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StorageUtil: () => (/* binding */ StorageUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/SafeLocalStorage.js\");\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ConstantsUtil.js\");\n/* eslint-disable no-console */\n\n// -- Utility -----------------------------------------------------------------\nconst StorageUtil = {\n    // Cache expiry in milliseconds\n    cacheExpiry: {\n        portfolio: 30000,\n        nativeBalance: 30000,\n        ens: 300000,\n        identity: 300000,\n        transactionsHistory: 15000,\n        tokenPrice: 15000,\n        // 7 Days\n        latestAppKitVersion: 604_800_000,\n        // 1 Day\n        tonWallets: 86_400_000\n    },\n    isCacheExpired(timestamp, cacheExpiry) {\n        return Date.now() - timestamp > cacheExpiry;\n    },\n    getActiveNetworkProps() {\n        const namespace = StorageUtil.getActiveNamespace();\n        const caipNetworkId = StorageUtil.getActiveCaipNetworkId();\n        const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;\n        // eslint-disable-next-line no-nested-ternary\n        const chainId = stringChainId\n            ? isNaN(Number(stringChainId))\n                ? stringChainId\n                : Number(stringChainId)\n            : undefined;\n        return {\n            namespace,\n            caipNetworkId,\n            chainId\n        };\n    },\n    setWalletConnectDeepLink({ name, href }) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({ href, name }));\n        }\n        catch {\n            console.info('Unable to set WalletConnect deep link');\n        }\n    },\n    getWalletConnectDeepLink() {\n        try {\n            const deepLink = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE);\n            if (deepLink) {\n                return JSON.parse(deepLink);\n            }\n        }\n        catch {\n            console.info('Unable to get WalletConnect deep link');\n        }\n        return undefined;\n    },\n    deleteWalletConnectDeepLink() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DEEPLINK_CHOICE);\n        }\n        catch {\n            console.info('Unable to delete WalletConnect deep link');\n        }\n    },\n    setActiveNamespace(namespace) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);\n        }\n        catch {\n            console.info('Unable to set active namespace');\n        }\n    },\n    setActiveCaipNetworkId(caipNetworkId) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);\n            StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);\n        }\n        catch {\n            console.info('Unable to set active caip network id');\n        }\n    },\n    getActiveCaipNetworkId() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        }\n        catch {\n            console.info('Unable to get active caip network id');\n            return undefined;\n        }\n    },\n    deleteActiveCaipNetworkId() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        }\n        catch {\n            console.info('Unable to delete active caip network id');\n        }\n    },\n    deleteConnectedConnectorId(namespace) {\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(key);\n        }\n        catch {\n            console.info('Unable to delete connected connector id');\n        }\n    },\n    setAppKitRecent(wallet) {\n        try {\n            const recentWallets = StorageUtil.getRecentWallets();\n            const exists = recentWallets.find(w => w.id === wallet.id);\n            if (!exists) {\n                recentWallets.unshift(wallet);\n                if (recentWallets.length > 2) {\n                    recentWallets.pop();\n                }\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));\n                _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET, JSON.stringify(wallet));\n            }\n        }\n        catch {\n            console.info('Unable to set AppKit recent');\n        }\n    },\n    getRecentWallets() {\n        try {\n            const recent = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLETS);\n            return recent ? JSON.parse(recent) : [];\n        }\n        catch {\n            console.info('Unable to get AppKit recent');\n        }\n        return [];\n    },\n    getRecentWallet() {\n        try {\n            const recent = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET);\n            return recent ? JSON.parse(recent) : null;\n        }\n        catch {\n            console.info('Unable to get AppKit recent');\n        }\n        return null;\n    },\n    deleteRecentWallet() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.RECENT_WALLET);\n        }\n        catch {\n            console.info('Unable to delete AppKit recent');\n        }\n    },\n    setConnectedConnectorId(namespace, connectorId) {\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(key, connectorId);\n        }\n        catch {\n            console.info('Unable to set Connected Connector Id');\n        }\n    },\n    getActiveNamespace() {\n        try {\n            const activeNamespace = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_NAMESPACE);\n            return activeNamespace;\n        }\n        catch {\n            console.info('Unable to get active namespace');\n        }\n        return undefined;\n    },\n    getConnectedConnectorId(namespace) {\n        if (!namespace) {\n            return undefined;\n        }\n        try {\n            const key = (0,_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.getSafeConnectorIdKey)(namespace);\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(key);\n        }\n        catch (e) {\n            console.info('Unable to get connected connector id in namespace', namespace);\n        }\n        return undefined;\n    },\n    setConnectedSocialProvider(socialProvider) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);\n        }\n        catch {\n            console.info('Unable to set connected social provider');\n        }\n    },\n    getConnectedSocialProvider() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL);\n        }\n        catch {\n            console.info('Unable to get connected social provider');\n        }\n        return undefined;\n    },\n    deleteConnectedSocialProvider() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL);\n        }\n        catch {\n            console.info('Unable to delete connected social provider');\n        }\n    },\n    getConnectedSocialUsername() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);\n        }\n        catch {\n            console.info('Unable to get connected social username');\n        }\n        return undefined;\n    },\n    getStoredActiveCaipNetworkId() {\n        const storedCaipNetworkId = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n        const networkId = storedCaipNetworkId?.split(':')?.[1];\n        return networkId;\n    },\n    setConnectionStatus(status) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTION_STATUS, status);\n        }\n        catch {\n            console.info('Unable to set connection status');\n        }\n    },\n    getConnectionStatus() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTION_STATUS);\n        }\n        catch {\n            return undefined;\n        }\n    },\n    getConnectedNamespaces() {\n        try {\n            const namespaces = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_NAMESPACES);\n            if (!namespaces?.length) {\n                return [];\n            }\n            return namespaces.split(',');\n        }\n        catch {\n            return [];\n        }\n    },\n    setConnectedNamespaces(namespaces) {\n        try {\n            const uniqueNamespaces = Array.from(new Set(namespaces));\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));\n        }\n        catch {\n            console.info('Unable to set namespaces in storage');\n        }\n    },\n    addConnectedNamespace(namespace) {\n        try {\n            const namespaces = StorageUtil.getConnectedNamespaces();\n            if (!namespaces.includes(namespace)) {\n                namespaces.push(namespace);\n                StorageUtil.setConnectedNamespaces(namespaces);\n            }\n        }\n        catch {\n            console.info('Unable to add connected namespace');\n        }\n    },\n    removeConnectedNamespace(namespace) {\n        try {\n            const namespaces = StorageUtil.getConnectedNamespaces();\n            const index = namespaces.indexOf(namespace);\n            if (index > -1) {\n                namespaces.splice(index, 1);\n                StorageUtil.setConnectedNamespaces(namespaces);\n            }\n        }\n        catch {\n            console.info('Unable to remove connected namespace');\n        }\n    },\n    getTelegramSocialProvider() {\n        try {\n            return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n        }\n        catch {\n            console.info('Unable to get telegram social provider');\n            return null;\n        }\n    },\n    setTelegramSocialProvider(socialProvider) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);\n        }\n        catch {\n            console.info('Unable to set telegram social provider');\n        }\n    },\n    removeTelegramSocialProvider() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n        }\n        catch {\n            console.info('Unable to remove telegram social provider');\n        }\n    },\n    getBalanceCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get balance cache');\n        }\n        return cache;\n    },\n    removeAddressFromBalanceCache(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove address from balance cache', caipAddress);\n        }\n    },\n    getBalanceCacheForCaipAddress(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            const balanceCache = cache[caipAddress];\n            // We want to discard cache if it's older than the cache expiry\n            if (balanceCache &&\n                !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {\n                return balanceCache.balance;\n            }\n            StorageUtil.removeAddressFromBalanceCache(caipAddress);\n        }\n        catch {\n            console.info('Unable to get balance cache for address', caipAddress);\n        }\n        return undefined;\n    },\n    updateBalanceCache(params) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            cache[params.caipAddress] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update balance cache', params);\n        }\n    },\n    getNativeBalanceCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get balance cache');\n        }\n        return cache;\n    },\n    removeAddressFromNativeBalanceCache(caipAddress) {\n        try {\n            const cache = StorageUtil.getBalanceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify({ ...cache, [caipAddress]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove address from balance cache', caipAddress);\n        }\n    },\n    getNativeBalanceCacheForCaipAddress(caipAddress) {\n        try {\n            const cache = StorageUtil.getNativeBalanceCache();\n            const nativeBalanceCache = cache[caipAddress];\n            // We want to discard cache if it's older than the cache expiry\n            if (nativeBalanceCache &&\n                !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {\n                return nativeBalanceCache;\n            }\n            console.info('Discarding cache for address', caipAddress);\n            StorageUtil.removeAddressFromBalanceCache(caipAddress);\n        }\n        catch {\n            console.info('Unable to get balance cache for address', caipAddress);\n        }\n        return undefined;\n    },\n    updateNativeBalanceCache(params) {\n        try {\n            const cache = StorageUtil.getNativeBalanceCache();\n            cache[params.caipAddress] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update balance cache', params);\n        }\n    },\n    getEnsCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get ens name cache');\n        }\n        return cache;\n    },\n    getEnsFromCacheForAddress(address) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            const ensCache = cache[address];\n            // We want to discard cache if it's older than the cache expiry\n            if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {\n                return ensCache.ens;\n            }\n            StorageUtil.removeEnsFromCache(address);\n        }\n        catch {\n            console.info('Unable to get ens name from cache', address);\n        }\n        return undefined;\n    },\n    updateEnsCache(params) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            cache[params.address] = params;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update ens name cache', params);\n        }\n    },\n    removeEnsFromCache(address) {\n        try {\n            const cache = StorageUtil.getEnsCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE, JSON.stringify({ ...cache, [address]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove ens name from cache', address);\n        }\n    },\n    getIdentityCache() {\n        let cache = {};\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE);\n            cache = result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get identity cache');\n        }\n        return cache;\n    },\n    getIdentityFromCacheForAddress(address) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            const identityCache = cache[address];\n            // We want to discard cache if it's older than the cache expiry\n            if (identityCache &&\n                !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {\n                return identityCache.identity;\n            }\n            StorageUtil.removeIdentityFromCache(address);\n        }\n        catch {\n            console.info('Unable to get identity from cache', address);\n        }\n        return undefined;\n    },\n    updateIdentityCache(params) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            cache[params.address] = {\n                identity: params.identity,\n                timestamp: params.timestamp\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update identity cache', params);\n        }\n    },\n    removeIdentityFromCache(address) {\n        try {\n            const cache = StorageUtil.getIdentityCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify({ ...cache, [address]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove identity from cache', address);\n        }\n    },\n    getTonWalletsCache() {\n        try {\n            const cache = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TON_WALLETS_CACHE);\n            const parsedCache = cache ? JSON.parse(cache) : undefined;\n            if (parsedCache && !this.isCacheExpired(parsedCache.timestamp, this.cacheExpiry.tonWallets)) {\n                return parsedCache;\n            }\n            StorageUtil.removeTonWalletsCache();\n        }\n        catch {\n            console.info('Unable to get ton wallets cache');\n        }\n        return undefined;\n    },\n    updateTonWalletsCache(wallets) {\n        try {\n            const cache = StorageUtil.getTonWalletsCache() || { timestamp: 0, wallets: [] };\n            cache.timestamp = new Date().getTime();\n            cache.wallets = wallets;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TON_WALLETS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update ton wallets cache', wallets);\n        }\n    },\n    removeTonWalletsCache() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TON_WALLETS_CACHE);\n        }\n        catch {\n            console.info('Unable to remove ton wallets cache');\n        }\n    },\n    clearAddressCache() {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PORTFOLIO_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.ENS_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.IDENTITY_CACHE);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.removeItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n        }\n        catch {\n            console.info('Unable to clear address cache');\n        }\n    },\n    setPreferredAccountTypes(accountTypes) {\n        try {\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES, JSON.stringify(accountTypes));\n        }\n        catch {\n            console.info('Unable to set preferred account types', accountTypes);\n        }\n    },\n    getPreferredAccountTypes() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);\n            if (!result) {\n                return {};\n            }\n            return JSON.parse(result);\n        }\n        catch {\n            console.info('Unable to get preferred account types');\n        }\n        return {};\n    },\n    setConnections(connections, chainNamespace) {\n        try {\n            const existingConnections = StorageUtil.getConnections();\n            const existing = existingConnections[chainNamespace] ?? [];\n            const connectorConnectionMap = new Map();\n            for (const conn of existing) {\n                connectorConnectionMap.set(conn.connectorId, { ...conn });\n            }\n            for (const conn of connections) {\n                const existingConn = connectorConnectionMap.get(conn.connectorId);\n                const isAuth = conn.connectorId === _reown_appkit_common__WEBPACK_IMPORTED_MODULE_1__.ConstantsUtil.CONNECTOR_ID.AUTH;\n                if (existingConn && !isAuth) {\n                    const existingAddrs = new Set(existingConn.accounts.map(a => a.address.toLowerCase()));\n                    const newAccounts = conn.accounts.filter(a => !existingAddrs.has(a.address.toLowerCase()));\n                    existingConn.accounts.push(...newAccounts);\n                }\n                else {\n                    connectorConnectionMap.set(conn.connectorId, { ...conn });\n                }\n            }\n            const dedupedConnections = {\n                ...existingConnections,\n                [chainNamespace]: Array.from(connectorConnectionMap.values())\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS, JSON.stringify(dedupedConnections));\n        }\n        catch (error) {\n            console.error('Unable to sync connections to storage', error);\n        }\n    },\n    getConnections() {\n        try {\n            const connectionsStorage = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS);\n            if (!connectionsStorage) {\n                return {};\n            }\n            return JSON.parse(connectionsStorage);\n        }\n        catch (error) {\n            console.error('Unable to get connections from storage', error);\n            return {};\n        }\n    },\n    deleteAddressFromConnection({ connectorId, address, namespace }) {\n        try {\n            const connections = StorageUtil.getConnections();\n            const namespaceConnections = connections[namespace] ?? [];\n            const connectionMap = new Map(namespaceConnections.map(conn => [conn.connectorId, conn]));\n            const connector = connectionMap.get(connectorId);\n            if (connector) {\n                const updatedAccounts = connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase());\n                if (updatedAccounts.length === 0) {\n                    connectionMap.delete(connectorId);\n                }\n                else {\n                    connectionMap.set(connectorId, {\n                        ...connector,\n                        accounts: connector.accounts.filter(acc => acc.address.toLowerCase() !== address.toLowerCase())\n                    });\n                }\n            }\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.CONNECTIONS, JSON.stringify({\n                ...connections,\n                [namespace]: Array.from(connectionMap.values())\n            }));\n        }\n        catch {\n            console.error(`Unable to remove address \"${address}\" from connector \"${connectorId}\" in namespace \"${namespace}\"`);\n        }\n    },\n    getDisconnectedConnectorIds() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);\n            if (!result) {\n                return {};\n            }\n            return JSON.parse(result);\n        }\n        catch {\n            console.info('Unable to get disconnected connector ids');\n        }\n        return {};\n    },\n    addDisconnectedConnectorId(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            disconnectedConnectorIdsByNamespace.push(connectorId);\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n                ...currentDisconnectedConnectorIds,\n                [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n            }));\n        }\n        catch {\n            console.error(`Unable to set disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n    },\n    removeDisconnectedConnectorId(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            let disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            disconnectedConnectorIdsByNamespace = disconnectedConnectorIdsByNamespace.filter(id => id.toLowerCase() !== connectorId.toLowerCase());\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS, JSON.stringify({\n                ...currentDisconnectedConnectorIds,\n                [chainNamespace]: Array.from(new Set(disconnectedConnectorIdsByNamespace))\n            }));\n        }\n        catch {\n            console.error(`Unable to remove disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n    },\n    isConnectorDisconnected(connectorId, chainNamespace) {\n        try {\n            const currentDisconnectedConnectorIds = StorageUtil.getDisconnectedConnectorIds();\n            const disconnectedConnectorIdsByNamespace = currentDisconnectedConnectorIds[chainNamespace] ?? [];\n            return disconnectedConnectorIdsByNamespace.some(id => id.toLowerCase() === connectorId.toLowerCase());\n        }\n        catch {\n            console.info(`Unable to get disconnected connector id \"${connectorId}\" for namespace \"${chainNamespace}\"`);\n        }\n        return false;\n    },\n    getTransactionsCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get transactions cache');\n        }\n        return {};\n    },\n    getTransactionsCacheForAddress({ address, chainId = '' }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            const transactionsCache = cache[address]?.[chainId];\n            // We want to discard cache if it's older than the cache expiry\n            if (transactionsCache &&\n                !this.isCacheExpired(transactionsCache.timestamp, this.cacheExpiry.transactionsHistory)) {\n                return transactionsCache.transactions;\n            }\n            StorageUtil.removeTransactionsCache({ address, chainId });\n        }\n        catch {\n            console.info('Unable to get transactions cache');\n        }\n        return undefined;\n    },\n    updateTransactionsCache({ address, chainId = '', timestamp, transactions }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            cache[address] = {\n                ...cache[address],\n                [chainId]: {\n                    timestamp,\n                    transactions\n                }\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update transactions cache', {\n                address,\n                chainId,\n                timestamp,\n                transactions\n            });\n        }\n    },\n    removeTransactionsCache({ address, chainId }) {\n        try {\n            const cache = StorageUtil.getTransactionsCache();\n            const addressCache = cache?.[address] || {};\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { [chainId]: _removed, ...updatedChainData } = addressCache;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE, JSON.stringify({\n                ...cache,\n                [address]: updatedChainData\n            }));\n        }\n        catch {\n            console.info('Unable to remove transactions cache', { address, chainId });\n        }\n    },\n    getTokenPriceCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get token price cache');\n        }\n        return {};\n    },\n    getTokenPriceCacheForAddresses(addresses) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            const tokenPriceCache = cache[addresses.join(',')];\n            if (tokenPriceCache &&\n                !this.isCacheExpired(tokenPriceCache.timestamp, this.cacheExpiry.tokenPrice)) {\n                return tokenPriceCache.tokenPrice;\n            }\n            StorageUtil.removeTokenPriceCache(addresses);\n        }\n        catch {\n            console.info('Unable to get token price cache for addresses', addresses);\n        }\n        return undefined;\n    },\n    updateTokenPriceCache(params) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            cache[params.addresses.join(',')] = {\n                timestamp: params.timestamp,\n                tokenPrice: params.tokenPrice\n            };\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update token price cache', params);\n        }\n    },\n    removeTokenPriceCache(addresses) {\n        try {\n            const cache = StorageUtil.getTokenPriceCache();\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.TOKEN_PRICE_CACHE, JSON.stringify({ ...cache, [addresses.join(',')]: undefined }));\n        }\n        catch {\n            console.info('Unable to remove token price cache', addresses);\n        }\n    },\n    /* ----- AppKit Latest Version ------------------------- */\n    getLatestAppKitVersion() {\n        try {\n            const result = this.getLatestAppKitVersionCache();\n            const version = result?.version;\n            if (version && !this.isCacheExpired(result.timestamp, this.cacheExpiry.latestAppKitVersion)) {\n                return version;\n            }\n            return undefined;\n        }\n        catch {\n            console.info('Unable to get latest AppKit version');\n        }\n        return undefined;\n    },\n    getLatestAppKitVersionCache() {\n        try {\n            const result = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.getItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);\n            return result ? JSON.parse(result) : {};\n        }\n        catch {\n            console.info('Unable to get latest AppKit version cache');\n        }\n        return {};\n    },\n    updateLatestAppKitVersion(params) {\n        try {\n            const cache = StorageUtil.getLatestAppKitVersionCache();\n            cache.timestamp = params.timestamp;\n            cache.version = params.version;\n            _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorage.setItem(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.SafeLocalStorageKeys.LATEST_APPKIT_VERSION, JSON.stringify(cache));\n        }\n        catch {\n            console.info('Unable to update latest AppKit version on local storage', params);\n        }\n    }\n};\n//# sourceMappingURL=StorageUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TdG9yYWdlVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUMySTtBQUMzSTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtCQUErQixZQUFZO0FBQzNDO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0IsbUNBQW1DLFlBQVk7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZCQUE2QixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsWUFBWSxzRUFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFlBQVksc0VBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsMkVBQXFCO0FBQzdDLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDN0QsZ0JBQWdCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFlBQVksc0VBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsMkVBQXFCO0FBQzdDLFlBQVksa0VBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQ0FBb0Msa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJFQUFxQjtBQUM3QyxtQkFBbUIsa0VBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFlBQVksc0VBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0Msa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ2pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwrQkFBK0Isa0VBQWdCLFNBQVMsc0VBQW9CO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1CQUFtQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFlBQVksc0VBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CLG1DQUFtQyxvQ0FBb0M7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0Isd0NBQXdDLG9DQUFvQztBQUNySTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQiw2QkFBNkIsZ0NBQWdDO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFNBQVMsc0VBQW9CLGtDQUFrQyxnQ0FBZ0M7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksa0VBQWdCLFlBQVksc0VBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RCxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RCxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RCxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RCxZQUFZLGtFQUFnQixZQUFZLHNFQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxTQUFTO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwrREFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFNBQVM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVDQUF1QyxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtDQUFrQyxpQ0FBaUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsdURBQXVELFFBQVEsb0JBQW9CLFlBQVksa0JBQWtCLFVBQVU7QUFDM0g7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQixrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxzRUFBc0UsWUFBWSxtQkFBbUIsZUFBZTtBQUNwSDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EseUVBQXlFLFlBQVksbUJBQW1CLGVBQWU7QUFDdkg7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsWUFBWSxtQkFBbUIsZUFBZTtBQUNuSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxxQ0FBcUMsdUJBQXVCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsa0JBQWtCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLGdEQUFnRDtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCw4QkFBOEIsa0JBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJDQUEyQztBQUMvRCxZQUFZLGtFQUFnQixTQUFTLHNFQUFvQjtBQUN6RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxrRUFBa0Usa0JBQWtCO0FBQ3BGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0IscUNBQXFDLDRDQUE0QztBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWdCLFNBQVMsc0VBQW9CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBZ0IsU0FBUyxzRUFBb0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9TdG9yYWdlVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIGFzIENvbW1vbkNvbnN0YW50c1V0aWwsIFNhZmVMb2NhbFN0b3JhZ2UsIFNhZmVMb2NhbFN0b3JhZ2VLZXlzLCBnZXRTYWZlQ29ubmVjdG9ySWRLZXkgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG4vLyAtLSBVdGlsaXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgU3RvcmFnZVV0aWwgPSB7XG4gICAgLy8gQ2FjaGUgZXhwaXJ5IGluIG1pbGxpc2Vjb25kc1xuICAgIGNhY2hlRXhwaXJ5OiB7XG4gICAgICAgIHBvcnRmb2xpbzogMzAwMDAsXG4gICAgICAgIG5hdGl2ZUJhbGFuY2U6IDMwMDAwLFxuICAgICAgICBlbnM6IDMwMDAwMCxcbiAgICAgICAgaWRlbnRpdHk6IDMwMDAwMCxcbiAgICAgICAgdHJhbnNhY3Rpb25zSGlzdG9yeTogMTUwMDAsXG4gICAgICAgIHRva2VuUHJpY2U6IDE1MDAwLFxuICAgICAgICAvLyA3IERheXNcbiAgICAgICAgbGF0ZXN0QXBwS2l0VmVyc2lvbjogNjA0XzgwMF8wMDAsXG4gICAgICAgIC8vIDEgRGF5XG4gICAgICAgIHRvbldhbGxldHM6IDg2XzQwMF8wMDBcbiAgICB9LFxuICAgIGlzQ2FjaGVFeHBpcmVkKHRpbWVzdGFtcCwgY2FjaGVFeHBpcnkpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aW1lc3RhbXAgPiBjYWNoZUV4cGlyeTtcbiAgICB9LFxuICAgIGdldEFjdGl2ZU5ldHdvcmtQcm9wcygpIHtcbiAgICAgICAgY29uc3QgbmFtZXNwYWNlID0gU3RvcmFnZVV0aWwuZ2V0QWN0aXZlTmFtZXNwYWNlKCk7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrSWQgPSBTdG9yYWdlVXRpbC5nZXRBY3RpdmVDYWlwTmV0d29ya0lkKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZ0NoYWluSWQgPSBjYWlwTmV0d29ya0lkID8gY2FpcE5ldHdvcmtJZC5zcGxpdCgnOicpWzFdIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgY29uc3QgY2hhaW5JZCA9IHN0cmluZ0NoYWluSWRcbiAgICAgICAgICAgID8gaXNOYU4oTnVtYmVyKHN0cmluZ0NoYWluSWQpKVxuICAgICAgICAgICAgICAgID8gc3RyaW5nQ2hhaW5JZFxuICAgICAgICAgICAgICAgIDogTnVtYmVyKHN0cmluZ0NoYWluSWQpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIGNhaXBOZXR3b3JrSWQsXG4gICAgICAgICAgICBjaGFpbklkXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZXRXYWxsZXRDb25uZWN0RGVlcExpbmsoeyBuYW1lLCBocmVmIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ERUVQTElOS19DSE9JQ0UsIEpTT04uc3RyaW5naWZ5KHsgaHJlZiwgbmFtZSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IFdhbGxldENvbm5lY3QgZGVlcCBsaW5rJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFdhbGxldENvbm5lY3REZWVwTGluaygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZXBMaW5rID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkRFRVBMSU5LX0NIT0lDRSk7XG4gICAgICAgICAgICBpZiAoZGVlcExpbmspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWVwTGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IFdhbGxldENvbm5lY3QgZGVlcCBsaW5rJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGRlbGV0ZVdhbGxldENvbm5lY3REZWVwTGluaygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ERUVQTElOS19DSE9JQ0UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBXYWxsZXRDb25uZWN0IGRlZXAgbGluaycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBY3RpdmVOYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQUNUSVZFX05BTUVTUEFDRSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBzZXQgYWN0aXZlIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBY3RpdmVDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrSWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5BQ1RJVkVfQ0FJUF9ORVRXT1JLX0lELCBjYWlwTmV0d29ya0lkKTtcbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldEFjdGl2ZU5hbWVzcGFjZShjYWlwTmV0d29ya0lkLnNwbGl0KCc6JylbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBhY3RpdmUgY2FpcCBuZXR3b3JrIGlkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEFjdGl2ZUNhaXBOZXR3b3JrSWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBhY3RpdmUgY2FpcCBuZXR3b3JrIGlkJyk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkZWxldGVBY3RpdmVDYWlwTmV0d29ya0lkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBhY3RpdmUgY2FpcCBuZXR3b3JrIGlkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZUNvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0U2FmZUNvbm5lY3RvcklkS2V5KG5hbWVzcGFjZSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBkZWxldGUgY29ubmVjdGVkIGNvbm5lY3RvciBpZCcpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRBcHBLaXRSZWNlbnQod2FsbGV0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWNlbnRXYWxsZXRzID0gU3RvcmFnZVV0aWwuZ2V0UmVjZW50V2FsbGV0cygpO1xuICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gcmVjZW50V2FsbGV0cy5maW5kKHcgPT4gdy5pZCA9PT0gd2FsbGV0LmlkKTtcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgcmVjZW50V2FsbGV0cy51bnNoaWZ0KHdhbGxldCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VudFdhbGxldHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICByZWNlbnRXYWxsZXRzLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVFMsIEpTT04uc3RyaW5naWZ5KHJlY2VudFdhbGxldHMpKTtcbiAgICAgICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVCwgSlNPTi5zdHJpbmdpZnkod2FsbGV0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IEFwcEtpdCByZWNlbnQnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UmVjZW50V2FsbGV0cygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlY2VudCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5SRUNFTlRfV0FMTEVUUyk7XG4gICAgICAgICAgICByZXR1cm4gcmVjZW50ID8gSlNPTi5wYXJzZShyZWNlbnQpIDogW107XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IEFwcEtpdCByZWNlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBnZXRSZWNlbnRXYWxsZXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZWNlbnQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUkVDRU5UX1dBTExFVCk7XG4gICAgICAgICAgICByZXR1cm4gcmVjZW50ID8gSlNPTi5wYXJzZShyZWNlbnQpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgQXBwS2l0IHJlY2VudCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgZGVsZXRlUmVjZW50V2FsbGV0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlJFQ0VOVF9XQUxMRVQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBBcHBLaXQgcmVjZW50Jyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNldENvbm5lY3RlZENvbm5lY3RvcklkKG5hbWVzcGFjZSwgY29ubmVjdG9ySWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldFNhZmVDb25uZWN0b3JJZEtleShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgY29ubmVjdG9ySWQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBDb25uZWN0ZWQgQ29ubmVjdG9yIElkJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEFjdGl2ZU5hbWVzcGFjZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZU5hbWVzcGFjZSA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5BQ1RJVkVfTkFNRVNQQUNFKTtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVOYW1lc3BhY2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGFjdGl2ZSBuYW1lc3BhY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkQ29ubmVjdG9ySWQobmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRTYWZlQ29ubmVjdG9ySWRLZXkobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGNvbm5lY3RlZCBjb25uZWN0b3IgaWQgaW4gbmFtZXNwYWNlJywgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdGVkU29jaWFsUHJvdmlkZXIoc29jaWFsUHJvdmlkZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfU09DSUFMLCBzb2NpYWxQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gc2V0IGNvbm5lY3RlZCBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkU29jaWFsUHJvdmlkZXIoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9TT0NJQUwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBjb25uZWN0ZWQgc29jaWFsIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGRlbGV0ZUNvbm5lY3RlZFNvY2lhbFByb3ZpZGVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RFRF9TT0NJQUwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGRlbGV0ZSBjb25uZWN0ZWQgc29jaWFsIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldENvbm5lY3RlZFNvY2lhbFVzZXJuYW1lKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfU09DSUFMX1VTRVJOQU1FKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgY29ubmVjdGVkIHNvY2lhbCB1c2VybmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRTdG9yZWRBY3RpdmVDYWlwTmV0d29ya0lkKCkge1xuICAgICAgICBjb25zdCBzdG9yZWRDYWlwTmV0d29ya0lkID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkFDVElWRV9DQUlQX05FVFdPUktfSUQpO1xuICAgICAgICBjb25zdCBuZXR3b3JrSWQgPSBzdG9yZWRDYWlwTmV0d29ya0lkPy5zcGxpdCgnOicpPy5bMV07XG4gICAgICAgIHJldHVybiBuZXR3b3JrSWQ7XG4gICAgfSxcbiAgICBzZXRDb25uZWN0aW9uU3RhdHVzKHN0YXR1cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RJT05fU1RBVFVTLCBzdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBjb25uZWN0aW9uIHN0YXR1cycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDb25uZWN0aW9uU3RhdHVzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNUSU9OX1NUQVRVUyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGVkTmFtZXNwYWNlcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzcGFjZXMgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVEVEX05BTUVTUEFDRVMpO1xuICAgICAgICAgICAgaWYgKCFuYW1lc3BhY2VzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlcy5zcGxpdCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0Q29ubmVjdGVkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVOYW1lc3BhY2VzID0gQXJyYXkuZnJvbShuZXcgU2V0KG5hbWVzcGFjZXMpKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5DT05ORUNURURfTkFNRVNQQUNFUywgdW5pcXVlTmFtZXNwYWNlcy5qb2luKCcsJykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBuYW1lc3BhY2VzIGluIHN0b3JhZ2UnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkQ29ubmVjdGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlcyA9IFN0b3JhZ2VVdGlsLmdldENvbm5lY3RlZE5hbWVzcGFjZXMoKTtcbiAgICAgICAgICAgIGlmICghbmFtZXNwYWNlcy5pbmNsdWRlcyhuYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5wdXNoKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgU3RvcmFnZVV0aWwuc2V0Q29ubmVjdGVkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBhZGQgY29ubmVjdGVkIG5hbWVzcGFjZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDb25uZWN0ZWROYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2VzID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGVkTmFtZXNwYWNlcygpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuYW1lc3BhY2VzLmluZGV4T2YobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnNldENvbm5lY3RlZE5hbWVzcGFjZXMobmFtZXNwYWNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gcmVtb3ZlIGNvbm5lY3RlZCBuYW1lc3BhY2UnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VGVsZWdyYW1Tb2NpYWxQcm92aWRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVEVMRUdSQU1fU09DSUFMX1BST1ZJREVSKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdGVsZWdyYW0gc29jaWFsIHByb3ZpZGVyJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0VGVsZWdyYW1Tb2NpYWxQcm92aWRlcihzb2NpYWxQcm92aWRlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRFTEVHUkFNX1NPQ0lBTF9QUk9WSURFUiwgc29jaWFsUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCB0ZWxlZ3JhbSBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlVGVsZWdyYW1Tb2NpYWxQcm92aWRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5URUxFR1JBTV9TT0NJQUxfUFJPVklERVIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSB0ZWxlZ3JhbSBzb2NpYWwgcHJvdmlkZXInKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QmFsYW5jZUNhY2hlKCkge1xuICAgICAgICBsZXQgY2FjaGUgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QT1JURk9MSU9fQ0FDSEUpO1xuICAgICAgICAgICAgY2FjaGUgPSByZXN1bHQgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgYmFsYW5jZSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIHJlbW92ZUFkZHJlc3NGcm9tQmFsYW5jZUNhY2hlKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlBPUlRGT0xJT19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2NhaXBBZGRyZXNzXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgYWRkcmVzcyBmcm9tIGJhbGFuY2UgY2FjaGUnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgYmFsYW5jZUNhY2hlID0gY2FjaGVbY2FpcEFkZHJlc3NdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAoYmFsYW5jZUNhY2hlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNDYWNoZUV4cGlyZWQoYmFsYW5jZUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5wb3J0Zm9saW8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhbGFuY2VDYWNoZS5iYWxhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3RvcmFnZVV0aWwucmVtb3ZlQWRkcmVzc0Zyb21CYWxhbmNlQ2FjaGUoY2FpcEFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBiYWxhbmNlIGNhY2hlIGZvciBhZGRyZXNzJywgY2FpcEFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVCYWxhbmNlQ2FjaGUocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldEJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGVbcGFyYW1zLmNhaXBBZGRyZXNzXSA9IHBhcmFtcztcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QT1JURk9MSU9fQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIGJhbGFuY2UgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXROYXRpdmVCYWxhbmNlQ2FjaGUoKSB7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLk5BVElWRV9CQUxBTkNFX0NBQ0hFKTtcbiAgICAgICAgICAgIGNhY2hlID0gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGJhbGFuY2UgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfSxcbiAgICByZW1vdmVBZGRyZXNzRnJvbU5hdGl2ZUJhbGFuY2VDYWNoZShjYWlwQWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRCYWxhbmNlQ2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5OQVRJVkVfQkFMQU5DRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2NhaXBBZGRyZXNzXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgYWRkcmVzcyBmcm9tIGJhbGFuY2UgY2FjaGUnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldE5hdGl2ZUJhbGFuY2VDYWNoZUZvckNhaXBBZGRyZXNzKGNhaXBBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldE5hdGl2ZUJhbGFuY2VDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgbmF0aXZlQmFsYW5jZUNhY2hlID0gY2FjaGVbY2FpcEFkZHJlc3NdO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIGNhY2hlIGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgY2FjaGUgZXhwaXJ5XG4gICAgICAgICAgICBpZiAobmF0aXZlQmFsYW5jZUNhY2hlICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuaXNDYWNoZUV4cGlyZWQobmF0aXZlQmFsYW5jZUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5uYXRpdmVCYWxhbmNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVCYWxhbmNlQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0Rpc2NhcmRpbmcgY2FjaGUgZm9yIGFkZHJlc3MnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVBZGRyZXNzRnJvbUJhbGFuY2VDYWNoZShjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGJhbGFuY2UgY2FjaGUgZm9yIGFkZHJlc3MnLCBjYWlwQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZU5hdGl2ZUJhbGFuY2VDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0TmF0aXZlQmFsYW5jZUNhY2hlKCk7XG4gICAgICAgICAgICBjYWNoZVtwYXJhbXMuY2FpcEFkZHJlc3NdID0gcGFyYW1zO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLk5BVElWRV9CQUxBTkNFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSBiYWxhbmNlIGNhY2hlJywgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RW5zQ2FjaGUoKSB7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkVOU19DQUNIRSk7XG4gICAgICAgICAgICBjYWNoZSA9IHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBlbnMgbmFtZSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIGdldEVuc0Zyb21DYWNoZUZvckFkZHJlc3MoYWRkcmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRFbnNDYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgZW5zQ2FjaGUgPSBjYWNoZVthZGRyZXNzXTtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCBjYWNoZSBpZiBpdCdzIG9sZGVyIHRoYW4gdGhlIGNhY2hlIGV4cGlyeVxuICAgICAgICAgICAgaWYgKGVuc0NhY2hlICYmICF0aGlzLmlzQ2FjaGVFeHBpcmVkKGVuc0NhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5lbnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuc0NhY2hlLmVucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZUVuc0Zyb21DYWNoZShhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgZW5zIG5hbWUgZnJvbSBjYWNoZScsIGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVFbnNDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0RW5zQ2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW3BhcmFtcy5hZGRyZXNzXSA9IHBhcmFtcztcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5FTlNfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gdXBkYXRlIGVucyBuYW1lIGNhY2hlJywgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlRW5zRnJvbUNhY2hlKGFkZHJlc3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0RW5zQ2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5FTlNfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KHsgLi4uY2FjaGUsIFthZGRyZXNzXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgZW5zIG5hbWUgZnJvbSBjYWNoZScsIGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRJZGVudGl0eUNhY2hlKCkge1xuICAgICAgICBsZXQgY2FjaGUgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSk7XG4gICAgICAgICAgICBjYWNoZSA9IHJlc3VsdCA/IEpTT04ucGFyc2UocmVzdWx0KSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBpZGVudGl0eSBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9LFxuICAgIGdldElkZW50aXR5RnJvbUNhY2hlRm9yQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldElkZW50aXR5Q2FjaGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aXR5Q2FjaGUgPSBjYWNoZVthZGRyZXNzXTtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCBjYWNoZSBpZiBpdCdzIG9sZGVyIHRoYW4gdGhlIGNhY2hlIGV4cGlyeVxuICAgICAgICAgICAgaWYgKGlkZW50aXR5Q2FjaGUgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0NhY2hlRXhwaXJlZChpZGVudGl0eUNhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS5pZGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpdHlDYWNoZS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFN0b3JhZ2VVdGlsLnJlbW92ZUlkZW50aXR5RnJvbUNhY2hlKGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIGdldCBpZGVudGl0eSBmcm9tIGNhY2hlJywgYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZUlkZW50aXR5Q2FjaGUocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldElkZW50aXR5Q2FjaGUoKTtcbiAgICAgICAgICAgIGNhY2hlW3BhcmFtcy5hZGRyZXNzXSA9IHtcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogcGFyYW1zLmlkZW50aXR5LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogcGFyYW1zLnRpbWVzdGFtcFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgaWRlbnRpdHkgY2FjaGUnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVJZGVudGl0eUZyb21DYWNoZShhZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldElkZW50aXR5Q2FjaGUoKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5JREVOVElUWV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkoeyAuLi5jYWNoZSwgW2FkZHJlc3NdOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSBpZGVudGl0eSBmcm9tIGNhY2hlJywgYWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFRvbldhbGxldHNDYWNoZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU2FmZUxvY2FsU3RvcmFnZS5nZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRPTl9XQUxMRVRTX0NBQ0hFKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZENhY2hlID0gY2FjaGUgPyBKU09OLnBhcnNlKGNhY2hlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChwYXJzZWRDYWNoZSAmJiAhdGhpcy5pc0NhY2hlRXhwaXJlZChwYXJzZWRDYWNoZS50aW1lc3RhbXAsIHRoaXMuY2FjaGVFeHBpcnkudG9uV2FsbGV0cykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVUb25XYWxsZXRzQ2FjaGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdG9uIHdhbGxldHMgY2FjaGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgdXBkYXRlVG9uV2FsbGV0c0NhY2hlKHdhbGxldHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VG9uV2FsbGV0c0NhY2hlKCkgfHwgeyB0aW1lc3RhbXA6IDAsIHdhbGxldHM6IFtdIH07XG4gICAgICAgICAgICBjYWNoZS50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIGNhY2hlLndhbGxldHMgPSB3YWxsZXRzO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRPTl9XQUxMRVRTX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSB0b24gd2FsbGV0cyBjYWNoZScsIHdhbGxldHMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVUb25XYWxsZXRzQ2FjaGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVE9OX1dBTExFVFNfQ0FDSEUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSB0b24gd2FsbGV0cyBjYWNoZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjbGVhckFkZHJlc3NDYWNoZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QT1JURk9MSU9fQ0FDSEUpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLk5BVElWRV9CQUxBTkNFX0NBQ0hFKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5FTlNfQ0FDSEUpO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLklERU5USVRZX0NBQ0hFKTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ISVNUT1JZX1RSQU5TQUNUSU9OU19DQUNIRSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gY2xlYXIgYWRkcmVzcyBjYWNoZScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRQcmVmZXJyZWRBY2NvdW50VHlwZXMoYWNjb3VudFR5cGVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuUFJFRkVSUkVEX0FDQ09VTlRfVFlQRVMsIEpTT04uc3RyaW5naWZ5KGFjY291bnRUeXBlcykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHNldCBwcmVmZXJyZWQgYWNjb3VudCB0eXBlcycsIGFjY291bnRUeXBlcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFByZWZlcnJlZEFjY291bnRUeXBlcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5QUkVGRVJSRURfQUNDT1VOVF9UWVBFUyk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IHByZWZlcnJlZCBhY2NvdW50IHR5cGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgc2V0Q29ubmVjdGlvbnMoY29ubmVjdGlvbnMsIGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0Nvbm5lY3Rpb25zID0gU3RvcmFnZVV0aWwuZ2V0Q29ubmVjdGlvbnMoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gZXhpc3RpbmdDb25uZWN0aW9uc1tjaGFpbk5hbWVzcGFjZV0gPz8gW107XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3JDb25uZWN0aW9uTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb25uIG9mIGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9yQ29ubmVjdGlvbk1hcC5zZXQoY29ubi5jb25uZWN0b3JJZCwgeyAuLi5jb25uIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjb25uIG9mIGNvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdDb25uID0gY29ubmVjdG9yQ29ubmVjdGlvbk1hcC5nZXQoY29ubi5jb25uZWN0b3JJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBdXRoID0gY29ubi5jb25uZWN0b3JJZCA9PT0gQ29tbW9uQ29uc3RhbnRzVXRpbC5DT05ORUNUT1JfSUQuQVVUSDtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdDb25uICYmICFpc0F1dGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBZGRycyA9IG5ldyBTZXQoZXhpc3RpbmdDb25uLmFjY291bnRzLm1hcChhID0+IGEuYWRkcmVzcy50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnRzID0gY29ubi5hY2NvdW50cy5maWx0ZXIoYSA9PiAhZXhpc3RpbmdBZGRycy5oYXMoYS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb25uLmFjY291bnRzLnB1c2goLi4ubmV3QWNjb3VudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yQ29ubmVjdGlvbk1hcC5zZXQoY29ubi5jb25uZWN0b3JJZCwgeyAuLi5jb25uIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRlZHVwZWRDb25uZWN0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5leGlzdGluZ0Nvbm5lY3Rpb25zLFxuICAgICAgICAgICAgICAgIFtjaGFpbk5hbWVzcGFjZV06IEFycmF5LmZyb20oY29ubmVjdG9yQ29ubmVjdGlvbk1hcC52YWx1ZXMoKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVElPTlMsIEpTT04uc3RyaW5naWZ5KGRlZHVwZWRDb25uZWN0aW9ucykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHN5bmMgY29ubmVjdGlvbnMgdG8gc3RvcmFnZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q29ubmVjdGlvbnMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uc1N0b3JhZ2UgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuQ09OTkVDVElPTlMpO1xuICAgICAgICAgICAgaWYgKCFjb25uZWN0aW9uc1N0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjb25uZWN0aW9uc1N0b3JhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGdldCBjb25uZWN0aW9ucyBmcm9tIHN0b3JhZ2UnLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZUFkZHJlc3NGcm9tQ29ubmVjdGlvbih7IGNvbm5lY3RvcklkLCBhZGRyZXNzLCBuYW1lc3BhY2UgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBTdG9yYWdlVXRpbC5nZXRDb25uZWN0aW9ucygpO1xuICAgICAgICAgICAgY29uc3QgbmFtZXNwYWNlQ29ubmVjdGlvbnMgPSBjb25uZWN0aW9uc1tuYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbk1hcCA9IG5ldyBNYXAobmFtZXNwYWNlQ29ubmVjdGlvbnMubWFwKGNvbm4gPT4gW2Nvbm4uY29ubmVjdG9ySWQsIGNvbm5dKSk7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSBjb25uZWN0aW9uTWFwLmdldChjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnRzID0gY29ubmVjdG9yLmFjY291bnRzLmZpbHRlcihhY2MgPT4gYWNjLmFkZHJlc3MudG9Mb3dlckNhc2UoKSAhPT0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlZEFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uTWFwLmRlbGV0ZShjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uTWFwLnNldChjb25uZWN0b3JJZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29ubmVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudHM6IGNvbm5lY3Rvci5hY2NvdW50cy5maWx0ZXIoYWNjID0+IGFjYy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgIT09IGFkZHJlc3MudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkNPTk5FQ1RJT05TLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgLi4uY29ubmVjdGlvbnMsXG4gICAgICAgICAgICAgICAgW25hbWVzcGFjZV06IEFycmF5LmZyb20oY29ubmVjdGlvbk1hcC52YWx1ZXMoKSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gcmVtb3ZlIGFkZHJlc3MgXCIke2FkZHJlc3N9XCIgZnJvbSBjb25uZWN0b3IgXCIke2Nvbm5lY3RvcklkfVwiIGluIG5hbWVzcGFjZSBcIiR7bmFtZXNwYWNlfVwiYCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldERpc2Nvbm5lY3RlZENvbm5lY3RvcklkcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ESVNDT05ORUNURURfQ09OTkVDVE9SX0lEUyk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGRpc2Nvbm5lY3RlZCBjb25uZWN0b3IgaWRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgYWRkRGlzY29ubmVjdGVkQ29ubmVjdG9ySWQoY29ubmVjdG9ySWQsIGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzID0gU3RvcmFnZVV0aWwuZ2V0RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzKCk7XG4gICAgICAgICAgICBjb25zdCBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZSA9IGN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNbY2hhaW5OYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UucHVzaChjb25uZWN0b3JJZCk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuRElTQ09OTkVDVEVEX0NPTk5FQ1RPUl9JRFMsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzLFxuICAgICAgICAgICAgICAgIFtjaGFpbk5hbWVzcGFjZV06IEFycmF5LmZyb20obmV3IFNldChkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZSkpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIHNldCBkaXNjb25uZWN0ZWQgY29ubmVjdG9yIGlkIFwiJHtjb25uZWN0b3JJZH1cIiBmb3IgbmFtZXNwYWNlIFwiJHtjaGFpbk5hbWVzcGFjZX1cImApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVEaXNjb25uZWN0ZWRDb25uZWN0b3JJZChjb25uZWN0b3JJZCwgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMgPSBTdG9yYWdlVXRpbC5nZXREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMoKTtcbiAgICAgICAgICAgIGxldCBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZSA9IGN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNbY2hhaW5OYW1lc3BhY2VdID8/IFtdO1xuICAgICAgICAgICAgZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2UgPSBkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZS5maWx0ZXIoaWQgPT4gaWQudG9Mb3dlckNhc2UoKSAhPT0gY29ubmVjdG9ySWQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuRElTQ09OTkVDVEVEX0NPTk5FQ1RPUl9JRFMsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50RGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzLFxuICAgICAgICAgICAgICAgIFtjaGFpbk5hbWVzcGFjZV06IEFycmF5LmZyb20obmV3IFNldChkaXNjb25uZWN0ZWRDb25uZWN0b3JJZHNCeU5hbWVzcGFjZSkpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIHJlbW92ZSBkaXNjb25uZWN0ZWQgY29ubmVjdG9yIGlkIFwiJHtjb25uZWN0b3JJZH1cIiBmb3IgbmFtZXNwYWNlIFwiJHtjaGFpbk5hbWVzcGFjZX1cImApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpc0Nvbm5lY3RvckRpc2Nvbm5lY3RlZChjb25uZWN0b3JJZCwgY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMgPSBTdG9yYWdlVXRpbC5nZXREaXNjb25uZWN0ZWRDb25uZWN0b3JJZHMoKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc0J5TmFtZXNwYWNlID0gY3VycmVudERpc2Nvbm5lY3RlZENvbm5lY3Rvcklkc1tjaGFpbk5hbWVzcGFjZV0gPz8gW107XG4gICAgICAgICAgICByZXR1cm4gZGlzY29ubmVjdGVkQ29ubmVjdG9ySWRzQnlOYW1lc3BhY2Uuc29tZShpZCA9PiBpZC50b0xvd2VyQ2FzZSgpID09PSBjb25uZWN0b3JJZC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oYFVuYWJsZSB0byBnZXQgZGlzY29ubmVjdGVkIGNvbm5lY3RvciBpZCBcIiR7Y29ubmVjdG9ySWR9XCIgZm9yIG5hbWVzcGFjZSBcIiR7Y2hhaW5OYW1lc3BhY2V9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBnZXRUcmFuc2FjdGlvbnNDYWNoZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ISVNUT1JZX1RSQU5TQUNUSU9OU19DQUNIRSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IHRyYW5zYWN0aW9ucyBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uc0NhY2hlRm9yQWRkcmVzcyh7IGFkZHJlc3MsIGNoYWluSWQgPSAnJyB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYWNoZSA9IFN0b3JhZ2VVdGlsLmdldFRyYW5zYWN0aW9uc0NhY2hlKCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnNDYWNoZSA9IGNhY2hlW2FkZHJlc3NdPy5bY2hhaW5JZF07XG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgY2FjaGUgaWYgaXQncyBvbGRlciB0aGFuIHRoZSBjYWNoZSBleHBpcnlcbiAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbnNDYWNoZSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlzQ2FjaGVFeHBpcmVkKHRyYW5zYWN0aW9uc0NhY2hlLnRpbWVzdGFtcCwgdGhpcy5jYWNoZUV4cGlyeS50cmFuc2FjdGlvbnNIaXN0b3J5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnNDYWNoZS50cmFuc2FjdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVUcmFuc2FjdGlvbnNDYWNoZSh7IGFkZHJlc3MsIGNoYWluSWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IHRyYW5zYWN0aW9ucyBjYWNoZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICB1cGRhdGVUcmFuc2FjdGlvbnNDYWNoZSh7IGFkZHJlc3MsIGNoYWluSWQgPSAnJywgdGltZXN0YW1wLCB0cmFuc2FjdGlvbnMgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUcmFuc2FjdGlvbnNDYWNoZSgpO1xuICAgICAgICAgICAgY2FjaGVbYWRkcmVzc10gPSB7XG4gICAgICAgICAgICAgICAgLi4uY2FjaGVbYWRkcmVzc10sXG4gICAgICAgICAgICAgICAgW2NoYWluSWRdOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ISVNUT1JZX1RSQU5TQUNUSU9OU19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgdHJhbnNhY3Rpb25zIGNhY2hlJywge1xuICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlVHJhbnNhY3Rpb25zQ2FjaGUoeyBhZGRyZXNzLCBjaGFpbklkIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VHJhbnNhY3Rpb25zQ2FjaGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NDYWNoZSA9IGNhY2hlPy5bYWRkcmVzc10gfHwge307XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgICAgICBjb25zdCB7IFtjaGFpbklkXTogX3JlbW92ZWQsIC4uLnVwZGF0ZWRDaGFpbkRhdGEgfSA9IGFkZHJlc3NDYWNoZTtcbiAgICAgICAgICAgIFNhZmVMb2NhbFN0b3JhZ2Uuc2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5ISVNUT1JZX1RSQU5TQUNUSU9OU19DQUNIRSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIC4uLmNhY2hlLFxuICAgICAgICAgICAgICAgIFthZGRyZXNzXTogdXBkYXRlZENoYWluRGF0YVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHJlbW92ZSB0cmFuc2FjdGlvbnMgY2FjaGUnLCB7IGFkZHJlc3MsIGNoYWluSWQgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFRva2VuUHJpY2VDYWNoZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVMb2NhbFN0b3JhZ2UuZ2V0SXRlbShTYWZlTG9jYWxTdG9yYWdlS2V5cy5UT0tFTl9QUklDRV9DQUNIRSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID8gSlNPTi5wYXJzZShyZXN1bHQpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IHRva2VuIHByaWNlIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgZ2V0VG9rZW5QcmljZUNhY2hlRm9yQWRkcmVzc2VzKGFkZHJlc3Nlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBTdG9yYWdlVXRpbC5nZXRUb2tlblByaWNlQ2FjaGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuUHJpY2VDYWNoZSA9IGNhY2hlW2FkZHJlc3Nlcy5qb2luKCcsJyldO1xuICAgICAgICAgICAgaWYgKHRva2VuUHJpY2VDYWNoZSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmlzQ2FjaGVFeHBpcmVkKHRva2VuUHJpY2VDYWNoZS50aW1lc3RhbXAsIHRoaXMuY2FjaGVFeHBpcnkudG9rZW5QcmljZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5QcmljZUNhY2hlLnRva2VuUHJpY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTdG9yYWdlVXRpbC5yZW1vdmVUb2tlblByaWNlQ2FjaGUoYWRkcmVzc2VzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgdG9rZW4gcHJpY2UgY2FjaGUgZm9yIGFkZHJlc3NlcycsIGFkZHJlc3Nlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHVwZGF0ZVRva2VuUHJpY2VDYWNoZShwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VG9rZW5QcmljZUNhY2hlKCk7XG4gICAgICAgICAgICBjYWNoZVtwYXJhbXMuYWRkcmVzc2VzLmpvaW4oJywnKV0gPSB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBwYXJhbXMudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHRva2VuUHJpY2U6IHBhcmFtcy50b2tlblByaWNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLlRPS0VOX1BSSUNFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShjYWNoZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnVW5hYmxlIHRvIHVwZGF0ZSB0b2tlbiBwcmljZSBjYWNoZScsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZVRva2VuUHJpY2VDYWNoZShhZGRyZXNzZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0VG9rZW5QcmljZUNhY2hlKCk7XG4gICAgICAgICAgICBTYWZlTG9jYWxTdG9yYWdlLnNldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuVE9LRU5fUFJJQ0VfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KHsgLi4uY2FjaGUsIFthZGRyZXNzZXMuam9pbignLCcpXTogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byByZW1vdmUgdG9rZW4gcHJpY2UgY2FjaGUnLCBhZGRyZXNzZXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKiAtLS0tLSBBcHBLaXQgTGF0ZXN0IFZlcnNpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgIGdldExhdGVzdEFwcEtpdFZlcnNpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmdldExhdGVzdEFwcEtpdFZlcnNpb25DYWNoZSgpO1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHJlc3VsdD8udmVyc2lvbjtcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uICYmICF0aGlzLmlzQ2FjaGVFeHBpcmVkKHJlc3VsdC50aW1lc3RhbXAsIHRoaXMuY2FjaGVFeHBpcnkubGF0ZXN0QXBwS2l0VmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdVbmFibGUgdG8gZ2V0IGxhdGVzdCBBcHBLaXQgdmVyc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBnZXRMYXRlc3RBcHBLaXRWZXJzaW9uQ2FjaGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTYWZlTG9jYWxTdG9yYWdlLmdldEl0ZW0oU2FmZUxvY2FsU3RvcmFnZUtleXMuTEFURVNUX0FQUEtJVF9WRVJTSU9OKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byBnZXQgbGF0ZXN0IEFwcEtpdCB2ZXJzaW9uIGNhY2hlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgdXBkYXRlTGF0ZXN0QXBwS2l0VmVyc2lvbihwYXJhbXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gU3RvcmFnZVV0aWwuZ2V0TGF0ZXN0QXBwS2l0VmVyc2lvbkNhY2hlKCk7XG4gICAgICAgICAgICBjYWNoZS50aW1lc3RhbXAgPSBwYXJhbXMudGltZXN0YW1wO1xuICAgICAgICAgICAgY2FjaGUudmVyc2lvbiA9IHBhcmFtcy52ZXJzaW9uO1xuICAgICAgICAgICAgU2FmZUxvY2FsU3RvcmFnZS5zZXRJdGVtKFNhZmVMb2NhbFN0b3JhZ2VLZXlzLkxBVEVTVF9BUFBLSVRfVkVSU0lPTiwgSlNPTi5zdHJpbmdpZnkoY2FjaGUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ1VuYWJsZSB0byB1cGRhdGUgbGF0ZXN0IEFwcEtpdCB2ZXJzaW9uIG9uIGxvY2FsIHN0b3JhZ2UnLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JhZ2VVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwapApiUtil: () => (/* binding */ SwapApiUtil)\n/* harmony export */ });\n/* harmony import */ var _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/BlockchainApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/BlockchainApiController.js\");\n/* harmony import */ var _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ChainController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ChainController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _BalanceUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BalanceUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/BalanceUtil.js\");\n/* harmony import */ var _ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChainControllerUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ChainControllerUtil.js\");\n\n\n\n\n\n// -- Controller ---------------------------------------- //\nconst SwapApiUtil = {\n    async getTokenList(caipNetworkId) {\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchSwapTokens({\n            chainId: caipNetworkId\n        });\n        const tokens = response?.tokens?.map(token => ({\n            ...token,\n            eip2612: false,\n            quantity: {\n                decimals: '0',\n                numeric: '0'\n            },\n            price: 0,\n            value: 0\n        })) || [];\n        return tokens;\n    },\n    async fetchGasPrice() {\n        const caipNetwork = _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork;\n        if (!caipNetwork) {\n            return null;\n        }\n        try {\n            switch (caipNetwork.chainNamespace) {\n                case 'solana':\n                    // eslint-disable-next-line no-case-declarations\n                    const lamportsPerSignature = (await _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectionController?.estimateGas({ chainNamespace: 'solana' }))?.toString();\n                    return {\n                        standard: lamportsPerSignature,\n                        fast: lamportsPerSignature,\n                        instant: lamportsPerSignature\n                    };\n                case 'eip155':\n                default:\n                    return await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchGasPrice({\n                        chainId: caipNetwork.caipNetworkId\n                    });\n            }\n        }\n        catch {\n            return null;\n        }\n    },\n    async fetchSwapAllowance({ tokenAddress, userAddress, sourceTokenAmount, sourceTokenDecimals }) {\n        const response = await _controllers_BlockchainApiController_js__WEBPACK_IMPORTED_MODULE_0__.BlockchainApiController.fetchSwapAllowance({\n            tokenAddress,\n            userAddress\n        });\n        if (response?.allowance && sourceTokenAmount && sourceTokenDecimals) {\n            const parsedValue = _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_2__.ConnectionController.parseUnits(sourceTokenAmount, sourceTokenDecimals) || 0;\n            const hasAllowance = BigInt(response.allowance) >= parsedValue;\n            return hasAllowance;\n        }\n        return false;\n    },\n    async getMyTokensWithBalance(forceUpdate) {\n        const balances = await _BalanceUtil_js__WEBPACK_IMPORTED_MODULE_3__.BalanceUtil.getMyTokensWithBalance({\n            forceUpdate,\n            caipNetwork: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeCaipNetwork,\n            address: _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.getAccountData()?.address\n        });\n        _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.setAccountProp('tokenBalance', balances, _controllers_ChainController_js__WEBPACK_IMPORTED_MODULE_1__.ChainController.state.activeChain);\n        return this.mapBalancesToSwapTokens(balances);\n    },\n    /**\n     * Maps the balances from Blockchain API to SwapTokenWithBalance array\n     * @param balances\n     * @returns SwapTokenWithBalance[]\n     */\n    mapBalancesToSwapTokens(balances) {\n        return (balances?.map(token => ({\n            ...token,\n            address: token?.address ? token.address : (0,_ChainControllerUtil_js__WEBPACK_IMPORTED_MODULE_4__.getActiveNetworkTokenAddress)(),\n            decimals: parseInt(token.quantity.decimals, 10),\n            logoUri: token.iconUrl,\n            eip2612: false\n        })) || []);\n    },\n    async handleSwapError(error) {\n        try {\n            const cause = error?.cause;\n            if (!cause?.json) {\n                return undefined;\n            }\n            const response = await cause.json();\n            const reason = response?.reasons?.[0]?.description;\n            if (reason?.includes('insufficient liquidity')) {\n                return 'Insufficient liquidity';\n            }\n            return undefined;\n        }\n        catch {\n            return undefined;\n        }\n    }\n};\n//# sourceMappingURL=SwapApiUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Td2FwQXBpVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0Y7QUFDaEI7QUFDVTtBQUMvQjtBQUN5QjtBQUN4RTtBQUNPO0FBQ1A7QUFDQSwrQkFBK0IsNEZBQXVCO0FBQ3REO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHNGQUFvQixnQkFBZ0IsMEJBQTBCO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDRGQUF1QjtBQUN4RDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLCtCQUErQixtRUFBbUU7QUFDbEcsK0JBQStCLDRGQUF1QjtBQUN0RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsZ0NBQWdDLHNGQUFvQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtCQUErQix3REFBVztBQUMxQztBQUNBLHlCQUF5Qiw0RUFBZTtBQUN4QyxxQkFBcUIsNEVBQWU7QUFDcEMsU0FBUztBQUNULFFBQVEsNEVBQWUsMENBQTBDLDRFQUFlO0FBQ2hGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QscUZBQTRCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Td2FwQXBpVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCbG9ja2NoYWluQXBpQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Jsb2NrY2hhaW5BcGlDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IENoYWluQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0NoYWluQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IEJhbGFuY2VVdGlsIH0gZnJvbSAnLi9CYWxhbmNlVXRpbC5qcyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzIH0gZnJvbSAnLi9DaGFpbkNvbnRyb2xsZXJVdGlsLmpzJztcbi8vIC0tIENvbnRyb2xsZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuZXhwb3J0IGNvbnN0IFN3YXBBcGlVdGlsID0ge1xuICAgIGFzeW5jIGdldFRva2VuTGlzdChjYWlwTmV0d29ya0lkKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQmxvY2tjaGFpbkFwaUNvbnRyb2xsZXIuZmV0Y2hTd2FwVG9rZW5zKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IGNhaXBOZXR3b3JrSWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHJlc3BvbnNlPy50b2tlbnM/Lm1hcCh0b2tlbiA9PiAoe1xuICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICBlaXAyNjEyOiBmYWxzZSxcbiAgICAgICAgICAgIHF1YW50aXR5OiB7XG4gICAgICAgICAgICAgICAgZGVjaW1hbHM6ICcwJyxcbiAgICAgICAgICAgICAgICBudW1lcmljOiAnMCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcmljZTogMCxcbiAgICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH0pKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9LFxuICAgIGFzeW5jIGZldGNoR2FzUHJpY2UoKSB7XG4gICAgICAgIGNvbnN0IGNhaXBOZXR3b3JrID0gQ2hhaW5Db250cm9sbGVyLnN0YXRlLmFjdGl2ZUNhaXBOZXR3b3JrO1xuICAgICAgICBpZiAoIWNhaXBOZXR3b3JrKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoIChjYWlwTmV0d29yay5jaGFpbk5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYSc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jYXNlLWRlY2xhcmF0aW9uc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYW1wb3J0c1BlclNpZ25hdHVyZSA9IChhd2FpdCBDb25uZWN0aW9uQ29udHJvbGxlcj8uZXN0aW1hdGVHYXMoeyBjaGFpbk5hbWVzcGFjZTogJ3NvbGFuYScgfSkpPy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbmRhcmQ6IGxhbXBvcnRzUGVyU2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFzdDogbGFtcG9ydHNQZXJTaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW50OiBsYW1wb3J0c1BlclNpZ25hdHVyZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VpcDE1NSc6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmZldGNoR2FzUHJpY2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2FpcE5ldHdvcmsuY2FpcE5ldHdvcmtJZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgZmV0Y2hTd2FwQWxsb3dhbmNlKHsgdG9rZW5BZGRyZXNzLCB1c2VyQWRkcmVzcywgc291cmNlVG9rZW5BbW91bnQsIHNvdXJjZVRva2VuRGVjaW1hbHMgfSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEJsb2NrY2hhaW5BcGlDb250cm9sbGVyLmZldGNoU3dhcEFsbG93YW5jZSh7XG4gICAgICAgICAgICB0b2tlbkFkZHJlc3MsXG4gICAgICAgICAgICB1c2VyQWRkcmVzc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlPy5hbGxvd2FuY2UgJiYgc291cmNlVG9rZW5BbW91bnQgJiYgc291cmNlVG9rZW5EZWNpbWFscykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBDb25uZWN0aW9uQ29udHJvbGxlci5wYXJzZVVuaXRzKHNvdXJjZVRva2VuQW1vdW50LCBzb3VyY2VUb2tlbkRlY2ltYWxzKSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgaGFzQWxsb3dhbmNlID0gQmlnSW50KHJlc3BvbnNlLmFsbG93YW5jZSkgPj0gcGFyc2VkVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gaGFzQWxsb3dhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGFzeW5jIGdldE15VG9rZW5zV2l0aEJhbGFuY2UoZm9yY2VVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgYmFsYW5jZXMgPSBhd2FpdCBCYWxhbmNlVXRpbC5nZXRNeVRva2Vuc1dpdGhCYWxhbmNlKHtcbiAgICAgICAgICAgIGZvcmNlVXBkYXRlLFxuICAgICAgICAgICAgY2FpcE5ldHdvcms6IENoYWluQ29udHJvbGxlci5zdGF0ZS5hY3RpdmVDYWlwTmV0d29yayxcbiAgICAgICAgICAgIGFkZHJlc3M6IENoYWluQ29udHJvbGxlci5nZXRBY2NvdW50RGF0YSgpPy5hZGRyZXNzXG4gICAgICAgIH0pO1xuICAgICAgICBDaGFpbkNvbnRyb2xsZXIuc2V0QWNjb3VudFByb3AoJ3Rva2VuQmFsYW5jZScsIGJhbGFuY2VzLCBDaGFpbkNvbnRyb2xsZXIuc3RhdGUuYWN0aXZlQ2hhaW4pO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBCYWxhbmNlc1RvU3dhcFRva2VucyhiYWxhbmNlcyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBiYWxhbmNlcyBmcm9tIEJsb2NrY2hhaW4gQVBJIHRvIFN3YXBUb2tlbldpdGhCYWxhbmNlIGFycmF5XG4gICAgICogQHBhcmFtIGJhbGFuY2VzXG4gICAgICogQHJldHVybnMgU3dhcFRva2VuV2l0aEJhbGFuY2VbXVxuICAgICAqL1xuICAgIG1hcEJhbGFuY2VzVG9Td2FwVG9rZW5zKGJhbGFuY2VzKSB7XG4gICAgICAgIHJldHVybiAoYmFsYW5jZXM/Lm1hcCh0b2tlbiA9PiAoe1xuICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICBhZGRyZXNzOiB0b2tlbj8uYWRkcmVzcyA/IHRva2VuLmFkZHJlc3MgOiBnZXRBY3RpdmVOZXR3b3JrVG9rZW5BZGRyZXNzKCksXG4gICAgICAgICAgICBkZWNpbWFsczogcGFyc2VJbnQodG9rZW4ucXVhbnRpdHkuZGVjaW1hbHMsIDEwKSxcbiAgICAgICAgICAgIGxvZ29Vcmk6IHRva2VuLmljb25VcmwsXG4gICAgICAgICAgICBlaXAyNjEyOiBmYWxzZVxuICAgICAgICB9KSkgfHwgW10pO1xuICAgIH0sXG4gICAgYXN5bmMgaGFuZGxlU3dhcEVycm9yKGVycm9yKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjYXVzZSA9IGVycm9yPy5jYXVzZTtcbiAgICAgICAgICAgIGlmICghY2F1c2U/Lmpzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYXVzZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSByZXNwb25zZT8ucmVhc29ucz8uWzBdPy5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIGlmIChyZWFzb24/LmluY2x1ZGVzKCdpbnN1ZmZpY2llbnQgbGlxdWlkaXR5JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0luc3VmZmljaWVudCBsaXF1aWRpdHknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN3YXBBcGlVdGlsLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapApiUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwapCalculationUtil: () => (/* binding */ SwapCalculationUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/NumberUtil.js\");\n// -- Types --------------------------------------------- //\n\n// -- Util ---------------------------------------- //\nconst SwapCalculationUtil = {\n    getGasPriceInEther(gas, gasPrice) {\n        const totalGasCostInWei = gasPrice * gas;\n        const totalGasCostInEther = Number(totalGasCostInWei) / 1e18;\n        return totalGasCostInEther;\n    },\n    getGasPriceInUSD(networkPrice, gas, gasPrice) {\n        const totalGasCostInEther = SwapCalculationUtil.getGasPriceInEther(gas, gasPrice);\n        const networkPriceInUSD = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(networkPrice);\n        const gasCostInUSD = networkPriceInUSD.times(totalGasCostInEther);\n        return gasCostInUSD.toNumber();\n    },\n    getPriceImpact({ sourceTokenAmount, sourceTokenPriceInUSD, toTokenPriceInUSD, toTokenAmount }) {\n        const inputValue = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(sourceTokenAmount).times(sourceTokenPriceInUSD);\n        const outputValue = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(toTokenAmount).times(toTokenPriceInUSD);\n        const priceImpact = inputValue.minus(outputValue).div(inputValue).times(100);\n        return priceImpact.toNumber();\n    },\n    getMaxSlippage(slippage, toTokenAmount) {\n        const slippageToleranceDecimal = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(slippage).div(100);\n        const maxSlippageAmount = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.multiply(toTokenAmount, slippageToleranceDecimal);\n        return maxSlippageAmount.toNumber();\n    },\n    getProviderFee(sourceTokenAmount, feePercentage = 0.0085) {\n        const providerFee = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(sourceTokenAmount).times(feePercentage);\n        return providerFee.toString();\n    },\n    isInsufficientNetworkTokenForGas(networkBalanceInUSD, gasPriceInUSD) {\n        const gasPrice = gasPriceInUSD || '0';\n        if (_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(networkBalanceInUSD).eq(0)) {\n            return true;\n        }\n        return _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(_reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(gasPrice)).gt(networkBalanceInUSD);\n    },\n    isInsufficientSourceTokenForSwap(sourceTokenAmount, sourceTokenAddress, balance) {\n        const sourceTokenBalance = balance?.find(token => token.address === sourceTokenAddress)\n            ?.quantity?.numeric;\n        const isInSufficientBalance = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.NumberUtil.bigNumber(sourceTokenBalance || '0').lt(sourceTokenAmount);\n        return isInSufficientBalance;\n    }\n};\n//# sourceMappingURL=SwapCalculationUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9Td2FwQ2FsY3VsYXRpb25VdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDa0Q7QUFDbEQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQ0FBa0MsNERBQVU7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxxQkFBcUIsNEVBQTRFO0FBQ2pHLDJCQUEyQiw0REFBVTtBQUNyQyw0QkFBNEIsNERBQVU7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlDQUF5Qyw0REFBVTtBQUNuRCxrQ0FBa0MsNERBQVU7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsNERBQVU7QUFDdEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksNERBQVU7QUFDdEI7QUFDQTtBQUNBLGVBQWUsNERBQVUsV0FBVyw0REFBVTtBQUM5QyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDREQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvU3dhcENhbGN1bGF0aW9uVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtLSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmltcG9ydCB7IE51bWJlclV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG4vLyAtLSBVdGlsIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cbmV4cG9ydCBjb25zdCBTd2FwQ2FsY3VsYXRpb25VdGlsID0ge1xuICAgIGdldEdhc1ByaWNlSW5FdGhlcihnYXMsIGdhc1ByaWNlKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsR2FzQ29zdEluV2VpID0gZ2FzUHJpY2UgKiBnYXM7XG4gICAgICAgIGNvbnN0IHRvdGFsR2FzQ29zdEluRXRoZXIgPSBOdW1iZXIodG90YWxHYXNDb3N0SW5XZWkpIC8gMWUxODtcbiAgICAgICAgcmV0dXJuIHRvdGFsR2FzQ29zdEluRXRoZXI7XG4gICAgfSxcbiAgICBnZXRHYXNQcmljZUluVVNEKG5ldHdvcmtQcmljZSwgZ2FzLCBnYXNQcmljZSkge1xuICAgICAgICBjb25zdCB0b3RhbEdhc0Nvc3RJbkV0aGVyID0gU3dhcENhbGN1bGF0aW9uVXRpbC5nZXRHYXNQcmljZUluRXRoZXIoZ2FzLCBnYXNQcmljZSk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtQcmljZUluVVNEID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIobmV0d29ya1ByaWNlKTtcbiAgICAgICAgY29uc3QgZ2FzQ29zdEluVVNEID0gbmV0d29ya1ByaWNlSW5VU0QudGltZXModG90YWxHYXNDb3N0SW5FdGhlcik7XG4gICAgICAgIHJldHVybiBnYXNDb3N0SW5VU0QudG9OdW1iZXIoKTtcbiAgICB9LFxuICAgIGdldFByaWNlSW1wYWN0KHsgc291cmNlVG9rZW5BbW91bnQsIHNvdXJjZVRva2VuUHJpY2VJblVTRCwgdG9Ub2tlblByaWNlSW5VU0QsIHRvVG9rZW5BbW91bnQgfSkge1xuICAgICAgICBjb25zdCBpbnB1dFZhbHVlID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIoc291cmNlVG9rZW5BbW91bnQpLnRpbWVzKHNvdXJjZVRva2VuUHJpY2VJblVTRCk7XG4gICAgICAgIGNvbnN0IG91dHB1dFZhbHVlID0gTnVtYmVyVXRpbC5iaWdOdW1iZXIodG9Ub2tlbkFtb3VudCkudGltZXModG9Ub2tlblByaWNlSW5VU0QpO1xuICAgICAgICBjb25zdCBwcmljZUltcGFjdCA9IGlucHV0VmFsdWUubWludXMob3V0cHV0VmFsdWUpLmRpdihpbnB1dFZhbHVlKS50aW1lcygxMDApO1xuICAgICAgICByZXR1cm4gcHJpY2VJbXBhY3QudG9OdW1iZXIoKTtcbiAgICB9LFxuICAgIGdldE1heFNsaXBwYWdlKHNsaXBwYWdlLCB0b1Rva2VuQW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHNsaXBwYWdlVG9sZXJhbmNlRGVjaW1hbCA9IE51bWJlclV0aWwuYmlnTnVtYmVyKHNsaXBwYWdlKS5kaXYoMTAwKTtcbiAgICAgICAgY29uc3QgbWF4U2xpcHBhZ2VBbW91bnQgPSBOdW1iZXJVdGlsLm11bHRpcGx5KHRvVG9rZW5BbW91bnQsIHNsaXBwYWdlVG9sZXJhbmNlRGVjaW1hbCk7XG4gICAgICAgIHJldHVybiBtYXhTbGlwcGFnZUFtb3VudC50b051bWJlcigpO1xuICAgIH0sXG4gICAgZ2V0UHJvdmlkZXJGZWUoc291cmNlVG9rZW5BbW91bnQsIGZlZVBlcmNlbnRhZ2UgPSAwLjAwODUpIHtcbiAgICAgICAgY29uc3QgcHJvdmlkZXJGZWUgPSBOdW1iZXJVdGlsLmJpZ051bWJlcihzb3VyY2VUb2tlbkFtb3VudCkudGltZXMoZmVlUGVyY2VudGFnZSk7XG4gICAgICAgIHJldHVybiBwcm92aWRlckZlZS50b1N0cmluZygpO1xuICAgIH0sXG4gICAgaXNJbnN1ZmZpY2llbnROZXR3b3JrVG9rZW5Gb3JHYXMobmV0d29ya0JhbGFuY2VJblVTRCwgZ2FzUHJpY2VJblVTRCkge1xuICAgICAgICBjb25zdCBnYXNQcmljZSA9IGdhc1ByaWNlSW5VU0QgfHwgJzAnO1xuICAgICAgICBpZiAoTnVtYmVyVXRpbC5iaWdOdW1iZXIobmV0d29ya0JhbGFuY2VJblVTRCkuZXEoMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXJVdGlsLmJpZ051bWJlcihOdW1iZXJVdGlsLmJpZ051bWJlcihnYXNQcmljZSkpLmd0KG5ldHdvcmtCYWxhbmNlSW5VU0QpO1xuICAgIH0sXG4gICAgaXNJbnN1ZmZpY2llbnRTb3VyY2VUb2tlbkZvclN3YXAoc291cmNlVG9rZW5BbW91bnQsIHNvdXJjZVRva2VuQWRkcmVzcywgYmFsYW5jZSkge1xuICAgICAgICBjb25zdCBzb3VyY2VUb2tlbkJhbGFuY2UgPSBiYWxhbmNlPy5maW5kKHRva2VuID0+IHRva2VuLmFkZHJlc3MgPT09IHNvdXJjZVRva2VuQWRkcmVzcylcbiAgICAgICAgICAgID8ucXVhbnRpdHk/Lm51bWVyaWM7XG4gICAgICAgIGNvbnN0IGlzSW5TdWZmaWNpZW50QmFsYW5jZSA9IE51bWJlclV0aWwuYmlnTnVtYmVyKHNvdXJjZVRva2VuQmFsYW5jZSB8fCAnMCcpLmx0KHNvdXJjZVRva2VuQW1vdW50KTtcbiAgICAgICAgcmV0dXJuIGlzSW5TdWZmaWNpZW50QmFsYW5jZTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3dhcENhbGN1bGF0aW9uVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/SwapCalculationUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/UrlUtils.js":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/UrlUtils.js ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   matchNonWildcardPattern: () => (/* binding */ matchNonWildcardPattern),\n/* harmony export */   matchWildcardPattern: () => (/* binding */ matchWildcardPattern),\n/* harmony export */   parseOriginRaw: () => (/* binding */ parseOriginRaw),\n/* harmony export */   parseSchemelessHostPort: () => (/* binding */ parseSchemelessHostPort),\n/* harmony export */   parseUrl: () => (/* binding */ parseUrl)\n/* harmony export */ });\n/**\n * Parses a string as a URL.\n * @param value - The string to parse.\n * @returns The parsed URL object or null if invalid.\n */\nfunction parseUrl(value) {\n    try {\n        return new URL(value);\n    }\n    catch {\n        return null;\n    }\n}\n/**\n * Parses a schemeless host:port pattern from a string.\n * @param pattern - The input pattern string.\n * @returns An object containing the host and optional port.\n */\nfunction parseSchemelessHostPort(pattern) {\n    const parts = pattern.split('/');\n    const withoutPath = parts.length > 0 && parts[0] !== undefined ? parts[0] : '';\n    const lastColon = withoutPath.lastIndexOf(':');\n    if (lastColon === -1) {\n        return { host: withoutPath };\n    }\n    return {\n        host: withoutPath.slice(0, lastColon),\n        port: withoutPath.slice(lastColon + 1)\n    };\n}\n/**\n * Parses an origin string into its scheme, host, and optional port.\n * @param origin - The origin string to parse.\n * @returns An object with scheme, host, and optional port, or null if invalid.\n */\nfunction parseOriginRaw(origin) {\n    const schemeIdx = origin.indexOf('://');\n    if (schemeIdx === -1) {\n        return null;\n    }\n    const scheme = origin.slice(0, schemeIdx);\n    const start = schemeIdx + 3;\n    let end = origin.indexOf('/', start);\n    if (end === -1) {\n        end = origin.length;\n    }\n    const hostPort = origin.slice(start, end);\n    const lastColon = hostPort.lastIndexOf(':');\n    if (lastColon === -1) {\n        return { scheme, host: hostPort };\n    }\n    return { scheme, host: hostPort.slice(0, lastColon), port: hostPort.slice(lastColon + 1) };\n}\n/**\n * Checks if the current origin matches a non-wildcard pattern.\n * @param currentOrigin - The current origin as a string.\n * @param pattern - The pattern string to match.\n * @returns True if the pattern matches, otherwise false.\n */\nfunction matchNonWildcardPattern(currentOrigin, pattern) {\n    // If pattern explicitly specifies a scheme, compare origins (ignore path)\n    if (pattern.includes('://')) {\n        const url = parseUrl(pattern);\n        return url ? url.origin === currentOrigin : false;\n    }\n    // Schemeless: treat as hostname[:port]\n    const { host, port } = parseSchemelessHostPort(pattern);\n    // Extract raw host[:port] from the origin string to preserve case-sensitivity\n    const schemeIdx = currentOrigin.indexOf('://');\n    if (schemeIdx !== -1) {\n        const start = schemeIdx + 3;\n        let end = currentOrigin.indexOf('/', start);\n        if (end === -1) {\n            end = currentOrigin.length;\n        }\n        const rawHostPort = currentOrigin.slice(start, end);\n        if (port !== undefined) {\n            return `${host}:${port}` === rawHostPort;\n        }\n        const rawHostOnly = rawHostPort.split(':')[0];\n        return host === rawHostOnly;\n    }\n    // Fallback to URL parsing when origin isn't a standard scheme URL\n    const current = parseUrl(currentOrigin);\n    if (!current) {\n        return false;\n    }\n    if (port !== undefined) {\n        return host === current.hostname && port === (current.port || undefined);\n    }\n    return host === current.hostname;\n}\n/**\n * Checks if the current origin matches a wildcard pattern.\n * @param current - The current origin as a URL object.\n * @param currentOrigin - The current origin as a string.\n * @param pattern - The wildcard pattern string to use.\n * @returns True if matches the wildcard pattern, otherwise false.\n */\nfunction matchWildcardPattern(current, currentOrigin, pattern) {\n    // Extract scheme if present and strip path\n    let working = pattern;\n    let scheme = undefined;\n    const schemeIdx = working.indexOf('://');\n    if (schemeIdx !== -1) {\n        scheme = working.slice(0, schemeIdx);\n        working = working.slice(schemeIdx + 3);\n    }\n    const slashIdx = working.indexOf('/');\n    if (slashIdx !== -1) {\n        working = working.slice(0, slashIdx);\n    }\n    // Split host and optional port\n    let hostPart = working;\n    let portPart = undefined;\n    const lastColon = hostPart.lastIndexOf(':');\n    if (lastColon !== -1) {\n        portPart = hostPart.slice(lastColon + 1);\n        hostPart = hostPart.slice(0, lastColon);\n    }\n    // Validate wildcard usage (only full-label '*')\n    const patternLabels = hostPart.split('.');\n    for (const label of patternLabels) {\n        if (label.includes('*') && label !== '*') {\n            return false;\n        }\n    }\n    // Scheme must match when specified\n    const currentScheme = current.protocol.replace(/:$/u, '');\n    if (scheme && scheme !== currentScheme) {\n        return false;\n    }\n    // Port must match exactly when specified (or '*' allows any)\n    if (portPart !== undefined) {\n        if (portPart !== '*' && portPart !== current.port) {\n            return false;\n        }\n    }\n    /**\n     * Host must have the same number of labels; '*' matches exactly one label.\n     * Uses raw host from the original origin to preserve case-sensitivity.\n     */\n    const raw = parseOriginRaw(currentOrigin);\n    const hostForCompare = raw ? raw.host : current.hostname;\n    const currentLabels = hostForCompare.split('.');\n    if (patternLabels.length !== currentLabels.length) {\n        return false;\n    }\n    for (let i = patternLabels.length - 1; i >= 0; i -= 1) {\n        const p = patternLabels[i];\n        const c = currentLabels[i];\n        if (p !== '*' && p !== c) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=UrlUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9VcmxVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixLQUFLLEdBQUcsS0FBSztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9iZXJndGF0dC9wcm9qZWN0cy9lbXRweWxhYi9saWtlbGkvbm9kZV9tb2R1bGVzLy5wbnBtL0ByZW93bithcHBraXQtY29udHJvbGxlcnNAMS44LjE3LXdjLWNpcmN1bGFyLWRlcGVuZGVuY2llcy1maXguMF9AdHlwZXMrcmVhY3RAMTkuMi45X2J1Zl8xMTk2ZGEwYjUxZDYzODU5MGEwMzkzODk4NDhkYzEyZi9ub2RlX21vZHVsZXMvQHJlb3duL2FwcGtpdC1jb250cm9sbGVycy9kaXN0L2VzbS9zcmMvdXRpbHMvVXJsVXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQYXJzZXMgYSBzdHJpbmcgYXMgYSBVUkwuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgc3RyaW5nIHRvIHBhcnNlLlxuICogQHJldHVybnMgVGhlIHBhcnNlZCBVUkwgb2JqZWN0IG9yIG51bGwgaWYgaW52YWxpZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBVUkwodmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogUGFyc2VzIGEgc2NoZW1lbGVzcyBob3N0OnBvcnQgcGF0dGVybiBmcm9tIGEgc3RyaW5nLlxuICogQHBhcmFtIHBhdHRlcm4gLSBUaGUgaW5wdXQgcGF0dGVybiBzdHJpbmcuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgaG9zdCBhbmQgb3B0aW9uYWwgcG9ydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2NoZW1lbGVzc0hvc3RQb3J0KHBhdHRlcm4pIHtcbiAgICBjb25zdCBwYXJ0cyA9IHBhdHRlcm4uc3BsaXQoJy8nKTtcbiAgICBjb25zdCB3aXRob3V0UGF0aCA9IHBhcnRzLmxlbmd0aCA+IDAgJiYgcGFydHNbMF0gIT09IHVuZGVmaW5lZCA/IHBhcnRzWzBdIDogJyc7XG4gICAgY29uc3QgbGFzdENvbG9uID0gd2l0aG91dFBhdGgubGFzdEluZGV4T2YoJzonKTtcbiAgICBpZiAobGFzdENvbG9uID09PSAtMSkge1xuICAgICAgICByZXR1cm4geyBob3N0OiB3aXRob3V0UGF0aCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBob3N0OiB3aXRob3V0UGF0aC5zbGljZSgwLCBsYXN0Q29sb24pLFxuICAgICAgICBwb3J0OiB3aXRob3V0UGF0aC5zbGljZShsYXN0Q29sb24gKyAxKVxuICAgIH07XG59XG4vKipcbiAqIFBhcnNlcyBhbiBvcmlnaW4gc3RyaW5nIGludG8gaXRzIHNjaGVtZSwgaG9zdCwgYW5kIG9wdGlvbmFsIHBvcnQuXG4gKiBAcGFyYW0gb3JpZ2luIC0gVGhlIG9yaWdpbiBzdHJpbmcgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBzY2hlbWUsIGhvc3QsIGFuZCBvcHRpb25hbCBwb3J0LCBvciBudWxsIGlmIGludmFsaWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU9yaWdpblJhdyhvcmlnaW4pIHtcbiAgICBjb25zdCBzY2hlbWVJZHggPSBvcmlnaW4uaW5kZXhPZignOi8vJyk7XG4gICAgaWYgKHNjaGVtZUlkeCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtZSA9IG9yaWdpbi5zbGljZSgwLCBzY2hlbWVJZHgpO1xuICAgIGNvbnN0IHN0YXJ0ID0gc2NoZW1lSWR4ICsgMztcbiAgICBsZXQgZW5kID0gb3JpZ2luLmluZGV4T2YoJy8nLCBzdGFydCk7XG4gICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgZW5kID0gb3JpZ2luLmxlbmd0aDtcbiAgICB9XG4gICAgY29uc3QgaG9zdFBvcnQgPSBvcmlnaW4uc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgY29uc3QgbGFzdENvbG9uID0gaG9zdFBvcnQubGFzdEluZGV4T2YoJzonKTtcbiAgICBpZiAobGFzdENvbG9uID09PSAtMSkge1xuICAgICAgICByZXR1cm4geyBzY2hlbWUsIGhvc3Q6IGhvc3RQb3J0IH07XG4gICAgfVxuICAgIHJldHVybiB7IHNjaGVtZSwgaG9zdDogaG9zdFBvcnQuc2xpY2UoMCwgbGFzdENvbG9uKSwgcG9ydDogaG9zdFBvcnQuc2xpY2UobGFzdENvbG9uICsgMSkgfTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IG9yaWdpbiBtYXRjaGVzIGEgbm9uLXdpbGRjYXJkIHBhdHRlcm4uXG4gKiBAcGFyYW0gY3VycmVudE9yaWdpbiAtIFRoZSBjdXJyZW50IG9yaWdpbiBhcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBwYXR0ZXJuIC0gVGhlIHBhdHRlcm4gc3RyaW5nIHRvIG1hdGNoLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcGF0dGVybiBtYXRjaGVzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaE5vbldpbGRjYXJkUGF0dGVybihjdXJyZW50T3JpZ2luLCBwYXR0ZXJuKSB7XG4gICAgLy8gSWYgcGF0dGVybiBleHBsaWNpdGx5IHNwZWNpZmllcyBhIHNjaGVtZSwgY29tcGFyZSBvcmlnaW5zIChpZ25vcmUgcGF0aClcbiAgICBpZiAocGF0dGVybi5pbmNsdWRlcygnOi8vJykpIHtcbiAgICAgICAgY29uc3QgdXJsID0gcGFyc2VVcmwocGF0dGVybik7XG4gICAgICAgIHJldHVybiB1cmwgPyB1cmwub3JpZ2luID09PSBjdXJyZW50T3JpZ2luIDogZmFsc2U7XG4gICAgfVxuICAgIC8vIFNjaGVtZWxlc3M6IHRyZWF0IGFzIGhvc3RuYW1lWzpwb3J0XVxuICAgIGNvbnN0IHsgaG9zdCwgcG9ydCB9ID0gcGFyc2VTY2hlbWVsZXNzSG9zdFBvcnQocGF0dGVybik7XG4gICAgLy8gRXh0cmFjdCByYXcgaG9zdFs6cG9ydF0gZnJvbSB0aGUgb3JpZ2luIHN0cmluZyB0byBwcmVzZXJ2ZSBjYXNlLXNlbnNpdGl2aXR5XG4gICAgY29uc3Qgc2NoZW1lSWR4ID0gY3VycmVudE9yaWdpbi5pbmRleE9mKCc6Ly8nKTtcbiAgICBpZiAoc2NoZW1lSWR4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHNjaGVtZUlkeCArIDM7XG4gICAgICAgIGxldCBlbmQgPSBjdXJyZW50T3JpZ2luLmluZGV4T2YoJy8nLCBzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgICBlbmQgPSBjdXJyZW50T3JpZ2luLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdIb3N0UG9ydCA9IGN1cnJlbnRPcmlnaW4uc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIGlmIChwb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtob3N0fToke3BvcnR9YCA9PT0gcmF3SG9zdFBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3SG9zdE9ubHkgPSByYXdIb3N0UG9ydC5zcGxpdCgnOicpWzBdO1xuICAgICAgICByZXR1cm4gaG9zdCA9PT0gcmF3SG9zdE9ubHk7XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIHRvIFVSTCBwYXJzaW5nIHdoZW4gb3JpZ2luIGlzbid0IGEgc3RhbmRhcmQgc2NoZW1lIFVSTFxuICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJzZVVybChjdXJyZW50T3JpZ2luKTtcbiAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocG9ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBob3N0ID09PSBjdXJyZW50Lmhvc3RuYW1lICYmIHBvcnQgPT09IChjdXJyZW50LnBvcnQgfHwgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIGhvc3QgPT09IGN1cnJlbnQuaG9zdG5hbWU7XG59XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBvcmlnaW4gbWF0Y2hlcyBhIHdpbGRjYXJkIHBhdHRlcm4uXG4gKiBAcGFyYW0gY3VycmVudCAtIFRoZSBjdXJyZW50IG9yaWdpbiBhcyBhIFVSTCBvYmplY3QuXG4gKiBAcGFyYW0gY3VycmVudE9yaWdpbiAtIFRoZSBjdXJyZW50IG9yaWdpbiBhcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBwYXR0ZXJuIC0gVGhlIHdpbGRjYXJkIHBhdHRlcm4gc3RyaW5nIHRvIHVzZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgbWF0Y2hlcyB0aGUgd2lsZGNhcmQgcGF0dGVybiwgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hXaWxkY2FyZFBhdHRlcm4oY3VycmVudCwgY3VycmVudE9yaWdpbiwgcGF0dGVybikge1xuICAgIC8vIEV4dHJhY3Qgc2NoZW1lIGlmIHByZXNlbnQgYW5kIHN0cmlwIHBhdGhcbiAgICBsZXQgd29ya2luZyA9IHBhdHRlcm47XG4gICAgbGV0IHNjaGVtZSA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzY2hlbWVJZHggPSB3b3JraW5nLmluZGV4T2YoJzovLycpO1xuICAgIGlmIChzY2hlbWVJZHggIT09IC0xKSB7XG4gICAgICAgIHNjaGVtZSA9IHdvcmtpbmcuc2xpY2UoMCwgc2NoZW1lSWR4KTtcbiAgICAgICAgd29ya2luZyA9IHdvcmtpbmcuc2xpY2Uoc2NoZW1lSWR4ICsgMyk7XG4gICAgfVxuICAgIGNvbnN0IHNsYXNoSWR4ID0gd29ya2luZy5pbmRleE9mKCcvJyk7XG4gICAgaWYgKHNsYXNoSWR4ICE9PSAtMSkge1xuICAgICAgICB3b3JraW5nID0gd29ya2luZy5zbGljZSgwLCBzbGFzaElkeCk7XG4gICAgfVxuICAgIC8vIFNwbGl0IGhvc3QgYW5kIG9wdGlvbmFsIHBvcnRcbiAgICBsZXQgaG9zdFBhcnQgPSB3b3JraW5nO1xuICAgIGxldCBwb3J0UGFydCA9IHVuZGVmaW5lZDtcbiAgICBjb25zdCBsYXN0Q29sb24gPSBob3N0UGFydC5sYXN0SW5kZXhPZignOicpO1xuICAgIGlmIChsYXN0Q29sb24gIT09IC0xKSB7XG4gICAgICAgIHBvcnRQYXJ0ID0gaG9zdFBhcnQuc2xpY2UobGFzdENvbG9uICsgMSk7XG4gICAgICAgIGhvc3RQYXJ0ID0gaG9zdFBhcnQuc2xpY2UoMCwgbGFzdENvbG9uKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgd2lsZGNhcmQgdXNhZ2UgKG9ubHkgZnVsbC1sYWJlbCAnKicpXG4gICAgY29uc3QgcGF0dGVybkxhYmVscyA9IGhvc3RQYXJ0LnNwbGl0KCcuJyk7XG4gICAgZm9yIChjb25zdCBsYWJlbCBvZiBwYXR0ZXJuTGFiZWxzKSB7XG4gICAgICAgIGlmIChsYWJlbC5pbmNsdWRlcygnKicpICYmIGxhYmVsICE9PSAnKicpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTY2hlbWUgbXVzdCBtYXRjaCB3aGVuIHNwZWNpZmllZFxuICAgIGNvbnN0IGN1cnJlbnRTY2hlbWUgPSBjdXJyZW50LnByb3RvY29sLnJlcGxhY2UoLzokL3UsICcnKTtcbiAgICBpZiAoc2NoZW1lICYmIHNjaGVtZSAhPT0gY3VycmVudFNjaGVtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFBvcnQgbXVzdCBtYXRjaCBleGFjdGx5IHdoZW4gc3BlY2lmaWVkIChvciAnKicgYWxsb3dzIGFueSlcbiAgICBpZiAocG9ydFBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAocG9ydFBhcnQgIT09ICcqJyAmJiBwb3J0UGFydCAhPT0gY3VycmVudC5wb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSG9zdCBtdXN0IGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGxhYmVsczsgJyonIG1hdGNoZXMgZXhhY3RseSBvbmUgbGFiZWwuXG4gICAgICogVXNlcyByYXcgaG9zdCBmcm9tIHRoZSBvcmlnaW5hbCBvcmlnaW4gdG8gcHJlc2VydmUgY2FzZS1zZW5zaXRpdml0eS5cbiAgICAgKi9cbiAgICBjb25zdCByYXcgPSBwYXJzZU9yaWdpblJhdyhjdXJyZW50T3JpZ2luKTtcbiAgICBjb25zdCBob3N0Rm9yQ29tcGFyZSA9IHJhdyA/IHJhdy5ob3N0IDogY3VycmVudC5ob3N0bmFtZTtcbiAgICBjb25zdCBjdXJyZW50TGFiZWxzID0gaG9zdEZvckNvbXBhcmUuc3BsaXQoJy4nKTtcbiAgICBpZiAocGF0dGVybkxhYmVscy5sZW5ndGggIT09IGN1cnJlbnRMYWJlbHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHBhdHRlcm5MYWJlbHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgY29uc3QgcCA9IHBhdHRlcm5MYWJlbHNbaV07XG4gICAgICAgIGNvbnN0IGMgPSBjdXJyZW50TGFiZWxzW2ldO1xuICAgICAgICBpZiAocCAhPT0gJyonICYmIHAgIT09IGMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVybFV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/UrlUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js":
/*!***************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js ***!
  \***************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViemUtil: () => (/* binding */ ViemUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n\n\n\n// -- Constants ----------------------------------------------------------------\nlet cachedViemUtils = undefined;\n// -- Helpers ------------------------------------------------------------------\nasync function loadViemUtils() {\n    if (!cachedViemUtils) {\n        const { createPublicClient, http, defineChain } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/viem@2.44.4_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76\"), __webpack_require__.e(\"vendor-chunks/ox@0.11.3_typescript@5.9.3_zod@3.25.76\"), __webpack_require__.e(\"vendor-chunks/abitype@1.2.3_typescript@5.9.3_zod@3.25.76\")]).then(__webpack_require__.bind(__webpack_require__, /*! viem */ \"(ssr)/./node_modules/.pnpm/viem@2.44.4_bufferutil@4.1.0_typescript@5.9.3_utf-8-validate@5.0.10_zod@3.25.76/node_modules/viem/_esm/index.js\"));\n        cachedViemUtils = {\n            createPublicClient,\n            http,\n            defineChain\n        };\n    }\n    return cachedViemUtils;\n}\n// -- Utils --------------------------------------------------------------------\nconst ViemUtil = {\n    getBlockchainApiRpcUrl(caipNetworkId, projectId) {\n        const url = new URL('https://rpc.walletconnect.org/v1/');\n        url.searchParams.set('chainId', caipNetworkId);\n        url.searchParams.set('projectId', projectId);\n        return url.toString();\n    },\n    async getViemChain(caipNetwork) {\n        const { defineChain } = await loadViemUtils();\n        const { chainId } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_0__.ParseUtil.parseCaipNetworkId(caipNetwork.caipNetworkId);\n        return defineChain({ ...caipNetwork, id: Number(chainId) });\n    },\n    async createViemPublicClient(caipNetwork) {\n        const { createPublicClient, http } = await loadViemUtils();\n        const projectId = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_1__.OptionsController.state.projectId;\n        const viemChain = await ViemUtil.getViemChain(caipNetwork);\n        if (!viemChain) {\n            throw new Error(`Chain ${caipNetwork.caipNetworkId} not found in viem/chains`);\n        }\n        return createPublicClient({\n            chain: viemChain,\n            transport: http(ViemUtil.getBlockchainApiRpcUrl(caipNetwork.caipNetworkId, projectId))\n        });\n    }\n};\n//# sourceMappingURL=ViemUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9WaWVtVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0I7QUFDMkI7QUFDdUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3Q0FBd0MsUUFBUSxvZ0JBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUIsZ0JBQWdCLFVBQVUsRUFBRSwyREFBUztBQUNyQyw2QkFBNkIscUNBQXFDO0FBQ2xFLEtBQUs7QUFDTDtBQUNBLGdCQUFnQiwyQkFBMkI7QUFDM0MsMEJBQTBCLGdGQUFpQjtBQUMzQztBQUNBO0FBQ0EscUNBQXFDLDJCQUEyQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9WaWVtVXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge30gZnJvbSAndmllbSc7XG5pbXBvcnQgeyBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBPcHRpb25zQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL09wdGlvbnNDb250cm9sbGVyLmpzJztcbi8vIC0tIENvbnN0YW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5sZXQgY2FjaGVkVmllbVV0aWxzID0gdW5kZWZpbmVkO1xuLy8gLS0gSGVscGVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRWaWVtVXRpbHMoKSB7XG4gICAgaWYgKCFjYWNoZWRWaWVtVXRpbHMpIHtcbiAgICAgICAgY29uc3QgeyBjcmVhdGVQdWJsaWNDbGllbnQsIGh0dHAsIGRlZmluZUNoYWluIH0gPSBhd2FpdCBpbXBvcnQoJ3ZpZW0nKTtcbiAgICAgICAgY2FjaGVkVmllbVV0aWxzID0ge1xuICAgICAgICAgICAgY3JlYXRlUHVibGljQ2xpZW50LFxuICAgICAgICAgICAgaHR0cCxcbiAgICAgICAgICAgIGRlZmluZUNoYWluXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWRWaWVtVXRpbHM7XG59XG4vLyAtLSBVdGlscyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFZpZW1VdGlsID0ge1xuICAgIGdldEJsb2NrY2hhaW5BcGlScGNVcmwoY2FpcE5ldHdvcmtJZCwgcHJvamVjdElkKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoJ2h0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxLycpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnY2hhaW5JZCcsIGNhaXBOZXR3b3JrSWQpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncHJvamVjdElkJywgcHJvamVjdElkKTtcbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH0sXG4gICAgYXN5bmMgZ2V0VmllbUNoYWluKGNhaXBOZXR3b3JrKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmaW5lQ2hhaW4gfSA9IGF3YWl0IGxvYWRWaWVtVXRpbHMoKTtcbiAgICAgICAgY29uc3QgeyBjaGFpbklkIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwTmV0d29ya0lkKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQpO1xuICAgICAgICByZXR1cm4gZGVmaW5lQ2hhaW4oeyAuLi5jYWlwTmV0d29yaywgaWQ6IE51bWJlcihjaGFpbklkKSB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGNyZWF0ZVZpZW1QdWJsaWNDbGllbnQoY2FpcE5ldHdvcmspIHtcbiAgICAgICAgY29uc3QgeyBjcmVhdGVQdWJsaWNDbGllbnQsIGh0dHAgfSA9IGF3YWl0IGxvYWRWaWVtVXRpbHMoKTtcbiAgICAgICAgY29uc3QgcHJvamVjdElkID0gT3B0aW9uc0NvbnRyb2xsZXIuc3RhdGUucHJvamVjdElkO1xuICAgICAgICBjb25zdCB2aWVtQ2hhaW4gPSBhd2FpdCBWaWVtVXRpbC5nZXRWaWVtQ2hhaW4oY2FpcE5ldHdvcmspO1xuICAgICAgICBpZiAoIXZpZW1DaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFpbiAke2NhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWR9IG5vdCBmb3VuZCBpbiB2aWVtL2NoYWluc2ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGVQdWJsaWNDbGllbnQoe1xuICAgICAgICAgICAgY2hhaW46IHZpZW1DaGFpbixcbiAgICAgICAgICAgIHRyYW5zcG9ydDogaHR0cChWaWVtVXRpbC5nZXRCbG9ja2NoYWluQXBpUnBjVXJsKGNhaXBOZXR3b3JrLmNhaXBOZXR3b3JrSWQsIHByb2plY3RJZCkpXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWVtVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ViemUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_METHODS: () => (/* binding */ DEFAULT_METHODS),\n/* harmony export */   WcHelpersUtil: () => (/* binding */ WcHelpersUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/ParseUtil.js\");\n/* harmony import */ var _controllers_EnsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/EnsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/EnsController.js\");\n/* harmony import */ var _UrlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UrlUtils.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/UrlUtils.js\");\n\n\n\nconst DEFAULT_METHODS = {\n    ton: ['ton_sendMessage', 'ton_signData'],\n    solana: [\n        'solana_signMessage',\n        'solana_signTransaction',\n        'solana_requestAccounts',\n        'solana_getAccounts',\n        'solana_signAllTransactions',\n        'solana_signAndSendTransaction'\n    ],\n    eip155: [\n        'eth_accounts',\n        'eth_requestAccounts',\n        'eth_sendRawTransaction',\n        'eth_sign',\n        'eth_signTransaction',\n        'eth_signTypedData',\n        'eth_signTypedData_v3',\n        'eth_signTypedData_v4',\n        'eth_sendTransaction',\n        'personal_sign',\n        'wallet_switchEthereumChain',\n        'wallet_addEthereumChain',\n        'wallet_getPermissions',\n        'wallet_requestPermissions',\n        'wallet_registerOnboarding',\n        'wallet_watchAsset',\n        'wallet_scanQRCode',\n        // EIP-5792\n        'wallet_getCallsStatus',\n        'wallet_showCallsStatus',\n        'wallet_sendCalls',\n        'wallet_getCapabilities',\n        // EIP-7715\n        'wallet_grantPermissions',\n        'wallet_revokePermissions',\n        //EIP-7811\n        'wallet_getAssets'\n    ],\n    bip122: ['sendTransfer', 'signMessage', 'signPsbt', 'getAccountAddresses']\n};\nconst WcHelpersUtil = {\n    RPC_ERROR_CODE: {\n        USER_REJECTED: 5000,\n        USER_REJECTED_METHODS: 5002\n    },\n    /**\n     * Retrieves the array of supported methods for a given chain namespace.\n     * @param chainNamespace - The chain namespace.\n     * @returns An array of method strings.\n     */\n    getMethodsByChainNamespace(chainNamespace) {\n        return DEFAULT_METHODS[chainNamespace] || [];\n    },\n    /**\n     * Creates a default WalletConnect namespace configuration for the given chain namespace.\n     * @param chainNamespace - The chain namespace.\n     * @returns The default Namespace object.\n     */\n    createDefaultNamespace(chainNamespace) {\n        return {\n            methods: this.getMethodsByChainNamespace(chainNamespace),\n            events: ['accountsChanged', 'chainChanged'],\n            chains: [],\n            rpcMap: {}\n        };\n    },\n    /**\n     * Applies overrides to the base WalletConnect NamespaceConfig.\n     * @param baseNamespaces - The base namespace configuration.\n     * @param overrides - Optional overrides for methods, chains, events, rpcMap.\n     * @returns The resulting NamespaceConfig with overrides applied.\n     */\n    applyNamespaceOverrides(baseNamespaces, overrides) {\n        if (!overrides) {\n            return { ...baseNamespaces };\n        }\n        const result = { ...baseNamespaces };\n        const namespacesToOverride = new Set();\n        if (overrides.methods) {\n            Object.keys(overrides.methods).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.chains) {\n            Object.keys(overrides.chains).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.events) {\n            Object.keys(overrides.events).forEach(ns => namespacesToOverride.add(ns));\n        }\n        if (overrides.rpcMap) {\n            Object.keys(overrides.rpcMap).forEach(chainId => {\n                const [ns] = chainId.split(':');\n                if (ns) {\n                    namespacesToOverride.add(ns);\n                }\n            });\n        }\n        namespacesToOverride.forEach(ns => {\n            if (!result[ns]) {\n                result[ns] = this.createDefaultNamespace(ns);\n            }\n        });\n        if (overrides.methods) {\n            Object.entries(overrides.methods).forEach(([ns, methods]) => {\n                if (result[ns]) {\n                    result[ns].methods = methods;\n                }\n            });\n        }\n        if (overrides.chains) {\n            Object.entries(overrides.chains).forEach(([ns, chains]) => {\n                if (result[ns]) {\n                    result[ns].chains = chains;\n                }\n            });\n        }\n        if (overrides.events) {\n            Object.entries(overrides.events).forEach(([ns, events]) => {\n                if (result[ns]) {\n                    result[ns].events = events;\n                }\n            });\n        }\n        if (overrides.rpcMap) {\n            const processedNamespaces = new Set();\n            Object.entries(overrides.rpcMap).forEach(([chainId, rpcUrl]) => {\n                const [ns, id] = chainId.split(':');\n                if (!ns || !id || !result[ns]) {\n                    return;\n                }\n                if (!result[ns].rpcMap) {\n                    result[ns].rpcMap = {};\n                }\n                if (!processedNamespaces.has(ns)) {\n                    result[ns].rpcMap = {};\n                    processedNamespaces.add(ns);\n                }\n                result[ns].rpcMap[id] = rpcUrl;\n            });\n        }\n        return result;\n    },\n    /**\n     * Creates WalletConnect namespaces based on CAIP network definitions,\n     * optionally applying custom overrides.\n     * @param caipNetworks - Array of CaipNetwork definitions.\n     * @param configOverride - Optional overrides for namespaces.\n     * @returns The resulting NamespaceConfig.\n     */\n    createNamespaces(caipNetworks, configOverride) {\n        const defaultNamespaces = caipNetworks.reduce((acc, chain) => {\n            const { id, chainNamespace, rpcUrls } = chain;\n            const rpcUrl = rpcUrls.default.http[0];\n            if (!acc[chainNamespace]) {\n                acc[chainNamespace] = this.createDefaultNamespace(chainNamespace);\n            }\n            const caipNetworkId = `${chainNamespace}:${id}`;\n            // eslint-disable-next-line @typescript-eslint/non-nullable-type-assertion-style\n            const namespace = acc[chainNamespace];\n            namespace.chains.push(caipNetworkId);\n            // Workaround for wallets that only support deprecated Solana network ID\n            switch (caipNetworkId) {\n                case 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp':\n                    namespace.chains.push('solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ');\n                    break;\n                case 'solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1':\n                    namespace.chains.push('solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K');\n                    break;\n                default:\n            }\n            if (namespace?.rpcMap && rpcUrl) {\n                namespace.rpcMap[id] = rpcUrl;\n            }\n            return acc;\n        }, {});\n        return this.applyNamespaceOverrides(defaultNamespaces, configOverride);\n    },\n    /**\n     * Resolves a Reown/ENS name to its first matching address across configured networks.\n     * @param name - The ENS or Reown name to resolve.\n     * @returns The resolved address as a string, or false if not found.\n     */\n    resolveReownName: async (name) => {\n        const wcNameAddress = await _controllers_EnsController_js__WEBPACK_IMPORTED_MODULE_0__.EnsController.resolveName(name);\n        const networkNameAddresses = wcNameAddress?.addresses\n            ? Object.values(wcNameAddress.addresses)\n            : [];\n        return networkNameAddresses[0]?.address || false;\n    },\n    /**\n     * Extracts all CAIP network IDs used in given WalletConnect namespaces.\n     * @param namespaces - WalletConnect Namespaces object.\n     * @returns Array of CAIP network IDs (chainNamespace:chainId).\n     */\n    getChainsFromNamespaces(namespaces = {}) {\n        return Object.values(namespaces).flatMap(namespace => {\n            const chains = (namespace.chains || []);\n            const accountsChains = namespace.accounts.map(account => {\n                const [chainNamespace, chainId] = account.split(':');\n                return `${chainNamespace}:${chainId}`;\n            });\n            return Array.from(new Set([...chains, ...accountsChains]));\n        });\n    },\n    /**\n     * Type guard to check if an object is a WalletConnect session event data.\n     * @param data - The data to check.\n     * @returns True if data matches SessionEventData structure.\n     */\n    isSessionEventData(data) {\n        return (typeof data === 'object' &&\n            data !== null &&\n            'id' in data &&\n            'topic' in data &&\n            'params' in data &&\n            typeof data.params === 'object' &&\n            data.params !== null &&\n            'chainId' in data.params &&\n            'event' in data.params &&\n            typeof data.params.event === 'object' &&\n            data.params.event !== null);\n    },\n    /**\n     * Detects if an error object represents a user-rejected WalletConnect request.\n     * @param error - The error object to check.\n     * @returns True if user rejected request, otherwise false.\n     */\n    isUserRejectedRequestError(error) {\n        try {\n            if (typeof error === 'object' && error !== null) {\n                const objErr = error;\n                const hasCode = typeof objErr['code'] === 'number';\n                const hasUserRejectedMethods = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED_METHODS;\n                const hasUserRejected = hasCode && objErr['code'] === WcHelpersUtil.RPC_ERROR_CODE.USER_REJECTED;\n                return hasUserRejectedMethods || hasUserRejected;\n            }\n            return false;\n        }\n        catch {\n            return false;\n        }\n    },\n    /**\n     * Checks if a current origin is allowed by configured allowed and default origin patterns.\n     * Localhost and 127.0.0.1 are always allowed.\n     * @param currentOrigin - The current web origin.\n     * @param allowedPatterns - Patterns from project configuration.\n     * @param defaultAllowedOrigins - Built-in or default allowed patterns.\n     * @returns True if the origin is allowed, false otherwise.\n     */\n    isOriginAllowed(currentOrigin, allowedPatterns, defaultAllowedOrigins) {\n        const patterns = [...allowedPatterns, ...defaultAllowedOrigins];\n        // Spec: empty allowlist allows all origins\n        if (allowedPatterns.length === 0) {\n            return true;\n        }\n        // Parse current origin up-front\n        const current = (0,_UrlUtils_js__WEBPACK_IMPORTED_MODULE_1__.parseUrl)(currentOrigin);\n        if (!current) {\n            // Legacy exact string equality when pattern has no wildcard\n            return patterns.some(pattern => !pattern.includes('*') && pattern === currentOrigin);\n        }\n        // Local development is always permitted\n        if (current.hostname === 'localhost' || current.hostname === '127.0.0.1') {\n            return true;\n        }\n        for (const pattern of patterns) {\n            if (pattern.includes('*')) {\n                if ((0,_UrlUtils_js__WEBPACK_IMPORTED_MODULE_1__.matchWildcardPattern)(current, currentOrigin, pattern)) {\n                    return true;\n                }\n                // Keep checking remaining patterns\n            }\n            else if ((0,_UrlUtils_js__WEBPACK_IMPORTED_MODULE_1__.matchNonWildcardPattern)(currentOrigin, pattern)) {\n                return true;\n            }\n        }\n        return false;\n    },\n    /**\n     * Attaches event listeners to a UniversalProvider instance for WalletConnect events.\n     * @param params - The listener parameters including handlers for connect, disconnect, etc.\n     */\n    listenWcProvider({ universalProvider, namespace, onConnect, onDisconnect, onAccountsChanged, onChainChanged, onDisplayUri }) {\n        if (onConnect) {\n            universalProvider.on('connect', () => {\n                const accounts = WcHelpersUtil.getWalletConnectAccounts(universalProvider, namespace);\n                onConnect(accounts);\n            });\n        }\n        if (onDisconnect) {\n            universalProvider.on('disconnect', () => {\n                onDisconnect();\n            });\n        }\n        if (onAccountsChanged) {\n            /*\n             * In multichain scenario - every adapter will listen to accountsChanged event\n             * so make sure to call `onAccountsChanged` only on the namespace that actually has accounts changed\n             */\n            universalProvider.on('accountsChanged', (accounts) => {\n                try {\n                    const allAccounts = universalProvider.session?.namespaces?.[namespace]?.accounts || [];\n                    const defaultChain = universalProvider.rpcProviders?.[namespace]?.getDefaultChain();\n                    const parsedAccounts = accounts\n                        .map(account => {\n                        const caipAccount = allAccounts.find(acc => acc.includes(`${namespace}:${defaultChain}:${account}`));\n                        if (!caipAccount) {\n                            return undefined;\n                        }\n                        const { chainId, chainNamespace } = _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ParseUtil.parseCaipAddress(caipAccount);\n                        return {\n                            address: account,\n                            chainId,\n                            chainNamespace\n                        };\n                    })\n                        .filter(account => account !== undefined);\n                    // Emit accountsChanged event only if there are accounts\n                    if (parsedAccounts.length > 0) {\n                        onAccountsChanged(parsedAccounts);\n                    }\n                }\n                catch (error) {\n                    console.warn('Failed to parse accounts for namespace on accountsChanged event', namespace, accounts, error);\n                }\n            });\n        }\n        if (onChainChanged) {\n            universalProvider.on('chainChanged', (chainId) => {\n                onChainChanged(chainId);\n            });\n        }\n        if (onDisplayUri) {\n            universalProvider.on('display_uri', (uri) => {\n                onDisplayUri(uri);\n            });\n        }\n    },\n    /**\n     * Retrieves and parses the unique set of accounts for a given WalletConnect namespace.\n     * @param universalProvider - The UniversalProvider instance.\n     * @param namespace - The chain namespace to extract accounts for.\n     * @returns Array of parsed CaipAddress objects.\n     */\n    getWalletConnectAccounts(universalProvider, namespace) {\n        const accountsAdded = new Set();\n        const accounts = universalProvider?.session?.namespaces?.[namespace]?.accounts\n            ?.map(account => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_2__.ParseUtil.parseCaipAddress(account))\n            .filter(({ address }) => {\n            if (accountsAdded.has(address.toLowerCase())) {\n                return false;\n            }\n            accountsAdded.add(address.toLowerCase());\n            return true;\n        });\n        if (accounts && accounts.length > 0) {\n            return accounts;\n        }\n        return [];\n    }\n};\n//# sourceMappingURL=WalletConnectUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRDb25uZWN0VXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpRDtBQUNlO0FBQ3dCO0FBQ2pGO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4QkFBOEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZUFBZSxHQUFHLEdBQUc7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3RUFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWUsR0FBRyxRQUFRO0FBQ3BELGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0VBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFFQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3R0FBd0c7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLFVBQVUsR0FBRyxhQUFhLEdBQUcsUUFBUTtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMEJBQTBCLEVBQUUsMkRBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDJEQUFTO0FBQ3RDLHVCQUF1QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jlcmd0YXR0L3Byb2plY3RzL2VtdHB5bGFiL2xpa2VsaS9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRDb25uZWN0VXRpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXJzZVV0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBFbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvRW5zQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBtYXRjaE5vbldpbGRjYXJkUGF0dGVybiwgbWF0Y2hXaWxkY2FyZFBhdHRlcm4sIHBhcnNlVXJsIH0gZnJvbSAnLi9VcmxVdGlscy5qcyc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NRVRIT0RTID0ge1xuICAgIHRvbjogWyd0b25fc2VuZE1lc3NhZ2UnLCAndG9uX3NpZ25EYXRhJ10sXG4gICAgc29sYW5hOiBbXG4gICAgICAgICdzb2xhbmFfc2lnbk1lc3NhZ2UnLFxuICAgICAgICAnc29sYW5hX3NpZ25UcmFuc2FjdGlvbicsXG4gICAgICAgICdzb2xhbmFfcmVxdWVzdEFjY291bnRzJyxcbiAgICAgICAgJ3NvbGFuYV9nZXRBY2NvdW50cycsXG4gICAgICAgICdzb2xhbmFfc2lnbkFsbFRyYW5zYWN0aW9ucycsXG4gICAgICAgICdzb2xhbmFfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbidcbiAgICBdLFxuICAgIGVpcDE1NTogW1xuICAgICAgICAnZXRoX2FjY291bnRzJyxcbiAgICAgICAgJ2V0aF9yZXF1ZXN0QWNjb3VudHMnLFxuICAgICAgICAnZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicsXG4gICAgICAgICdldGhfc2lnbicsXG4gICAgICAgICdldGhfc2lnblRyYW5zYWN0aW9uJyxcbiAgICAgICAgJ2V0aF9zaWduVHlwZWREYXRhJyxcbiAgICAgICAgJ2V0aF9zaWduVHlwZWREYXRhX3YzJyxcbiAgICAgICAgJ2V0aF9zaWduVHlwZWREYXRhX3Y0JyxcbiAgICAgICAgJ2V0aF9zZW5kVHJhbnNhY3Rpb24nLFxuICAgICAgICAncGVyc29uYWxfc2lnbicsXG4gICAgICAgICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXG4gICAgICAgICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXG4gICAgICAgICd3YWxsZXRfZ2V0UGVybWlzc2lvbnMnLFxuICAgICAgICAnd2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9ucycsXG4gICAgICAgICd3YWxsZXRfcmVnaXN0ZXJPbmJvYXJkaW5nJyxcbiAgICAgICAgJ3dhbGxldF93YXRjaEFzc2V0JyxcbiAgICAgICAgJ3dhbGxldF9zY2FuUVJDb2RlJyxcbiAgICAgICAgLy8gRUlQLTU3OTJcbiAgICAgICAgJ3dhbGxldF9nZXRDYWxsc1N0YXR1cycsXG4gICAgICAgICd3YWxsZXRfc2hvd0NhbGxzU3RhdHVzJyxcbiAgICAgICAgJ3dhbGxldF9zZW5kQ2FsbHMnLFxuICAgICAgICAnd2FsbGV0X2dldENhcGFiaWxpdGllcycsXG4gICAgICAgIC8vIEVJUC03NzE1XG4gICAgICAgICd3YWxsZXRfZ3JhbnRQZXJtaXNzaW9ucycsXG4gICAgICAgICd3YWxsZXRfcmV2b2tlUGVybWlzc2lvbnMnLFxuICAgICAgICAvL0VJUC03ODExXG4gICAgICAgICd3YWxsZXRfZ2V0QXNzZXRzJ1xuICAgIF0sXG4gICAgYmlwMTIyOiBbJ3NlbmRUcmFuc2ZlcicsICdzaWduTWVzc2FnZScsICdzaWduUHNidCcsICdnZXRBY2NvdW50QWRkcmVzc2VzJ11cbn07XG5leHBvcnQgY29uc3QgV2NIZWxwZXJzVXRpbCA9IHtcbiAgICBSUENfRVJST1JfQ09ERToge1xuICAgICAgICBVU0VSX1JFSkVDVEVEOiA1MDAwLFxuICAgICAgICBVU0VSX1JFSkVDVEVEX01FVEhPRFM6IDUwMDJcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYXJyYXkgb2Ygc3VwcG9ydGVkIG1ldGhvZHMgZm9yIGEgZ2l2ZW4gY2hhaW4gbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSBjaGFpbk5hbWVzcGFjZSAtIFRoZSBjaGFpbiBuYW1lc3BhY2UuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgbWV0aG9kIHN0cmluZ3MuXG4gICAgICovXG4gICAgZ2V0TWV0aG9kc0J5Q2hhaW5OYW1lc3BhY2UoY2hhaW5OYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIERFRkFVTFRfTUVUSE9EU1tjaGFpbk5hbWVzcGFjZV0gfHwgW107XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVmYXVsdCBXYWxsZXRDb25uZWN0IG5hbWVzcGFjZSBjb25maWd1cmF0aW9uIGZvciB0aGUgZ2l2ZW4gY2hhaW4gbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSBjaGFpbk5hbWVzcGFjZSAtIFRoZSBjaGFpbiBuYW1lc3BhY2UuXG4gICAgICogQHJldHVybnMgVGhlIGRlZmF1bHQgTmFtZXNwYWNlIG9iamVjdC5cbiAgICAgKi9cbiAgICBjcmVhdGVEZWZhdWx0TmFtZXNwYWNlKGNoYWluTmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRob2RzOiB0aGlzLmdldE1ldGhvZHNCeUNoYWluTmFtZXNwYWNlKGNoYWluTmFtZXNwYWNlKSxcbiAgICAgICAgICAgIGV2ZW50czogWydhY2NvdW50c0NoYW5nZWQnLCAnY2hhaW5DaGFuZ2VkJ10sXG4gICAgICAgICAgICBjaGFpbnM6IFtdLFxuICAgICAgICAgICAgcnBjTWFwOiB7fVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBvdmVycmlkZXMgdG8gdGhlIGJhc2UgV2FsbGV0Q29ubmVjdCBOYW1lc3BhY2VDb25maWcuXG4gICAgICogQHBhcmFtIGJhc2VOYW1lc3BhY2VzIC0gVGhlIGJhc2UgbmFtZXNwYWNlIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHBhcmFtIG92ZXJyaWRlcyAtIE9wdGlvbmFsIG92ZXJyaWRlcyBmb3IgbWV0aG9kcywgY2hhaW5zLCBldmVudHMsIHJwY01hcC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIE5hbWVzcGFjZUNvbmZpZyB3aXRoIG92ZXJyaWRlcyBhcHBsaWVkLlxuICAgICAqL1xuICAgIGFwcGx5TmFtZXNwYWNlT3ZlcnJpZGVzKGJhc2VOYW1lc3BhY2VzLCBvdmVycmlkZXMpIHtcbiAgICAgICAgaWYgKCFvdmVycmlkZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmJhc2VOYW1lc3BhY2VzIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi5iYXNlTmFtZXNwYWNlcyB9O1xuICAgICAgICBjb25zdCBuYW1lc3BhY2VzVG9PdmVycmlkZSA9IG5ldyBTZXQoKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlcy5tZXRob2RzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvdmVycmlkZXMubWV0aG9kcykuZm9yRWFjaChucyA9PiBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLmNoYWlucykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLmNoYWlucykuZm9yRWFjaChucyA9PiBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLmV2ZW50cykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLmV2ZW50cykuZm9yRWFjaChucyA9PiBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLnJwY01hcCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzLnJwY01hcCkuZm9yRWFjaChjaGFpbklkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbnNdID0gY2hhaW5JZC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIGlmIChucykge1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VzVG9PdmVycmlkZS5hZGQobnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVzcGFjZXNUb092ZXJyaWRlLmZvckVhY2gobnMgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXN1bHRbbnNdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W25zXSA9IHRoaXMuY3JlYXRlRGVmYXVsdE5hbWVzcGFjZShucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3ZlcnJpZGVzLm1ldGhvZHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlcy5tZXRob2RzKS5mb3JFYWNoKChbbnMsIG1ldGhvZHNdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtuc10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5tZXRob2RzID0gbWV0aG9kcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3ZlcnJpZGVzLmNoYWlucykge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob3ZlcnJpZGVzLmNoYWlucykuZm9yRWFjaCgoW25zLCBjaGFpbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFtuc10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5jaGFpbnMgPSBjaGFpbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG92ZXJyaWRlcy5ldmVudHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG92ZXJyaWRlcy5ldmVudHMpLmZvckVhY2goKFtucywgZXZlbnRzXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbbnNdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuc10uZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdmVycmlkZXMucnBjTWFwKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWROYW1lc3BhY2VzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMob3ZlcnJpZGVzLnJwY01hcCkuZm9yRWFjaCgoW2NoYWluSWQsIHJwY1VybF0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbnMsIGlkXSA9IGNoYWluSWQuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5zIHx8ICFpZCB8fCAhcmVzdWx0W25zXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0W25zXS5ycGNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5ycGNNYXAgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9jZXNzZWROYW1lc3BhY2VzLmhhcyhucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W25zXS5ycGNNYXAgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkTmFtZXNwYWNlcy5hZGQobnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbbnNdLnJwY01hcFtpZF0gPSBycGNVcmw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBXYWxsZXRDb25uZWN0IG5hbWVzcGFjZXMgYmFzZWQgb24gQ0FJUCBuZXR3b3JrIGRlZmluaXRpb25zLFxuICAgICAqIG9wdGlvbmFsbHkgYXBwbHlpbmcgY3VzdG9tIG92ZXJyaWRlcy5cbiAgICAgKiBAcGFyYW0gY2FpcE5ldHdvcmtzIC0gQXJyYXkgb2YgQ2FpcE5ldHdvcmsgZGVmaW5pdGlvbnMuXG4gICAgICogQHBhcmFtIGNvbmZpZ092ZXJyaWRlIC0gT3B0aW9uYWwgb3ZlcnJpZGVzIGZvciBuYW1lc3BhY2VzLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgTmFtZXNwYWNlQ29uZmlnLlxuICAgICAqL1xuICAgIGNyZWF0ZU5hbWVzcGFjZXMoY2FpcE5ldHdvcmtzLCBjb25maWdPdmVycmlkZSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0TmFtZXNwYWNlcyA9IGNhaXBOZXR3b3Jrcy5yZWR1Y2UoKGFjYywgY2hhaW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIGNoYWluTmFtZXNwYWNlLCBycGNVcmxzIH0gPSBjaGFpbjtcbiAgICAgICAgICAgIGNvbnN0IHJwY1VybCA9IHJwY1VybHMuZGVmYXVsdC5odHRwWzBdO1xuICAgICAgICAgICAgaWYgKCFhY2NbY2hhaW5OYW1lc3BhY2VdKSB7XG4gICAgICAgICAgICAgICAgYWNjW2NoYWluTmFtZXNwYWNlXSA9IHRoaXMuY3JlYXRlRGVmYXVsdE5hbWVzcGFjZShjaGFpbk5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWlwTmV0d29ya0lkID0gYCR7Y2hhaW5OYW1lc3BhY2V9OiR7aWR9YDtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm9uLW51bGxhYmxlLXR5cGUtYXNzZXJ0aW9uLXN0eWxlXG4gICAgICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBhY2NbY2hhaW5OYW1lc3BhY2VdO1xuICAgICAgICAgICAgbmFtZXNwYWNlLmNoYWlucy5wdXNoKGNhaXBOZXR3b3JrSWQpO1xuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3Igd2FsbGV0cyB0aGF0IG9ubHkgc3VwcG9ydCBkZXByZWNhdGVkIFNvbGFuYSBuZXR3b3JrIElEXG4gICAgICAgICAgICBzd2l0Y2ggKGNhaXBOZXR3b3JrSWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzb2xhbmE6NWV5a3Q0VXNGdjhQOE5KZFRSRXBZMXZ6cUtxWkt2ZHAnOlxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UuY2hhaW5zLnB1c2goJ3NvbGFuYTo0c0dqTVcxc1VuSHpTeEdzcHVocHFMRHg2d2l5ak50WicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzb2xhbmE6RXRXVFJBQlphWXE2aU1mZVlLb3VSdTE2NlZVMnhxYTEnOlxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UuY2hhaW5zLnB1c2goJ3NvbGFuYTo4RTlydkNLTEZRaWEyWTM1SFhqanBXemo4d2VWbzQ0SycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZT8ucnBjTWFwICYmIHJwY1VybCkge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZS5ycGNNYXBbaWRdID0gcnBjVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseU5hbWVzcGFjZU92ZXJyaWRlcyhkZWZhdWx0TmFtZXNwYWNlcywgY29uZmlnT3ZlcnJpZGUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgYSBSZW93bi9FTlMgbmFtZSB0byBpdHMgZmlyc3QgbWF0Y2hpbmcgYWRkcmVzcyBhY3Jvc3MgY29uZmlndXJlZCBuZXR3b3Jrcy5cbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBFTlMgb3IgUmVvd24gbmFtZSB0byByZXNvbHZlLlxuICAgICAqIEByZXR1cm5zIFRoZSByZXNvbHZlZCBhZGRyZXNzIGFzIGEgc3RyaW5nLCBvciBmYWxzZSBpZiBub3QgZm91bmQuXG4gICAgICovXG4gICAgcmVzb2x2ZVJlb3duTmFtZTogYXN5bmMgKG5hbWUpID0+IHtcbiAgICAgICAgY29uc3Qgd2NOYW1lQWRkcmVzcyA9IGF3YWl0IEVuc0NvbnRyb2xsZXIucmVzb2x2ZU5hbWUobmFtZSk7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtOYW1lQWRkcmVzc2VzID0gd2NOYW1lQWRkcmVzcz8uYWRkcmVzc2VzXG4gICAgICAgICAgICA/IE9iamVjdC52YWx1ZXMod2NOYW1lQWRkcmVzcy5hZGRyZXNzZXMpXG4gICAgICAgICAgICA6IFtdO1xuICAgICAgICByZXR1cm4gbmV0d29ya05hbWVBZGRyZXNzZXNbMF0/LmFkZHJlc3MgfHwgZmFsc2U7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBhbGwgQ0FJUCBuZXR3b3JrIElEcyB1c2VkIGluIGdpdmVuIFdhbGxldENvbm5lY3QgbmFtZXNwYWNlcy5cbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlcyAtIFdhbGxldENvbm5lY3QgTmFtZXNwYWNlcyBvYmplY3QuXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgQ0FJUCBuZXR3b3JrIElEcyAoY2hhaW5OYW1lc3BhY2U6Y2hhaW5JZCkuXG4gICAgICovXG4gICAgZ2V0Q2hhaW5zRnJvbU5hbWVzcGFjZXMobmFtZXNwYWNlcyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKG5hbWVzcGFjZXMpLmZsYXRNYXAobmFtZXNwYWNlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYWlucyA9IChuYW1lc3BhY2UuY2hhaW5zIHx8IFtdKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRzQ2hhaW5zID0gbmFtZXNwYWNlLmFjY291bnRzLm1hcChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbY2hhaW5OYW1lc3BhY2UsIGNoYWluSWRdID0gYWNjb3VudC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtjaGFpbk5hbWVzcGFjZX06JHtjaGFpbklkfWA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLmNoYWlucywgLi4uYWNjb3VudHNDaGFpbnNdKSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgYSBXYWxsZXRDb25uZWN0IHNlc3Npb24gZXZlbnQgZGF0YS5cbiAgICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgZGF0YSBtYXRjaGVzIFNlc3Npb25FdmVudERhdGEgc3RydWN0dXJlLlxuICAgICAqL1xuICAgIGlzU2Vzc2lvbkV2ZW50RGF0YShkYXRhKSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBkYXRhICE9PSBudWxsICYmXG4gICAgICAgICAgICAnaWQnIGluIGRhdGEgJiZcbiAgICAgICAgICAgICd0b3BpYycgaW4gZGF0YSAmJlxuICAgICAgICAgICAgJ3BhcmFtcycgaW4gZGF0YSAmJlxuICAgICAgICAgICAgdHlwZW9mIGRhdGEucGFyYW1zID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGF0YS5wYXJhbXMgIT09IG51bGwgJiZcbiAgICAgICAgICAgICdjaGFpbklkJyBpbiBkYXRhLnBhcmFtcyAmJlxuICAgICAgICAgICAgJ2V2ZW50JyBpbiBkYXRhLnBhcmFtcyAmJlxuICAgICAgICAgICAgdHlwZW9mIGRhdGEucGFyYW1zLmV2ZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZGF0YS5wYXJhbXMuZXZlbnQgIT09IG51bGwpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBpZiBhbiBlcnJvciBvYmplY3QgcmVwcmVzZW50cyBhIHVzZXItcmVqZWN0ZWQgV2FsbGV0Q29ubmVjdCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRoZSBlcnJvciBvYmplY3QgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB1c2VyIHJlamVjdGVkIHJlcXVlc3QsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBpc1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmpFcnIgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNDb2RlID0gdHlwZW9mIG9iakVyclsnY29kZSddID09PSAnbnVtYmVyJztcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNVc2VyUmVqZWN0ZWRNZXRob2RzID0gaGFzQ29kZSAmJiBvYmpFcnJbJ2NvZGUnXSA9PT0gV2NIZWxwZXJzVXRpbC5SUENfRVJST1JfQ09ERS5VU0VSX1JFSkVDVEVEX01FVEhPRFM7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzVXNlclJlamVjdGVkID0gaGFzQ29kZSAmJiBvYmpFcnJbJ2NvZGUnXSA9PT0gV2NIZWxwZXJzVXRpbC5SUENfRVJST1JfQ09ERS5VU0VSX1JFSkVDVEVEO1xuICAgICAgICAgICAgICAgIHJldHVybiBoYXNVc2VyUmVqZWN0ZWRNZXRob2RzIHx8IGhhc1VzZXJSZWplY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGN1cnJlbnQgb3JpZ2luIGlzIGFsbG93ZWQgYnkgY29uZmlndXJlZCBhbGxvd2VkIGFuZCBkZWZhdWx0IG9yaWdpbiBwYXR0ZXJucy5cbiAgICAgKiBMb2NhbGhvc3QgYW5kIDEyNy4wLjAuMSBhcmUgYWx3YXlzIGFsbG93ZWQuXG4gICAgICogQHBhcmFtIGN1cnJlbnRPcmlnaW4gLSBUaGUgY3VycmVudCB3ZWIgb3JpZ2luLlxuICAgICAqIEBwYXJhbSBhbGxvd2VkUGF0dGVybnMgLSBQYXR0ZXJucyBmcm9tIHByb2plY3QgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gZGVmYXVsdEFsbG93ZWRPcmlnaW5zIC0gQnVpbHQtaW4gb3IgZGVmYXVsdCBhbGxvd2VkIHBhdHRlcm5zLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG9yaWdpbiBpcyBhbGxvd2VkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNPcmlnaW5BbGxvd2VkKGN1cnJlbnRPcmlnaW4sIGFsbG93ZWRQYXR0ZXJucywgZGVmYXVsdEFsbG93ZWRPcmlnaW5zKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5zID0gWy4uLmFsbG93ZWRQYXR0ZXJucywgLi4uZGVmYXVsdEFsbG93ZWRPcmlnaW5zXTtcbiAgICAgICAgLy8gU3BlYzogZW1wdHkgYWxsb3dsaXN0IGFsbG93cyBhbGwgb3JpZ2luc1xuICAgICAgICBpZiAoYWxsb3dlZFBhdHRlcm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2UgY3VycmVudCBvcmlnaW4gdXAtZnJvbnRcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHBhcnNlVXJsKGN1cnJlbnRPcmlnaW4pO1xuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIC8vIExlZ2FjeSBleGFjdCBzdHJpbmcgZXF1YWxpdHkgd2hlbiBwYXR0ZXJuIGhhcyBubyB3aWxkY2FyZFxuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm5zLnNvbWUocGF0dGVybiA9PiAhcGF0dGVybi5pbmNsdWRlcygnKicpICYmIHBhdHRlcm4gPT09IGN1cnJlbnRPcmlnaW4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvY2FsIGRldmVsb3BtZW50IGlzIGFsd2F5cyBwZXJtaXR0ZWRcbiAgICAgICAgaWYgKGN1cnJlbnQuaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8IGN1cnJlbnQuaG9zdG5hbWUgPT09ICcxMjcuMC4wLjEnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgcGF0dGVybnMpIHtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuLmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hXaWxkY2FyZFBhdHRlcm4oY3VycmVudCwgY3VycmVudE9yaWdpbiwgcGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEtlZXAgY2hlY2tpbmcgcmVtYWluaW5nIHBhdHRlcm5zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXRjaE5vbldpbGRjYXJkUGF0dGVybihjdXJyZW50T3JpZ2luLCBwYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGV2ZW50IGxpc3RlbmVycyB0byBhIFVuaXZlcnNhbFByb3ZpZGVyIGluc3RhbmNlIGZvciBXYWxsZXRDb25uZWN0IGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIGxpc3RlbmVyIHBhcmFtZXRlcnMgaW5jbHVkaW5nIGhhbmRsZXJzIGZvciBjb25uZWN0LCBkaXNjb25uZWN0LCBldGMuXG4gICAgICovXG4gICAgbGlzdGVuV2NQcm92aWRlcih7IHVuaXZlcnNhbFByb3ZpZGVyLCBuYW1lc3BhY2UsIG9uQ29ubmVjdCwgb25EaXNjb25uZWN0LCBvbkFjY291bnRzQ2hhbmdlZCwgb25DaGFpbkNoYW5nZWQsIG9uRGlzcGxheVVyaSB9KSB7XG4gICAgICAgIGlmIChvbkNvbm5lY3QpIHtcbiAgICAgICAgICAgIHVuaXZlcnNhbFByb3ZpZGVyLm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRzID0gV2NIZWxwZXJzVXRpbC5nZXRXYWxsZXRDb25uZWN0QWNjb3VudHModW5pdmVyc2FsUHJvdmlkZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgb25Db25uZWN0KGFjY291bnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkRpc2Nvbm5lY3QpIHtcbiAgICAgICAgICAgIHVuaXZlcnNhbFByb3ZpZGVyLm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQWNjb3VudHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogSW4gbXVsdGljaGFpbiBzY2VuYXJpbyAtIGV2ZXJ5IGFkYXB0ZXIgd2lsbCBsaXN0ZW4gdG8gYWNjb3VudHNDaGFuZ2VkIGV2ZW50XG4gICAgICAgICAgICAgKiBzbyBtYWtlIHN1cmUgdG8gY2FsbCBgb25BY2NvdW50c0NoYW5nZWRgIG9ubHkgb24gdGhlIG5hbWVzcGFjZSB0aGF0IGFjdHVhbGx5IGhhcyBhY2NvdW50cyBjaGFuZ2VkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHVuaXZlcnNhbFByb3ZpZGVyLm9uKCdhY2NvdW50c0NoYW5nZWQnLCAoYWNjb3VudHMpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxBY2NvdW50cyA9IHVuaXZlcnNhbFByb3ZpZGVyLnNlc3Npb24/Lm5hbWVzcGFjZXM/LltuYW1lc3BhY2VdPy5hY2NvdW50cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdENoYWluID0gdW5pdmVyc2FsUHJvdmlkZXIucnBjUHJvdmlkZXJzPy5bbmFtZXNwYWNlXT8uZ2V0RGVmYXVsdENoYWluKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFjY291bnRzID0gYWNjb3VudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWlwQWNjb3VudCA9IGFsbEFjY291bnRzLmZpbmQoYWNjID0+IGFjYy5pbmNsdWRlcyhgJHtuYW1lc3BhY2V9OiR7ZGVmYXVsdENoYWlufToke2FjY291bnR9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWlwQWNjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNoYWluSWQsIGNoYWluTmFtZXNwYWNlIH0gPSBQYXJzZVV0aWwucGFyc2VDYWlwQWRkcmVzcyhjYWlwQWNjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYWNjb3VudCA9PiBhY2NvdW50ICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbWl0IGFjY291bnRzQ2hhbmdlZCBldmVudCBvbmx5IGlmIHRoZXJlIGFyZSBhY2NvdW50c1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkQWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BY2NvdW50c0NoYW5nZWQocGFyc2VkQWNjb3VudHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSBhY2NvdW50cyBmb3IgbmFtZXNwYWNlIG9uIGFjY291bnRzQ2hhbmdlZCBldmVudCcsIG5hbWVzcGFjZSwgYWNjb3VudHMsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25DaGFpbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIHVuaXZlcnNhbFByb3ZpZGVyLm9uKCdjaGFpbkNoYW5nZWQnLCAoY2hhaW5JZCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhaW5DaGFuZ2VkKGNoYWluSWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uRGlzcGxheVVyaSkge1xuICAgICAgICAgICAgdW5pdmVyc2FsUHJvdmlkZXIub24oJ2Rpc3BsYXlfdXJpJywgKHVyaSkgPT4ge1xuICAgICAgICAgICAgICAgIG9uRGlzcGxheVVyaSh1cmkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbmQgcGFyc2VzIHRoZSB1bmlxdWUgc2V0IG9mIGFjY291bnRzIGZvciBhIGdpdmVuIFdhbGxldENvbm5lY3QgbmFtZXNwYWNlLlxuICAgICAqIEBwYXJhbSB1bml2ZXJzYWxQcm92aWRlciAtIFRoZSBVbml2ZXJzYWxQcm92aWRlciBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gVGhlIGNoYWluIG5hbWVzcGFjZSB0byBleHRyYWN0IGFjY291bnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBwYXJzZWQgQ2FpcEFkZHJlc3Mgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBnZXRXYWxsZXRDb25uZWN0QWNjb3VudHModW5pdmVyc2FsUHJvdmlkZXIsIG5hbWVzcGFjZSkge1xuICAgICAgICBjb25zdCBhY2NvdW50c0FkZGVkID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBhY2NvdW50cyA9IHVuaXZlcnNhbFByb3ZpZGVyPy5zZXNzaW9uPy5uYW1lc3BhY2VzPy5bbmFtZXNwYWNlXT8uYWNjb3VudHNcbiAgICAgICAgICAgID8ubWFwKGFjY291bnQgPT4gUGFyc2VVdGlsLnBhcnNlQ2FpcEFkZHJlc3MoYWNjb3VudCkpXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGFkZHJlc3MgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjY291bnRzQWRkZWQuaGFzKGFkZHJlc3MudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2NvdW50c0FkZGVkLmFkZChhZGRyZXNzLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWNjb3VudHMgJiYgYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjY291bnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2FsbGV0Q29ubmVjdFV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletConnectUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletUtil.js":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletUtil.js ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletUtil: () => (/* binding */ WalletUtil)\n/* harmony export */ });\n/* harmony import */ var _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @reown/appkit-common */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-common@1.8.17-wc-circular-dependencies-fix.0_bufferutil@4.1.0_typescript@_8f594b12ae5e4091be36eb1310763710/node_modules/@reown/appkit-common/dist/esm/src/utils/HelpersUtil.js\");\n/* harmony import */ var _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../controllers/ApiController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ApiController.js\");\n/* harmony import */ var _controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../controllers/ConnectionController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectionController.js\");\n/* harmony import */ var _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/ConnectorController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/ConnectorController.js\");\n/* harmony import */ var _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/OptionsController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/OptionsController.js\");\n/* harmony import */ var _ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConnectorUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConnectorUtil.js\");\n/* harmony import */ var _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConstantsUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/ConstantsUtil.js\");\n/* harmony import */ var _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CoreHelperUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/CoreHelperUtil.js\");\n/* harmony import */ var _StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StorageUtil.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/StorageUtil.js\");\n\n\n\n\n\n\n\n\n\nconst WalletUtil = {\n    filterOutDuplicatesByRDNS(wallets) {\n        const connectors = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state.enableEIP6963\n            ? _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.state.connectors\n            : [];\n        const recent = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getRecentWallets();\n        const connectorRDNSs = connectors\n            .map(connector => connector.info?.rdns)\n            .filter(Boolean);\n        const recentRDNSs = recent.map(wallet => wallet.rdns).filter(Boolean);\n        const allRDNSs = connectorRDNSs.concat(recentRDNSs);\n        if (allRDNSs.includes('io.metamask.mobile') && _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.isMobile()) {\n            const index = allRDNSs.indexOf('io.metamask.mobile');\n            allRDNSs[index] = 'io.metamask';\n        }\n        const filtered = wallets.filter(wallet => {\n            // Check RDNS match first\n            if (wallet?.rdns && allRDNSs.includes(String(wallet.rdns))) {\n                return false;\n            }\n            // Some wallets don't have RDNS, so we need to check if the name matches a connector name\n            if (!wallet?.rdns) {\n                const hasMatchingConnectorName = connectors.some(connector => connector.name === wallet.name);\n                if (hasMatchingConnectorName) {\n                    return false;\n                }\n            }\n            return true;\n        });\n        return filtered;\n    },\n    filterOutDuplicatesByIds(wallets) {\n        const connectors = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.state.connectors.filter(connector => connector.type === 'ANNOUNCED' ||\n            connector.type === 'INJECTED' ||\n            connector.type === 'MULTI_CHAIN');\n        const recent = _StorageUtil_js__WEBPACK_IMPORTED_MODULE_2__.StorageUtil.getRecentWallets();\n        const connectorIds = connectors.map(connector => connector.explorerId || connector.explorerWallet?.id || connector.id);\n        const recentIds = recent.map(wallet => wallet.id);\n        const allIds = connectorIds.concat(recentIds);\n        const filtered = wallets.filter(wallet => !allIds.includes(wallet?.id));\n        return filtered;\n    },\n    filterOutDuplicateWallets(wallets) {\n        const uniqueByRDNS = this.filterOutDuplicatesByRDNS(wallets);\n        const uniqueWallets = this.filterOutDuplicatesByIds(uniqueByRDNS);\n        return uniqueWallets;\n    },\n    /**\n     * Marks wallets as installed based on available connectors and sorts them\n     * according to both installation status and featuredWalletIds order.\n     *\n     * @param wallets - Array of wallets to process\n     * @returns Array of wallets marked as installed and sorted by priority\n     */\n    markWalletsAsInstalled(wallets) {\n        const { connectors } = _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.state;\n        const { featuredWalletIds } = _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state;\n        const installedWalletRdnsMap = connectors\n            .filter(connector => connector.type === 'ANNOUNCED')\n            .reduce((rdnsMap, connector) => {\n            if (!connector.info?.rdns) {\n                return rdnsMap;\n            }\n            rdnsMap[connector.info.rdns] = true;\n            return rdnsMap;\n        }, {});\n        // Mark each wallet as installed if its RDNS exists in the installed connectors\n        const walletsWithInstallationStatus = wallets.map(wallet => ({\n            ...wallet,\n            installed: Boolean(wallet.rdns) && Boolean(installedWalletRdnsMap[wallet.rdns ?? ''])\n        }));\n        const sortedWallets = walletsWithInstallationStatus.sort((walletA, walletB) => {\n            const installationComparison = Number(walletB.installed) - Number(walletA.installed);\n            if (installationComparison !== 0) {\n                return installationComparison;\n            }\n            if (featuredWalletIds?.length) {\n                const walletAFeaturedIndex = featuredWalletIds.indexOf(walletA.id);\n                const walletBFeaturedIndex = featuredWalletIds.indexOf(walletB.id);\n                if (walletAFeaturedIndex !== -1 && walletBFeaturedIndex !== -1) {\n                    return walletAFeaturedIndex - walletBFeaturedIndex;\n                }\n                // WalletA is featured, place it first\n                if (walletAFeaturedIndex !== -1) {\n                    return -1;\n                }\n                // WalletB is featured, place it first\n                if (walletBFeaturedIndex !== -1) {\n                    return 1;\n                }\n            }\n            return 0;\n        });\n        return sortedWallets;\n    },\n    getConnectOrderMethod(_features, _connectors) {\n        const connectMethodOrder = _features?.connectMethodsOrder || _controllers_OptionsController_js__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state.features?.connectMethodsOrder;\n        const connectors = _connectors || _controllers_ConnectorController_js__WEBPACK_IMPORTED_MODULE_1__.ConnectorController.state.connectors;\n        if (connectMethodOrder) {\n            return connectMethodOrder;\n        }\n        const { injected, announced } = _ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_4__.ConnectorUtil.getConnectorsByType(connectors, _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.recommended, _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.featured);\n        const shownInjected = injected.filter(_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_4__.ConnectorUtil.showConnector);\n        const shownAnnounced = announced.filter(_ConnectorUtil_js__WEBPACK_IMPORTED_MODULE_4__.ConnectorUtil.showConnector);\n        if (shownInjected.length || shownAnnounced.length) {\n            return ['wallet', 'email', 'social'];\n        }\n        return _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__.ConstantsUtil.DEFAULT_CONNECT_METHOD_ORDER;\n    },\n    isExcluded(wallet) {\n        const isRDNSExcluded = Boolean(wallet.rdns) && _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.excludedWallets.some(w => w.rdns === wallet.rdns);\n        const isNameExcluded = Boolean(wallet.name) &&\n            _controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.excludedWallets.some(w => _reown_appkit_common__WEBPACK_IMPORTED_MODULE_7__.HelpersUtil.isLowerCaseMatch(w.name, wallet.name));\n        return isRDNSExcluded || isNameExcluded;\n    },\n    markWalletsWithDisplayIndex(wallets) {\n        return wallets.map((w, index) => ({ ...w, display_index: index }));\n    },\n    /**\n     * Filters wallets based on WalletConnect support and platform requirements.\n     *\n     * On mobile only wallets with WalletConnect support and some mandatory wallets are shown.\n     * On desktop with Appkit Core only wallets with WalletConnect support are shown.\n     * On desktop with Appkit all wallets are shown.\n     *\n     * @param wallets - Array of wallets to filter\n     * @returns Filtered array of wallets based on WalletConnect support and platform\n     */\n    filterWalletsByWcSupport(wallets) {\n        if (_controllers_ConnectionController_js__WEBPACK_IMPORTED_MODULE_8__.ConnectionController.state.wcBasic) {\n            return wallets.filter(wallet => wallet.supports_wc);\n        }\n        if (_CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.isMobile()) {\n            return wallets.filter(wallet => wallet.supports_wc || _ConstantsUtil_js__WEBPACK_IMPORTED_MODULE_6__.ConstantsUtil.MANDATORY_WALLET_IDS_ON_MOBILE.includes(wallet.id));\n        }\n        return wallets;\n    },\n    getWalletConnectWallets(allWallets) {\n        const wallets = [..._controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.featured, ..._controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.recommended];\n        if (_controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.filteredWallets?.length > 0) {\n            wallets.push(..._controllers_ApiController_js__WEBPACK_IMPORTED_MODULE_5__.ApiController.state.filteredWallets);\n        }\n        else {\n            wallets.push(...allWallets);\n        }\n        const uniqueWallets = _CoreHelperUtil_js__WEBPACK_IMPORTED_MODULE_3__.CoreHelperUtil.uniqueBy(wallets, 'id');\n        const walletsWithInstalled = WalletUtil.markWalletsAsInstalled(uniqueWallets);\n        const walletsByWcSupport = WalletUtil.filterWalletsByWcSupport(walletsWithInstalled);\n        return WalletUtil.markWalletsWithDisplayIndex(walletsByWcSupport);\n    }\n};\n//# sourceMappingURL=WalletUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy9XYWxsZXRVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDYTtBQUNjO0FBQ0Y7QUFDSjtBQUNyQjtBQUNBO0FBQ0U7QUFDTjtBQUN4QztBQUNQO0FBQ0EsMkJBQTJCLGdGQUFpQjtBQUM1QyxjQUFjLG9GQUFtQjtBQUNqQztBQUNBLHVCQUF1Qix3REFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELDhEQUFjO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLG9GQUFtQjtBQUM5QztBQUNBO0FBQ0EsdUJBQXVCLHdEQUFXO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhLEVBQUUsb0ZBQW1CO0FBQ2xELGdCQUFnQixvQkFBb0IsRUFBRSxnRkFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLHFFQUFxRSxnRkFBaUI7QUFDdEYsMENBQTBDLG9GQUFtQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0JBQXNCLEVBQUUsNERBQWEsaUNBQWlDLHdFQUFhLG9CQUFvQix3RUFBYTtBQUNwSSw4Q0FBOEMsNERBQWE7QUFDM0QsZ0RBQWdELDREQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNERBQWE7QUFDNUIsS0FBSztBQUNMO0FBQ0EsdURBQXVELHdFQUFhO0FBQ3BFO0FBQ0EsWUFBWSx3RUFBYSxpQ0FBaUMsNkRBQVc7QUFDckU7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0Q0FBNEMsNEJBQTRCO0FBQ3hFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzRkFBb0I7QUFDaEM7QUFDQTtBQUNBLFlBQVksOERBQWM7QUFDMUIsa0VBQWtFLDREQUFhO0FBQy9FO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw0QkFBNEIsd0VBQWEsb0JBQW9CLHdFQUFhO0FBQzFFLFlBQVksd0VBQWE7QUFDekIsNEJBQTRCLHdFQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhEQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL1dhbGxldFV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSGVscGVyc1V0aWwgfSBmcm9tICdAcmVvd24vYXBwa2l0LWNvbW1vbic7XG5pbXBvcnQgeyBBcGlDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQXBpQ29udHJvbGxlci5qcyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL0Nvbm5lY3Rpb25Db250cm9sbGVyLmpzJztcbmltcG9ydCB7IENvbm5lY3RvckNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9Db25uZWN0b3JDb250cm9sbGVyLmpzJztcbmltcG9ydCB7IE9wdGlvbnNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvT3B0aW9uc0NvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHsgQ29ubmVjdG9yVXRpbCB9IGZyb20gJy4vQ29ubmVjdG9yVXRpbC5qcyc7XG5pbXBvcnQgeyBDb25zdGFudHNVdGlsIH0gZnJvbSAnLi9Db25zdGFudHNVdGlsLmpzJztcbmltcG9ydCB7IENvcmVIZWxwZXJVdGlsIH0gZnJvbSAnLi9Db3JlSGVscGVyVXRpbC5qcyc7XG5pbXBvcnQgeyBTdG9yYWdlVXRpbCB9IGZyb20gJy4vU3RvcmFnZVV0aWwuanMnO1xuZXhwb3J0IGNvbnN0IFdhbGxldFV0aWwgPSB7XG4gICAgZmlsdGVyT3V0RHVwbGljYXRlc0J5UkROUyh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnMgPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZS5lbmFibGVFSVA2OTYzXG4gICAgICAgICAgICA/IENvbm5lY3RvckNvbnRyb2xsZXIuc3RhdGUuY29ubmVjdG9yc1xuICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgY29uc3QgcmVjZW50ID0gU3RvcmFnZVV0aWwuZ2V0UmVjZW50V2FsbGV0cygpO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JSRE5TcyA9IGNvbm5lY3RvcnNcbiAgICAgICAgICAgIC5tYXAoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5pbmZvPy5yZG5zKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgcmVjZW50UkROU3MgPSByZWNlbnQubWFwKHdhbGxldCA9PiB3YWxsZXQucmRucykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBhbGxSRE5TcyA9IGNvbm5lY3RvclJETlNzLmNvbmNhdChyZWNlbnRSRE5Tcyk7XG4gICAgICAgIGlmIChhbGxSRE5Tcy5pbmNsdWRlcygnaW8ubWV0YW1hc2subW9iaWxlJykgJiYgQ29yZUhlbHBlclV0aWwuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhbGxSRE5Tcy5pbmRleE9mKCdpby5tZXRhbWFzay5tb2JpbGUnKTtcbiAgICAgICAgICAgIGFsbFJETlNzW2luZGV4XSA9ICdpby5tZXRhbWFzayc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB3YWxsZXRzLmZpbHRlcih3YWxsZXQgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgUkROUyBtYXRjaCBmaXJzdFxuICAgICAgICAgICAgaWYgKHdhbGxldD8ucmRucyAmJiBhbGxSRE5Tcy5pbmNsdWRlcyhTdHJpbmcod2FsbGV0LnJkbnMpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNvbWUgd2FsbGV0cyBkb24ndCBoYXZlIFJETlMsIHNvIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIG5hbWUgbWF0Y2hlcyBhIGNvbm5lY3RvciBuYW1lXG4gICAgICAgICAgICBpZiAoIXdhbGxldD8ucmRucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc01hdGNoaW5nQ29ubmVjdG9yTmFtZSA9IGNvbm5lY3RvcnMuc29tZShjb25uZWN0b3IgPT4gY29ubmVjdG9yLm5hbWUgPT09IHdhbGxldC5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzTWF0Y2hpbmdDb25uZWN0b3JOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9LFxuICAgIGZpbHRlck91dER1cGxpY2F0ZXNCeUlkcyh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RvcnMgPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlLmNvbm5lY3RvcnMuZmlsdGVyKGNvbm5lY3RvciA9PiBjb25uZWN0b3IudHlwZSA9PT0gJ0FOTk9VTkNFRCcgfHxcbiAgICAgICAgICAgIGNvbm5lY3Rvci50eXBlID09PSAnSU5KRUNURUQnIHx8XG4gICAgICAgICAgICBjb25uZWN0b3IudHlwZSA9PT0gJ01VTFRJX0NIQUlOJyk7XG4gICAgICAgIGNvbnN0IHJlY2VudCA9IFN0b3JhZ2VVdGlsLmdldFJlY2VudFdhbGxldHMoKTtcbiAgICAgICAgY29uc3QgY29ubmVjdG9ySWRzID0gY29ubmVjdG9ycy5tYXAoY29ubmVjdG9yID0+IGNvbm5lY3Rvci5leHBsb3JlcklkIHx8IGNvbm5lY3Rvci5leHBsb3JlcldhbGxldD8uaWQgfHwgY29ubmVjdG9yLmlkKTtcbiAgICAgICAgY29uc3QgcmVjZW50SWRzID0gcmVjZW50Lm1hcCh3YWxsZXQgPT4gd2FsbGV0LmlkKTtcbiAgICAgICAgY29uc3QgYWxsSWRzID0gY29ubmVjdG9ySWRzLmNvbmNhdChyZWNlbnRJZHMpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHdhbGxldHMuZmlsdGVyKHdhbGxldCA9PiAhYWxsSWRzLmluY2x1ZGVzKHdhbGxldD8uaWQpKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgIH0sXG4gICAgZmlsdGVyT3V0RHVwbGljYXRlV2FsbGV0cyh3YWxsZXRzKSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZUJ5UkROUyA9IHRoaXMuZmlsdGVyT3V0RHVwbGljYXRlc0J5UkROUyh3YWxsZXRzKTtcbiAgICAgICAgY29uc3QgdW5pcXVlV2FsbGV0cyA9IHRoaXMuZmlsdGVyT3V0RHVwbGljYXRlc0J5SWRzKHVuaXF1ZUJ5UkROUyk7XG4gICAgICAgIHJldHVybiB1bmlxdWVXYWxsZXRzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTWFya3Mgd2FsbGV0cyBhcyBpbnN0YWxsZWQgYmFzZWQgb24gYXZhaWxhYmxlIGNvbm5lY3RvcnMgYW5kIHNvcnRzIHRoZW1cbiAgICAgKiBhY2NvcmRpbmcgdG8gYm90aCBpbnN0YWxsYXRpb24gc3RhdHVzIGFuZCBmZWF0dXJlZFdhbGxldElkcyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3YWxsZXRzIC0gQXJyYXkgb2Ygd2FsbGV0cyB0byBwcm9jZXNzXG4gICAgICogQHJldHVybnMgQXJyYXkgb2Ygd2FsbGV0cyBtYXJrZWQgYXMgaW5zdGFsbGVkIGFuZCBzb3J0ZWQgYnkgcHJpb3JpdHlcbiAgICAgKi9cbiAgICBtYXJrV2FsbGV0c0FzSW5zdGFsbGVkKHdhbGxldHMpIHtcbiAgICAgICAgY29uc3QgeyBjb25uZWN0b3JzIH0gPSBDb25uZWN0b3JDb250cm9sbGVyLnN0YXRlO1xuICAgICAgICBjb25zdCB7IGZlYXR1cmVkV2FsbGV0SWRzIH0gPSBPcHRpb25zQ29udHJvbGxlci5zdGF0ZTtcbiAgICAgICAgY29uc3QgaW5zdGFsbGVkV2FsbGV0UmRuc01hcCA9IGNvbm5lY3RvcnNcbiAgICAgICAgICAgIC5maWx0ZXIoY29ubmVjdG9yID0+IGNvbm5lY3Rvci50eXBlID09PSAnQU5OT1VOQ0VEJylcbiAgICAgICAgICAgIC5yZWR1Y2UoKHJkbnNNYXAsIGNvbm5lY3RvcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb25uZWN0b3IuaW5mbz8ucmRucykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZG5zTWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmRuc01hcFtjb25uZWN0b3IuaW5mby5yZG5zXSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gcmRuc01hcDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICAvLyBNYXJrIGVhY2ggd2FsbGV0IGFzIGluc3RhbGxlZCBpZiBpdHMgUkROUyBleGlzdHMgaW4gdGhlIGluc3RhbGxlZCBjb25uZWN0b3JzXG4gICAgICAgIGNvbnN0IHdhbGxldHNXaXRoSW5zdGFsbGF0aW9uU3RhdHVzID0gd2FsbGV0cy5tYXAod2FsbGV0ID0+ICh7XG4gICAgICAgICAgICAuLi53YWxsZXQsXG4gICAgICAgICAgICBpbnN0YWxsZWQ6IEJvb2xlYW4od2FsbGV0LnJkbnMpICYmIEJvb2xlYW4oaW5zdGFsbGVkV2FsbGV0UmRuc01hcFt3YWxsZXQucmRucyA/PyAnJ10pXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3Qgc29ydGVkV2FsbGV0cyA9IHdhbGxldHNXaXRoSW5zdGFsbGF0aW9uU3RhdHVzLnNvcnQoKHdhbGxldEEsIHdhbGxldEIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbGxhdGlvbkNvbXBhcmlzb24gPSBOdW1iZXIod2FsbGV0Qi5pbnN0YWxsZWQpIC0gTnVtYmVyKHdhbGxldEEuaW5zdGFsbGVkKTtcbiAgICAgICAgICAgIGlmIChpbnN0YWxsYXRpb25Db21wYXJpc29uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbGxhdGlvbkNvbXBhcmlzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmVhdHVyZWRXYWxsZXRJZHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGxldEFGZWF0dXJlZEluZGV4ID0gZmVhdHVyZWRXYWxsZXRJZHMuaW5kZXhPZih3YWxsZXRBLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3YWxsZXRCRmVhdHVyZWRJbmRleCA9IGZlYXR1cmVkV2FsbGV0SWRzLmluZGV4T2Yod2FsbGV0Qi5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHdhbGxldEFGZWF0dXJlZEluZGV4ICE9PSAtMSAmJiB3YWxsZXRCRmVhdHVyZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdhbGxldEFGZWF0dXJlZEluZGV4IC0gd2FsbGV0QkZlYXR1cmVkSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdhbGxldEEgaXMgZmVhdHVyZWQsIHBsYWNlIGl0IGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKHdhbGxldEFGZWF0dXJlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdhbGxldEIgaXMgZmVhdHVyZWQsIHBsYWNlIGl0IGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKHdhbGxldEJGZWF0dXJlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzb3J0ZWRXYWxsZXRzO1xuICAgIH0sXG4gICAgZ2V0Q29ubmVjdE9yZGVyTWV0aG9kKF9mZWF0dXJlcywgX2Nvbm5lY3RvcnMpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdE1ldGhvZE9yZGVyID0gX2ZlYXR1cmVzPy5jb25uZWN0TWV0aG9kc09yZGVyIHx8IE9wdGlvbnNDb250cm9sbGVyLnN0YXRlLmZlYXR1cmVzPy5jb25uZWN0TWV0aG9kc09yZGVyO1xuICAgICAgICBjb25zdCBjb25uZWN0b3JzID0gX2Nvbm5lY3RvcnMgfHwgQ29ubmVjdG9yQ29udHJvbGxlci5zdGF0ZS5jb25uZWN0b3JzO1xuICAgICAgICBpZiAoY29ubmVjdE1ldGhvZE9yZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdE1ldGhvZE9yZGVyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaW5qZWN0ZWQsIGFubm91bmNlZCB9ID0gQ29ubmVjdG9yVXRpbC5nZXRDb25uZWN0b3JzQnlUeXBlKGNvbm5lY3RvcnMsIEFwaUNvbnRyb2xsZXIuc3RhdGUucmVjb21tZW5kZWQsIEFwaUNvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZWQpO1xuICAgICAgICBjb25zdCBzaG93bkluamVjdGVkID0gaW5qZWN0ZWQuZmlsdGVyKENvbm5lY3RvclV0aWwuc2hvd0Nvbm5lY3Rvcik7XG4gICAgICAgIGNvbnN0IHNob3duQW5ub3VuY2VkID0gYW5ub3VuY2VkLmZpbHRlcihDb25uZWN0b3JVdGlsLnNob3dDb25uZWN0b3IpO1xuICAgICAgICBpZiAoc2hvd25JbmplY3RlZC5sZW5ndGggfHwgc2hvd25Bbm5vdW5jZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gWyd3YWxsZXQnLCAnZW1haWwnLCAnc29jaWFsJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbnN0YW50c1V0aWwuREVGQVVMVF9DT05ORUNUX01FVEhPRF9PUkRFUjtcbiAgICB9LFxuICAgIGlzRXhjbHVkZWQod2FsbGV0KSB7XG4gICAgICAgIGNvbnN0IGlzUkROU0V4Y2x1ZGVkID0gQm9vbGVhbih3YWxsZXQucmRucykgJiYgQXBpQ29udHJvbGxlci5zdGF0ZS5leGNsdWRlZFdhbGxldHMuc29tZSh3ID0+IHcucmRucyA9PT0gd2FsbGV0LnJkbnMpO1xuICAgICAgICBjb25zdCBpc05hbWVFeGNsdWRlZCA9IEJvb2xlYW4od2FsbGV0Lm5hbWUpICYmXG4gICAgICAgICAgICBBcGlDb250cm9sbGVyLnN0YXRlLmV4Y2x1ZGVkV2FsbGV0cy5zb21lKHcgPT4gSGVscGVyc1V0aWwuaXNMb3dlckNhc2VNYXRjaCh3Lm5hbWUsIHdhbGxldC5uYW1lKSk7XG4gICAgICAgIHJldHVybiBpc1JETlNFeGNsdWRlZCB8fCBpc05hbWVFeGNsdWRlZDtcbiAgICB9LFxuICAgIG1hcmtXYWxsZXRzV2l0aERpc3BsYXlJbmRleCh3YWxsZXRzKSB7XG4gICAgICAgIHJldHVybiB3YWxsZXRzLm1hcCgodywgaW5kZXgpID0+ICh7IC4uLncsIGRpc3BsYXlfaW5kZXg6IGluZGV4IH0pKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgd2FsbGV0cyBiYXNlZCBvbiBXYWxsZXRDb25uZWN0IHN1cHBvcnQgYW5kIHBsYXRmb3JtIHJlcXVpcmVtZW50cy5cbiAgICAgKlxuICAgICAqIE9uIG1vYmlsZSBvbmx5IHdhbGxldHMgd2l0aCBXYWxsZXRDb25uZWN0IHN1cHBvcnQgYW5kIHNvbWUgbWFuZGF0b3J5IHdhbGxldHMgYXJlIHNob3duLlxuICAgICAqIE9uIGRlc2t0b3Agd2l0aCBBcHBraXQgQ29yZSBvbmx5IHdhbGxldHMgd2l0aCBXYWxsZXRDb25uZWN0IHN1cHBvcnQgYXJlIHNob3duLlxuICAgICAqIE9uIGRlc2t0b3Agd2l0aCBBcHBraXQgYWxsIHdhbGxldHMgYXJlIHNob3duLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdhbGxldHMgLSBBcnJheSBvZiB3YWxsZXRzIHRvIGZpbHRlclxuICAgICAqIEByZXR1cm5zIEZpbHRlcmVkIGFycmF5IG9mIHdhbGxldHMgYmFzZWQgb24gV2FsbGV0Q29ubmVjdCBzdXBwb3J0IGFuZCBwbGF0Zm9ybVxuICAgICAqL1xuICAgIGZpbHRlcldhbGxldHNCeVdjU3VwcG9ydCh3YWxsZXRzKSB7XG4gICAgICAgIGlmIChDb25uZWN0aW9uQ29udHJvbGxlci5zdGF0ZS53Y0Jhc2ljKSB7XG4gICAgICAgICAgICByZXR1cm4gd2FsbGV0cy5maWx0ZXIod2FsbGV0ID0+IHdhbGxldC5zdXBwb3J0c193Yyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENvcmVIZWxwZXJVdGlsLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWxsZXRzLmZpbHRlcih3YWxsZXQgPT4gd2FsbGV0LnN1cHBvcnRzX3djIHx8IENvbnN0YW50c1V0aWwuTUFOREFUT1JZX1dBTExFVF9JRFNfT05fTU9CSUxFLmluY2x1ZGVzKHdhbGxldC5pZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YWxsZXRzO1xuICAgIH0sXG4gICAgZ2V0V2FsbGV0Q29ubmVjdFdhbGxldHMoYWxsV2FsbGV0cykge1xuICAgICAgICBjb25zdCB3YWxsZXRzID0gWy4uLkFwaUNvbnRyb2xsZXIuc3RhdGUuZmVhdHVyZWQsIC4uLkFwaUNvbnRyb2xsZXIuc3RhdGUucmVjb21tZW5kZWRdO1xuICAgICAgICBpZiAoQXBpQ29udHJvbGxlci5zdGF0ZS5maWx0ZXJlZFdhbGxldHM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdhbGxldHMucHVzaCguLi5BcGlDb250cm9sbGVyLnN0YXRlLmZpbHRlcmVkV2FsbGV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3YWxsZXRzLnB1c2goLi4uYWxsV2FsbGV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5pcXVlV2FsbGV0cyA9IENvcmVIZWxwZXJVdGlsLnVuaXF1ZUJ5KHdhbGxldHMsICdpZCcpO1xuICAgICAgICBjb25zdCB3YWxsZXRzV2l0aEluc3RhbGxlZCA9IFdhbGxldFV0aWwubWFya1dhbGxldHNBc0luc3RhbGxlZCh1bmlxdWVXYWxsZXRzKTtcbiAgICAgICAgY29uc3Qgd2FsbGV0c0J5V2NTdXBwb3J0ID0gV2FsbGV0VXRpbC5maWx0ZXJXYWxsZXRzQnlXY1N1cHBvcnQod2FsbGV0c1dpdGhJbnN0YWxsZWQpO1xuICAgICAgICByZXR1cm4gV2FsbGV0VXRpbC5tYXJrV2FsbGV0c1dpdGhEaXNwbGF5SW5kZXgod2FsbGV0c0J5V2NTdXBwb3J0KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2FsbGV0VXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/WalletUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppKitError: () => (/* binding */ AppKitError),\n/* harmony export */   withErrorBoundary: () => (/* binding */ withErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var _controllers_TelemetryController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/TelemetryController.js */ \"(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/controllers/TelemetryController.js\");\n\nclass AppKitError extends Error {\n    constructor(message, category, originalError) {\n        super(message);\n        this.originalName = 'AppKitError';\n        this.name = 'AppKitError';\n        this.category = category;\n        this.originalError = originalError;\n        if (originalError && originalError instanceof Error) {\n            this.originalName = originalError.name;\n        }\n        // Ensure `this instanceof AppKitError` is true, important for custom errors.\n        Object.setPrototypeOf(this, AppKitError.prototype);\n        let isStackConstructedFromOriginal = false;\n        if (originalError instanceof Error &&\n            typeof originalError.stack === 'string' &&\n            originalError.stack) {\n            const originalErrorStack = originalError.stack;\n            /**\n             * Most error stacks start with \"ErrorName: ErrorMessage\\n...frames...\"\n             * We want to take the \"...frames...\" part.\n             */\n            const firstNewlineIndex = originalErrorStack.indexOf('\\n');\n            if (firstNewlineIndex > -1) {\n                const originalFrames = originalErrorStack.substring(firstNewlineIndex + 1);\n                this.stack = `${this.name}: ${this.message}\\n${originalFrames}`;\n                isStackConstructedFromOriginal = true;\n            }\n        }\n        if (!isStackConstructedFromOriginal) {\n            /**\n             * If stack was not (or could not be) constructed from originalError,\n             * generate a standard stack trace for this AppKitError instance.\n             * This will point to where `new AppKitError()` was called.\n             */\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, AppKitError);\n            }\n            else if (!this.stack) {\n                /**\n                 * Fallback for environments without Error.captureStackTrace.\n                 * `super(message)` might have set a stack.\n                 * If `this.stack` is still undefined/empty, provide a minimal one.\n                 * Node.js and modern browsers typically set `this.stack` from `super(message)`.\n                 */\n                this.stack = `${this.name}: ${this.message}`;\n            }\n        }\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction errorHandler(err, defaultCategory) {\n    let errMessage = '';\n    try {\n        if (err instanceof Error) {\n            errMessage = err.message;\n        }\n        else if (typeof err === 'string') {\n            errMessage = err;\n        }\n        else if (typeof err === 'object' && err !== null) {\n            if (Object.keys(err).length === 0) {\n                errMessage = 'Unknown error';\n            }\n            else {\n                errMessage = err?.message || JSON.stringify(err);\n            }\n        }\n        else {\n            errMessage = String(err);\n        }\n    }\n    catch (_error) {\n        errMessage = 'Unknown error';\n        // eslint-disable-next-line no-console\n        console.error('Error parsing error message', _error);\n    }\n    const error = err instanceof AppKitError ? err : new AppKitError(errMessage, defaultCategory, err);\n    _controllers_TelemetryController_js__WEBPACK_IMPORTED_MODULE_0__.TelemetryController.sendError(error, error.category);\n    throw error;\n}\nfunction withErrorBoundary(controller, defaultCategory = 'INTERNAL_SDK_ERROR') {\n    const newController = {};\n    Object.keys(controller).forEach(key => {\n        const original = controller[key];\n        if (typeof original === 'function') {\n            let wrapped = original;\n            if (original.constructor.name === 'AsyncFunction') {\n                wrapped = async (...args) => {\n                    try {\n                        return await original(...args);\n                    }\n                    catch (err) {\n                        return errorHandler(err, defaultCategory);\n                    }\n                };\n            }\n            else {\n                wrapped = (...args) => {\n                    try {\n                        return original(...args);\n                    }\n                    catch (err) {\n                        return errorHandler(err, defaultCategory);\n                    }\n                };\n            }\n            newController[key] = wrapped;\n        }\n        else {\n            newController[key] = original;\n        }\n    });\n    return newController;\n}\n//# sourceMappingURL=withErrorBoundary.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHJlb3duK2FwcGtpdC1jb250cm9sbGVyc0AxLjguMTctd2MtY2lyY3VsYXItZGVwZW5kZW5jaWVzLWZpeC4wX0B0eXBlcytyZWFjdEAxOS4yLjlfYnVmXzExOTZkYTBiNTFkNjM4NTkwYTAzOTM4OTg0OGRjMTJmL25vZGVfbW9kdWxlcy9AcmVvd24vYXBwa2l0LWNvbnRyb2xsZXJzL2Rpc3QvZXNtL3NyYy91dGlscy93aXRoRXJyb3JCb3VuZGFyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEU7QUFDckU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsSUFBSSxhQUFhLElBQUksZUFBZTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVLElBQUksYUFBYTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvRkFBbUI7QUFDdkI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYmVyZ3RhdHQvcHJvamVjdHMvZW10cHlsYWIvbGlrZWxpL25vZGVfbW9kdWxlcy8ucG5wbS9AcmVvd24rYXBwa2l0LWNvbnRyb2xsZXJzQDEuOC4xNy13Yy1jaXJjdWxhci1kZXBlbmRlbmNpZXMtZml4LjBfQHR5cGVzK3JlYWN0QDE5LjIuOV9idWZfMTE5NmRhMGI1MWQ2Mzg1OTBhMDM5Mzg5ODQ4ZGMxMmYvbm9kZV9tb2R1bGVzL0ByZW93bi9hcHBraXQtY29udHJvbGxlcnMvZGlzdC9lc20vc3JjL3V0aWxzL3dpdGhFcnJvckJvdW5kYXJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlbGVtZXRyeUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9UZWxlbWV0cnlDb250cm9sbGVyLmpzJztcbmV4cG9ydCBjbGFzcyBBcHBLaXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjYXRlZ29yeSwgb3JpZ2luYWxFcnJvcikge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE5hbWUgPSAnQXBwS2l0RXJyb3InO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXBwS2l0RXJyb3InO1xuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gICAgICAgIGlmIChvcmlnaW5hbEVycm9yICYmIG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbE5hbWUgPSBvcmlnaW5hbEVycm9yLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIGB0aGlzIGluc3RhbmNlb2YgQXBwS2l0RXJyb3JgIGlzIHRydWUsIGltcG9ydGFudCBmb3IgY3VzdG9tIGVycm9ycy5cbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFwcEtpdEVycm9yLnByb3RvdHlwZSk7XG4gICAgICAgIGxldCBpc1N0YWNrQ29uc3RydWN0ZWRGcm9tT3JpZ2luYWwgPSBmYWxzZTtcbiAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICAgICAgdHlwZW9mIG9yaWdpbmFsRXJyb3Iuc3RhY2sgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEVycm9yU3RhY2sgPSBvcmlnaW5hbEVycm9yLnN0YWNrO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBNb3N0IGVycm9yIHN0YWNrcyBzdGFydCB3aXRoIFwiRXJyb3JOYW1lOiBFcnJvck1lc3NhZ2VcXG4uLi5mcmFtZXMuLi5cIlxuICAgICAgICAgICAgICogV2Ugd2FudCB0byB0YWtlIHRoZSBcIi4uLmZyYW1lcy4uLlwiIHBhcnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmV3bGluZUluZGV4ID0gb3JpZ2luYWxFcnJvclN0YWNrLmluZGV4T2YoJ1xcbicpO1xuICAgICAgICAgICAgaWYgKGZpcnN0TmV3bGluZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEZyYW1lcyA9IG9yaWdpbmFsRXJyb3JTdGFjay5zdWJzdHJpbmcoZmlyc3ROZXdsaW5lSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrID0gYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9XFxuJHtvcmlnaW5hbEZyYW1lc31gO1xuICAgICAgICAgICAgICAgIGlzU3RhY2tDb25zdHJ1Y3RlZEZyb21PcmlnaW5hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1N0YWNrQ29uc3RydWN0ZWRGcm9tT3JpZ2luYWwpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgc3RhY2sgd2FzIG5vdCAob3IgY291bGQgbm90IGJlKSBjb25zdHJ1Y3RlZCBmcm9tIG9yaWdpbmFsRXJyb3IsXG4gICAgICAgICAgICAgKiBnZW5lcmF0ZSBhIHN0YW5kYXJkIHN0YWNrIHRyYWNlIGZvciB0aGlzIEFwcEtpdEVycm9yIGluc3RhbmNlLlxuICAgICAgICAgICAgICogVGhpcyB3aWxsIHBvaW50IHRvIHdoZXJlIGBuZXcgQXBwS2l0RXJyb3IoKWAgd2FzIGNhbGxlZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQXBwS2l0RXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBGYWxsYmFjayBmb3IgZW52aXJvbm1lbnRzIHdpdGhvdXQgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UuXG4gICAgICAgICAgICAgICAgICogYHN1cGVyKG1lc3NhZ2UpYCBtaWdodCBoYXZlIHNldCBhIHN0YWNrLlxuICAgICAgICAgICAgICAgICAqIElmIGB0aGlzLnN0YWNrYCBpcyBzdGlsbCB1bmRlZmluZWQvZW1wdHksIHByb3ZpZGUgYSBtaW5pbWFsIG9uZS5cbiAgICAgICAgICAgICAgICAgKiBOb2RlLmpzIGFuZCBtb2Rlcm4gYnJvd3NlcnMgdHlwaWNhbGx5IHNldCBgdGhpcy5zdGFja2AgZnJvbSBgc3VwZXIobWVzc2FnZSlgLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBgJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGVycm9ySGFuZGxlcihlcnIsIGRlZmF1bHRDYXRlZ29yeSkge1xuICAgIGxldCBlcnJNZXNzYWdlID0gJyc7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBlcnJNZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGVyciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGVyck1lc3NhZ2UgPSBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiYgZXJyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZXJyKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBlcnJNZXNzYWdlID0gJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyTWVzc2FnZSA9IGVycj8ubWVzc2FnZSB8fCBKU09OLnN0cmluZ2lmeShlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXJyTWVzc2FnZSA9IFN0cmluZyhlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgZXJyTWVzc2FnZSA9ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBlcnJvciBtZXNzYWdlJywgX2Vycm9yKTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBlcnIgaW5zdGFuY2VvZiBBcHBLaXRFcnJvciA/IGVyciA6IG5ldyBBcHBLaXRFcnJvcihlcnJNZXNzYWdlLCBkZWZhdWx0Q2F0ZWdvcnksIGVycik7XG4gICAgVGVsZW1ldHJ5Q29udHJvbGxlci5zZW5kRXJyb3IoZXJyb3IsIGVycm9yLmNhdGVnb3J5KTtcbiAgICB0aHJvdyBlcnJvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3aXRoRXJyb3JCb3VuZGFyeShjb250cm9sbGVyLCBkZWZhdWx0Q2F0ZWdvcnkgPSAnSU5URVJOQUxfU0RLX0VSUk9SJykge1xuICAgIGNvbnN0IG5ld0NvbnRyb2xsZXIgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhjb250cm9sbGVyKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gY29udHJvbGxlcltrZXldO1xuICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBsZXQgd3JhcHBlZCA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdBc3luY0Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHdyYXBwZWQgPSBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG9yaWdpbmFsKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZXJyLCBkZWZhdWx0Q2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyYXBwZWQgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZXJyLCBkZWZhdWx0Q2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0NvbnRyb2xsZXJba2V5XSA9IHdyYXBwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdDb250cm9sbGVyW2tleV0gPSBvcmlnaW5hbDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdDb250cm9sbGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2l0aEVycm9yQm91bmRhcnkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@reown+appkit-controllers@1.8.17-wc-circular-dependencies-fix.0_@types+react@19.2.9_buf_1196da0b51d638590a039389848dc12f/node_modules/@reown/appkit-controllers/dist/esm/src/utils/withErrorBoundary.js\n");

/***/ })

};
;